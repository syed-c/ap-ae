const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/OverviewTab-VA4cJMkF.js","assets/chunk-CPh6voF3.js","assets/chunk-CffrGP6S.js","assets/index-DflORfjh.js","assets/chunk-B8auUmee.js","assets/chunk-DK8nT4cj.js","assets/chunk-Drd-rt-S.js","assets/chunk-BEQ5VEiB.js","assets/chunk-yff5u8mE.js","assets/chunk-xExVBHTi.js","assets/index-CigGl4-1.css","assets/chunk-DSDQubI6.js","assets/chunk-Dwq_v72W.js","assets/chunk-DR32GIZ2.js","assets/chunk-DbdCK11k.js","assets/chunk-aAsotRsv.js","assets/chunk-B0DPEAZ9.js","assets/chunk-HAC-i_a2.js","assets/chunk-D2X27E5n.js","assets/chunk-B7d2qnKb.js","assets/chunk-Bl7VVhKV.js","assets/chunk-wy0nNZZG.js","assets/chunk-BOvFDp2b.js","assets/chunk-C2VW2Ml6.js","assets/chunk-CcezodbN.js","assets/chunk-BaL04tya.js","assets/chunk-CyRXX0qx.js","assets/chunk-DncHrJ4I.js","assets/LocationsTab-WBTDd8ce.js","assets/chunk-DlLtMEml.js","assets/chunk-BSjc5zjM.js","assets/chunk-DfjE-bP6.js","assets/chunk-NLs5Ye4A.js","assets/chunk-k8HiDHrE.js","assets/chunk-CEjy5RHq.js","assets/chunk-CKWDY2Lf.js","assets/chunk-BiqSGqdV.js","assets/chunk-GLPyMM0F.js","assets/chunk-CbEmr7WL.js","assets/chunk-D4OU6rOw.js","assets/chunk-FxOzQZIr.js","assets/chunk-7oaXC-Tp.js","assets/chunk-CwDzaQ9n.js","assets/chunk-D0B-jfny.js","assets/chunk-Beq7cUgv.js","assets/chunk-qKgaU6ML.js","assets/chunk-Dfi7JVLs.js","assets/chunk-B51FxpoB.js","assets/chunk-I1o_Hd8I.js","assets/chunk-CbETxTmt.js","assets/chunk-j7XJPWWF.js","assets/chunk-CedtSHBb.js","assets/chunk-B_ghW3Ra.js","assets/TreatmentsTab-B2IY0NT0.js","assets/chunk--UsBvJF_.js","assets/chunk-BRVan1jG.js","assets/ClinicsTab-Bge7AYCd.js","assets/chunk-Bt-k3HAA.js","assets/chunk-LOsYkUiN.js","assets/chunk-CzCas5F3.js","assets/chunk-CTiJdJKN.js","assets/chunk-B-oTuC6Z.js","assets/ClaimsTab-DPMv7GtS.js","assets/UsersTab-Dn1vv4te.js","assets/chunk-BMzWzDrf.js","assets/chunk-D3rEHCqk.js","assets/chunk-DFAtUk_4.js","assets/chunk-D2pmmVk_.js","assets/chunk-j3aWteJX.js","assets/chunk-B7tIy7xU.js","assets/chunk-DKBZeOHc.js","assets/AppointmentsTab-CObtxOBq.js","assets/chunk-z-mlRDN4.js","assets/chunk-CuKfZjsP.js","assets/chunk-BFhD_ct7.js","assets/chunk-CJX3t94M.js","assets/chunk-w-lBasWP.js","assets/chunk-CaZUr2rj.js","assets/LeadsTab-Dc7J3R8n.js","assets/chunk-CFYlT1Dp.js","assets/PagesTab-C-oQSlMk.js","assets/chunk-fofMllkR.js","assets/chunk-Cd8N9UEo.js","assets/chunk-D4Vl1TkM.js","assets/chunk-z7Kqt5JR.js","assets/chunk-oOYeAGgD.js","assets/chunk-C14yCe0w.js","assets/chunk-DZK1lt0q.js","assets/chunk-BRjFAgpB.js","assets/chunk-C7BdFRQZ.js","assets/BlogTab-CL9uhuZY.js","assets/chunk-BY_S87Nl.js","assets/chunk-DqEkDSiw.js","assets/chunk-CG1o0-Xj.js","assets/chunk-Bvo6Oh0W.js","assets/chunk-B0x3dbdo.js","assets/SeoTab-BeG84-uJ.js","assets/chunk-K8HBjO-X.js","assets/chunk-ByjWEnRc.js","assets/chunk-DfRibLnA.js","assets/AutomationTab-BVw85mi8.js","assets/chunk-C4_bt_FT.js","assets/chunk-BP9BFbSw.js","assets/RolesTab-BjTpqHh1.js","assets/SubscriptionsTab-DSIqpRDE.js","assets/chunk-HiDpIwK7.js","assets/chunk-DI0yTdYZ.js","assets/AuditLogsTab-DsDNMAa8.js","assets/GmbBridgeTab-CpGwCpvy.js","assets/GmbScraperBotTab-BZH1Ve_m.js","assets/OutreachTab-eBwlBcIg.js","assets/chunk-9wfNkVpc.js","assets/chunk-C8UDNHIm.js","assets/chunk-_WnrCass.js","assets/SettingsTab-BRcgDF9P.js","assets/chunk-CzOt8Wyl.js","assets/chunk-BcKWIjsB.js","assets/SiteConfigTab-CnYvvYz8.js","assets/SmokeTestTab-BJvhFhQK.js","assets/RankingRulesTab-BGUny-H8.js","assets/ReviewInsightsTab-CzOLv9IV.js","assets/chunk-BLd3XU4A.js","assets/SeoCopilotTab-mPnIyFXY.js","assets/CrmNumbersTab-jPbIWY8R.js","assets/MessagingControlTab-CKE0f8Qo.js","assets/PlansTab-BZ5JWxu4.js","assets/chunk-CQtADEjB.js","assets/PromotionsTab-SvRMU4al.js","assets/chunk-bmpXwoJk.js","assets/chunk-BcyAVLmp.js","assets/FounderWeeklyTab-WwribTKy.js","assets/chunk-B2Rulxe9.js","assets/TopDentistsTab-B9Lw-GwO.js","assets/chunk-BrfF1Wgp.js","assets/PinnedProfilesTab-CeltENOq.js","assets/DentistDashboardTab-BWAQpNtx.js","assets/chunk-CDkOFsI-.js","assets/chunk-Cq66vzLV.js","assets/chunk-C76wK-Kz.js","assets/chunk-C_nua8Pg.js","assets/chunk-I5uVO93-.js","assets/ProfileEditorTab-CP7kEL-t.js","assets/chunk-kjwVS8vq.js","assets/ServicesTab-6OXmIxP6.js","assets/chunk-BQwaAkM6.js","assets/DentistReviewsTab-DCUnMqIg.js","assets/chunk-DR0VO1o8.js","assets/chunk-Dq1MrkKO.js","assets/DentistAppointmentsTab-D8egsVsI.js","assets/chunk-Df_5lNy2.js","assets/PatientsTab-BpDLXaxA.js","assets/chunk-DnhFyEPV.js","assets/MessagesTab-Cc7rag-7.js","assets/chunk-8P_iFEn-.js","assets/chunk-CyKl6YHG.js","assets/chunk-BvZfqwfW.js","assets/chunk-B46JjdBY.js","assets/OperationsTab-D7Sf_jmG.js","assets/ReviewRequestsTab-BciciNll.js","assets/ReputationGrowthTab-BS_0A2Mx.js","assets/DentistReputationHub-BWOUGhBI.js","assets/chunk-BdAozh8S.js","assets/chunk-C077LRJi.js","assets/AdminReputationHub-Cv-4vyAj.js","assets/SupportTicketsTab-Bwfk6ffo.js","assets/TeamManagementTab-BXX6UetM.js","assets/chunk-DrzOALbo.js","assets/DentistSettingsTab-D1NsW7r4.js","assets/TemplatesTab-a_xO-NUp.js","assets/InsuranceManagementTab-DhekUl8B.js","assets/IntakeFormsTab-B3-tzEK5.js","assets/chunk-DV8-8yGh.js","assets/AIControlsTab-B8xAVobJ.js","assets/chunk-C2a9wZiP.js","assets/AISearchControlTab-BrI7LGR7.js","assets/ApiControlTab-AhVrpvT-.js","assets/chunk-C2HaaarX.js","assets/PlatformServicesTab-BjvmcEzq.js","assets/SupportTicketsAdminTab-DTF_ng_Q.js","assets/GMBConnectionsTab-DyWG4xp2.js","assets/ContactDetailsTab-6z2cNTD-.js","assets/SeoBotTab-BmdMW5bh.js","assets/SeoContentOptimizerTab-DevefkjU.js","assets/chunk-Bdl4gyLq.js","assets/chunk-CFui2uTv.js","assets/chunk-f2aNMA4v.js","assets/SeoExpertTab-DEJKsRXC.js","assets/SeoCommandCenterTab-awXqsI1P.js","assets/RankingControlCenterTab-obmlYCL-.js","assets/SeoOperationsCenterTab-42WvCZTQ.js","assets/ContentGenerationStudioTab-BC8LR28w.js","assets/chunk-BIb-dHdK.js","assets/chunk-Bpcq5jED.js","assets/FAQGenerationStudioTab-CA3cdI_4.js","assets/ContentAuditBotTab-lDYvggWW.js","assets/Phase2SprintHubTab-CFEHMxbF.js","assets/Phase3SprintHubTab-BO-rXunP.js","assets/chunk-BCvbbygb.js","assets/Phase4SprintHubTab-DWwDPg1e.js","assets/chunk-DLwp5n63.js","assets/chunk-BZxg8uu_.js","assets/ClinicEnrichmentTab-BaMsWmXL.js","assets/EmailEnrichmentBotTab-BcBh0JvT.js","assets/SystemAuditTab-B3sn2nBM.js","assets/FeatureFlagsTab-BVrfS7KZ.js","assets/MarketplaceControlTab-BZEJEFb2.js","assets/chunk-DpLtiXM0.js","assets/BookingSystemTab-D3czASf8.js","assets/TabVisibilityTab-D52c7j2A.js","assets/VisitorAnalyticsTab-B_BYTE7K.js","assets/StaticPagesTab-ZdxWSZeb.js","assets/SeoHealthCheckTab-37Vdz1UQ.js","assets/MetaOptimizerTab-S39QLter.js","assets/chunk-4cd3rYYj.js","assets/GeoExpansionTab-DKIHoKzF.js","assets/MicroLocationCoverageTab-DS0PrtFJ.js","assets/StructuredDataTab-acevFj_O.js","assets/ToolsManagementTab-D7EOwDtP.js","assets/AvailabilityManagementTab-C2I0Pfgs.js","assets/chunk-8Vpa5_RZ.js","assets/AppointmentTypesTab-ocNpb1T1.js","assets/MigrationControlTab-mWQJoOwe.js","assets/DataRecoveryTab-CjKU5Zwe.js","assets/AdminRevertTab-8zK_QQoi.js","assets/ContentCommandCenterTab-BUs5UZSV.js","assets/InternalLinkingHubTab-Bg2rfdsk.js","assets/chunk-CKGg_XGJ.js","assets/ContentStrategyTab-l0uSoHoH.js","assets/PriceComparisonControlTab-BgZI9_9L.js","assets/DentistDashboardV2-DS2llslL.js"])))=>i.map(i=>d[i]);
import{f as Y,s as u,b as g,u as D,D as we,h as Ie,B as T,i as K,j as Re,k as Pe,S as _e,l as f,X as be,m as M,n as F,o as A,p as S,C as De,q as pe,M as Le,r as t,_ as i,t as Ne,v as Q,U as H,Z as P,w as he,T as V,x as re,G as E,y as R,z as Oe,A as ne,E as z,P as oe}from"./index-DflORfjh.js";import{u as w,b as I,c as L,j as e}from"./chunk-CPh6voF3.js";import{r as h}from"./chunk-CffrGP6S.js";import{u as ke,a as Ce,c as Ve,N as U}from"./chunk-Drd-rt-S.js";import{c as Se}from"./chunk-BSjc5zjM.js";import{T as qe,a as Me,b as ce,c as Fe}from"./chunk-k8HiDHrE.js";import{B as q,S as Z,L as Be,a as xe,I as ze,A as j,P as Ue}from"./chunk-C2VW2Ml6.js";import{I as ge}from"./chunk-I1o_Hd8I.js";import{f as Ge}from"./chunk-CyRXX0qx.js";import{E as Ke}from"./chunk-CbETxTmt.js";import{C as $,a as W}from"./chunk-j7XJPWWF.js";import{F as X}from"./chunk-BaL04tya.js";import{T as Qe}from"./chunk-DbdCK11k.js";import{C as He}from"./chunk-GLPyMM0F.js";import{D as le}from"./chunk-CedtSHBb.js";import{M as de}from"./chunk-B7d2qnKb.js";import{U as $e}from"./chunk-D2X27E5n.js";import{B as G}from"./chunk-Bl7VVhKV.js";import{B as We}from"./chunk-B_ghW3Ra.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=Y("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=Y("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=Y("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);function xs(s={}){return w({queryKey:["admin-appointments",s],queryFn:async()=>{let a=u.from("appointments").select("*, manage_token, clinic:clinics!appointments_clinic_id_fkey(id, name, slug), dentist:dentists(id, name), treatment:treatments(id, name)").order("created_at",{ascending:!1});s.status&&(a=a.eq("status",s.status)),s.clinicId&&(a=a.eq("clinic_id",s.clinicId)),s.dentistId&&(a=a.eq("dentist_id",s.dentistId)),s.treatmentId&&(a=a.eq("treatment_id",s.treatmentId)),s.dateFrom&&(a=a.gte("preferred_date",s.dateFrom)),s.dateTo&&(a=a.lte("preferred_date",s.dateTo)),s.isDisputed!==void 0&&(a=a.eq("is_disputed",s.isDisputed)),s.source&&(a=a.eq("source",s.source));const{data:r,error:c}=await a.limit(500);if(c)throw c;return r}})}function gs(){const s=I();return L({mutationFn:async({id:a,updates:r,sendNotification:c=!0})=>{const{data:o}=await u.from("appointments").select("*").eq("id",a).single(),{error:m}=await u.from("appointments").update(r).eq("id",a);if(m)throw m;if(await Se({action:"UPDATE",entityType:"appointment",entityId:a,oldValues:o,newValues:r}),c&&r.status&&o?.status!==r.status&&u.functions.invoke("send-booking-email",{body:{appointmentId:a,type:"status_update",newStatus:r.status}}).then(d=>{d.error?console.warn("Email notification may have failed:",d.error):d.data?.success?g.success(`Email sent to ${d.data.to}`):d.data?.error&&console.warn("Email not sent:",d.data.error)}).catch(d=>{console.warn("Email notification request error (may still be processing):",d)}),c&&r.status&&o?.status!==r.status)try{const d=await u.functions.invoke("send-appointment-notification",{body:{appointmentId:a,newStatus:r.status,oldStatus:o?.status,confirmedDate:r.confirmed_date,confirmedTime:r.confirmed_time}});d.error&&console.error("Failed to send SMS notification:",d.error)}catch(d){console.error("SMS notification error:",d)}},onSuccess:()=>{s.invalidateQueries({queryKey:["admin-appointments"]}),g.success("Appointment updated")},onError:a=>g.error("Failed: "+a.message)})}function fs(){return w({queryKey:["dentist-booking-counts"],queryFn:async()=>{const{data:s,error:a}=await u.from("appointments").select("dentist_id, dentist:dentists(id, name)").not("dentist_id","is",null);if(a)throw a;const r={};return s.forEach(c=>{const o=c.dentist_id,m=c.dentist?.name||"Unknown";r[o]||(r[o]={name:m,count:0}),r[o].count++}),Object.entries(r).map(([c,{name:o,count:m}])=>({id:c,name:o,count:m})).sort((c,o)=>o.count-c.count)}})}function Je(){return w({queryKey:["booking-notifications"],queryFn:async()=>{const{data:s,error:a}=await u.from("booking_notifications").select("*").eq("is_read",!1).order("created_at",{ascending:!1}).limit(50);if(a)throw a;return s}})}function et(){const s=I();return L({mutationFn:async a=>{const{error:r}=await u.from("booking_notifications").update({is_read:!0}).eq("id",a);if(r)throw r},onSuccess:()=>{s.invalidateQueries({queryKey:["booking-notifications"]})}})}function fe(){const{user:s,roles:a}=D();return w({queryKey:["platform-notifications",s?.id],queryFn:async()=>{if(!s)return[];const{data:r,error:c}=await u.from("platform_notifications").select("*").or(`user_id.eq.${s.id},and(user_id.is.null,role.in.(${a.join(",")}))`).eq("is_dismissed",!1).order("created_at",{ascending:!1}).limit(50);if(c)throw c;return r},enabled:!!s,refetchInterval:3e4})}function tt(){const{data:s}=fe();return s?.filter(a=>!a.is_read).length||0}function it(){const s=I();return L({mutationFn:async a=>{const{error:r}=await u.from("platform_notifications").update({is_read:!0}).eq("id",a);if(r)throw r},onSuccess:()=>{s.invalidateQueries({queryKey:["platform-notifications"]})}})}function st(){const s=I(),{user:a}=D();return L({mutationFn:async()=>{if(!a)return;const{error:r}=await u.from("platform_notifications").update({is_read:!0}).eq("user_id",a.id).eq("is_read",!1);if(r)throw r},onSuccess:()=>{s.invalidateQueries({queryKey:["platform-notifications"]}),g.success("All notifications marked as read")}})}function at(){const s=I();return L({mutationFn:async a=>{const{error:r}=await u.from("platform_notifications").update({is_dismissed:!0}).eq("id",a);if(r)throw r},onSuccess:()=>{s.invalidateQueries({queryKey:["platform-notifications"]})}})}function rt(){const s=I(),{user:a}=D();h.useEffect(()=>{if(!a)return;const r=u.channel("platform-notifications").on("postgres_changes",{event:"INSERT",schema:"public",table:"platform_notifications",filter:`user_id=eq.${a.id}`},c=>{s.invalidateQueries({queryKey:["platform-notifications"]});const o=c.new;o.severity==="error"?g.error(o.title,{description:o.message}):o.severity==="warning"?g.warning(o.title,{description:o.message}):o.severity==="success"?g.success(o.title,{description:o.message}):g.info(o.title,{description:o.message})}).subscribe();return()=>{u.removeChannel(r)}},[a,s])}const nt={appointment:M,review:F,claim:A,payment:$,oauth:Ze,seo:S,system:Z,content:X,general:q},ot={info:ge,warning:Qe,error:He,success:De},ct={info:"bg-blue-50 border-blue-200 text-blue-700",warning:"bg-amber-50 border-amber-200 text-amber-700",error:"bg-red-50 border-red-200 text-red-700",success:"bg-emerald-50 border-emerald-200 text-emerald-700"};function lt(){const{data:s=[],isLoading:a}=fe(),r=tt(),c=it(),o=st(),m=at(),[d,y]=h.useState("all"),_=d==="unread"?s.filter(l=>!l.is_read):s,v=l=>{if(l.is_read||c.mutate(l.id),l.action_url)try{const x=new URL(l.action_url,window.location.origin);if(x.origin!==window.location.origin){console.error("External redirect blocked:",l.action_url),g.error("Invalid notification link");return}window.location.href=x.pathname+x.search+x.hash}catch{l.action_url.startsWith("/")?window.location.href=l.action_url:(console.error("Invalid notification URL format:",l.action_url),g.error("Invalid notification link"))}};return e.jsxs(we,{children:[e.jsx(Ie,{asChild:!0,children:e.jsxs(T,{variant:"ghost",size:"icon",className:"relative",children:[e.jsx(q,{className:"h-5 w-5"}),r>0&&e.jsx(K,{className:"absolute -top-1 -right-1 h-5 min-w-5 flex items-center justify-center p-0 text-xs bg-coral border-0",children:r>99?"99+":r})]})}),e.jsxs(Re,{align:"end",className:"w-96 p-0",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[e.jsx("h3",{className:"font-semibold",children:"Notifications"}),e.jsx("div",{className:"flex items-center gap-2",children:r>0&&e.jsxs(T,{variant:"ghost",size:"sm",className:"text-xs",onClick:()=>o.mutate(),children:[e.jsx(Pe,{className:"h-3 w-3 mr-1"}),"Mark all read"]})})]}),e.jsxs(qe,{value:d,onValueChange:l=>y(l),children:[e.jsxs(Me,{className:"w-full rounded-none border-b",children:[e.jsx(ce,{value:"all",className:"flex-1 rounded-none",children:"All"}),e.jsxs(ce,{value:"unread",className:"flex-1 rounded-none",children:["Unread (",r,")"]})]}),e.jsx(Fe,{value:d,className:"m-0",children:e.jsx(_e,{className:"h-96",children:a?e.jsx("div",{className:"flex items-center justify-center p-8",children:e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary"})}):_.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center p-8 text-center",children:[e.jsx(q,{className:"h-12 w-12 text-muted-foreground/30 mb-3"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:d==="unread"?"No unread notifications":"No notifications yet"})]}):e.jsx("div",{className:"divide-y",children:_.map(l=>{const x=nt[l.category]||q,N=ot[l.severity]||ge;return e.jsx("div",{className:f("p-4 hover:bg-muted/50 cursor-pointer transition-colors relative group",!l.is_read&&"bg-primary/5"),onClick:()=>v(l),children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("div",{className:f("h-10 w-10 rounded-xl flex items-center justify-center shrink-0 border",ct[l.severity]),children:e.jsx(N,{className:"h-5 w-5"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsx("p",{className:f("text-sm",!l.is_read&&"font-semibold"),children:l.title}),!l.is_read&&e.jsx("div",{className:"h-2 w-2 rounded-full bg-primary shrink-0 mt-1.5"})]}),e.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2 mt-0.5",children:l.message}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsxs(K,{variant:"secondary",className:"text-[10px] h-5",children:[e.jsx(x,{className:"h-3 w-3 mr-1"}),l.category]}),e.jsx("span",{className:"text-[10px] text-muted-foreground",children:Ge(new Date(l.created_at),{addSuffix:!0})})]}),l.action_url&&e.jsxs(T,{variant:"ghost",size:"sm",className:"text-xs mt-2 h-7 px-2",children:["View details",e.jsx(Ke,{className:"h-3 w-3 ml-1"})]})]}),e.jsx(T,{variant:"ghost",size:"icon",className:"h-6 w-6 opacity-0 group-hover:opacity-100 transition-opacity shrink-0",onClick:b=>{b.stopPropagation(),m.mutate(l.id)},children:e.jsx(be,{className:"h-3 w-3"})})]})},l.id)})})})})]})]})]})}const dt={adminTabs:{},dentistTabs:{}};function ut(){const{data:s,isLoading:a}=w({queryKey:["tab-visibility-settings"],queryFn:async()=>{const{data:c,error:o}=await u.from("global_settings").select("*").eq("key","tab_visibility").maybeSingle();if(o)throw o;return c?.value},staleTime:6e4,gcTime:3e5});return{visibility:s??dt,isLoading:a,isTabVisible:(c,o)=>{if(!s)return!0;const m=o==="admin"?s.adminTabs:s.dentistTabs;return m[c]===void 0?!0:m[c]}}}function mt(){const{user:s,roles:a}=D(),r=a.includes("super_admin")||a.includes("district_manager"),{data:c,isLoading:o}=w({queryKey:["user-tab-access",s?.id],queryFn:async()=>{if(!s?.id)return[];const{data:y,error:_}=await u.from("user_tab_permissions").select("tab_key, can_access").eq("user_id",s.id).eq("can_access",!0);if(_)throw _;return y?.map(v=>v.tab_key)||[]},enabled:!!s?.id&&!r,staleTime:3e4});return{canAccessTab:y=>r?!0:!c||c.length===0?!1:c.includes(y),getAccessibleTabs:()=>r?[]:c||[],hasFullAccess:r,isLoading:o,permissionCount:c?.length||0}}const ue=t(()=>i(()=>import("./OverviewTab-VA4cJMkF.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27]))),_t=t(()=>i(()=>import("./LocationsTab-WBTDd8ce.js"),__vite__mapDeps([28,1,2,29,3,4,5,6,7,8,9,10,30,12,31,32,33,11,34,35,22,36,37,38,39,40,25,41,42,43,44,45,24,17,46,47,23,48,26,27,49,50,14,51,19,18,20,52]))),bt=t(()=>i(()=>import("./TreatmentsTab-B2IY0NT0.js"),__vite__mapDeps([53,1,2,3,4,5,6,7,8,9,10,30,12,31,32,54,17,47,55]))),pt=t(()=>i(()=>import("./ClinicsTab-Bge7AYCd.js"),__vite__mapDeps([56,1,2,3,4,5,6,7,8,9,10,57,30,29,58,12,31,54,32,33,17,22,59,47,60,61,18,55,25]))),ht=t(()=>i(()=>import("./ClaimsTab-DPMv7GtS.js"),__vite__mapDeps([62,1,2,3,4,5,6,7,8,9,10,30,12,32,38]))),xt=t(()=>i(()=>import("./UsersTab-Dn1vv4te.js"),__vite__mapDeps([63,1,2,58,3,4,5,6,7,8,9,10,12,32,18,64,35,54,17,65,66,67,68,24,49,44,69,61,55,70]))),gt=t(()=>i(()=>import("./AppointmentsTab-CObtxOBq.js"),__vite__mapDeps([71,1,2,3,4,5,6,7,8,9,10,12,32,22,72,73,16,38,14,21,65,74,49,24,75,26,27,76,77,30,33,23,48,50,25,37,51,19,18,20,52]))),ft=t(()=>i(()=>import("./LeadsTab-Dc7J3R8n.js"),__vite__mapDeps([78,1,2,3,4,5,6,7,8,9,10,30,12,32,18,38,79,19,14]))),vt=t(()=>i(()=>import("./PagesTab-C-oQSlMk.js"),__vite__mapDeps([80,1,2,3,4,5,6,7,8,9,10,30,81,57,82,83,39,12,31,33,32,17,25,52,24,46,47,49,84,85,86,87,88,55,89]))),Tt=t(()=>i(()=>import("./BlogTab-CL9uhuZY.js"),__vite__mapDeps([90,1,2,82,3,4,5,6,7,8,9,10,30,83,12,31,32,54,91,33,17,87,92,55,93,86,25,52,24,46,94,22,14,95,49,47]))),yt=t(()=>i(()=>import("./SeoTab-BeG84-uJ.js"),__vite__mapDeps([96,1,2,3,4,5,6,7,8,9,10,30,81,29,57,82,83,12,31,11,33,32,22,14,25,97,21,95,98,87,49,99]))),jt=t(()=>i(()=>import("./AutomationTab-BVw85mi8.js"),__vite__mapDeps([100,1,2,12,3,4,5,6,7,8,9,10,31,32,33,22,101,17,20,38,47,55,23,102,51,19]))),Et=t(()=>i(()=>import("./RolesTab-BjTpqHh1.js"),__vite__mapDeps([103,1,2,12,3,4,5,6,7,8,9,10,31,32,33,58,30,65,24,46,47,18,17,14,23,55,48,26,27,49,50,25,37,51,19,20,52]))),At=t(()=>i(()=>import("./SubscriptionsTab-DSIqpRDE.js"),__vite__mapDeps([104,1,2,3,4,5,6,7,8,9,10,57,30,12,32,33,11,72,17,105,14,21,68,38,22,50,106]))),wt=t(()=>i(()=>import("./AuditLogsTab-DsDNMAa8.js"),__vite__mapDeps([107,1,2,3,4,5,6,7,8,9,10,12,32,50]))),It=t(()=>i(()=>import("./GmbBridgeTab-CpGwCpvy.js"),__vite__mapDeps([108,1,2,29,3,4,5,6,7,8,9,10,30,12,32,91,14,48,72]))),Rt=t(()=>i(()=>import("./GmbScraperBotTab-BZH1Ve_m.js"),__vite__mapDeps([109,1,2,3,4,5,6,7,8,9,10,12,11,91,40,20,51,55,43,45,14,72,44,22]))),Pt=t(()=>i(()=>import("./OutreachTab-eBwlBcIg.js"),__vite__mapDeps([110,1,2,3,4,5,6,7,8,9,10,12,31,32,33,91,24,111,17,112,113,47,25,37,21]))),Dt=t(()=>i(()=>import("./SettingsTab-BRcgDF9P.js"),__vite__mapDeps([114,1,2,3,4,5,6,7,8,9,10,12,31,33,30,11,115,22,49,14,38,98,21,23,89,116,51,74,50,46,24,48,26,27,25,37,19,18,20,52]))),Lt=t(()=>i(()=>import("./SiteConfigTab-CnYvvYz8.js"),__vite__mapDeps([117,1,2,3,4,5,6,7,8,9,10,12,31,33,32,30,89,17,92,47,55,25,93]))),Nt=t(()=>i(()=>import("./SmokeTestTab-BJvhFhQK.js"),__vite__mapDeps([118,1,2,3,4,5,6,7,8,9,10,12,32,22,38,37,25]))),Ot=t(()=>i(()=>import("./RankingRulesTab-BGUny-H8.js"),__vite__mapDeps([119,1,2,3,4,5,6,7,8,9,10,12,40,31,32,33,22,89,23,14,24,21]))),kt=t(()=>i(()=>import("./ReviewInsightsTab-CzOLv9IV.js"),__vite__mapDeps([120,1,2,3,4,5,6,7,8,9,10,12,32,33,11,23,19,121,16,14,21,24,30,48,26,27,49,50,25,37,51,18,20,52]))),Ct=t(()=>i(()=>import("./SeoCopilotTab-mPnIyFXY.js"),__vite__mapDeps([122,1,2,3,4,5,6,7,8,9,10,12,32,33,30,20,22,14,95,25]))),Vt=t(()=>i(()=>import("./CrmNumbersTab-jPbIWY8R.js"),__vite__mapDeps([123,1,2,3,4,5,6,7,8,9,10,12,31,32,17,19,47,55]))),St=t(()=>i(()=>import("./MessagingControlTab-CKE0f8Qo.js"),__vite__mapDeps([124,1,2,3,4,5,6,7,8,9,10,12,31,33,32,19,38,14,24,112,113]))),qt=t(()=>i(()=>import("./PlansTab-BZ5JWxu4.js"),__vite__mapDeps([125,1,2,3,4,5,6,7,8,9,10,12,31,32,33,126,91,30,106,89,17,14,47,38,79,93,21,23]))),Mt=t(()=>i(()=>import("./PromotionsTab-SvRMU4al.js"),__vite__mapDeps([127,1,2,3,4,5,6,7,8,9,10,12,32,30,106,128,38,76,129]))),Ft=t(()=>i(()=>import("./FounderWeeklyTab-WwribTKy.js"),__vite__mapDeps([130,1,2,3,4,5,6,7,8,9,10,12,11,105,13,14,21,88,131,15]))),Bt=t(()=>i(()=>import("./TopDentistsTab-B9Lw-GwO.js"),__vite__mapDeps([132,1,2,3,4,5,6,7,8,9,10,12,32,30,89,133,22,88]))),zt=t(()=>i(()=>import("./PinnedProfilesTab-CeltENOq.js"),__vite__mapDeps([134,1,2,3,4,5,6,7,8,9,10,12,32,31,89,133,55,88]))),me=t(()=>i(()=>import("./DentistDashboardTab-BWAQpNtx.js"),__vite__mapDeps([135,1,2,6,3,4,5,7,8,9,10,12,126,136,17,14,137,81,11,25,23,18,19,121,26,27,138,16,15,38,37,77,75,87,139,31,115,89,22,13,140,24,47,50,128]))),Ut=t(()=>i(()=>import("./ProfileEditorTab-CP7kEL-t.js"),__vite__mapDeps([141,3,1,2,4,5,6,7,8,9,10,12,126,30,89,142,116,49,37,87,93,17,55]))),Gt=t(()=>i(()=>import("./ServicesTab-6OXmIxP6.js"),__vite__mapDeps([143,1,2,3,4,5,6,7,8,9,10,12,126,30,144,137,81,11,25,17,55])));t(()=>i(()=>import("./DentistReviewsTab-DCUnMqIg.js"),__vite__mapDeps([145,1,2,6,3,4,5,7,8,9,10,126,12,33,146,31,24,44,112,72,87,116,84,23,89,147,140,93,121,74,49,21,19])));const Kt=t(()=>i(()=>import("./DentistAppointmentsTab-D8egsVsI.js"),__vite__mapDeps([148,1,2,6,3,4,5,7,8,9,10,12,126,33,149,26,27,38,75]))),Qt=t(()=>i(()=>import("./PatientsTab-BpDLXaxA.js"),__vite__mapDeps([150,1,2,3,4,5,6,7,8,9,10,12,126,31,149,144,137,81,11,25,17,116,18,19,68,151,24,72]))),Ht=t(()=>i(()=>import("./MessagesTab-Cc7rag-7.js"),__vite__mapDeps([152,1,2,3,4,5,6,7,8,9,10,147,12,126,33,144,137,81,11,25,17,153,154,155,156,19,106,37,38,23,16]))),$t=t(()=>i(()=>import("./OperationsTab-D7Sf_jmG.js"),__vite__mapDeps([157,1,2,3,4,5,6,7,8,9,10,147,12,31,126,33,144,137,81,11,25,17,153,154,155,156,23,19,106,89,37,22])));t(()=>i(()=>import("./ReviewRequestsTab-BciciNll.js"),__vite__mapDeps([158,1,2,3,4,5,6,7,8,9,10,147,12,32,126,19,50,17,38])));t(()=>i(()=>import("./ReputationGrowthTab-BS_0A2Mx.js"),__vite__mapDeps([159,1,2,6,3,4,5,7,8,9,10,12,11,33,126,146,31,24,44,112,72,87,116,84,23,89,147,37,13,140,21,74,121,19,49])));const Wt=t(()=>i(()=>import("./DentistReputationHub-BWOUGhBI.js"),__vite__mapDeps([160,1,2,161,3,4,5,6,7,8,9,10,126,12,33,11,121,19,14,23,16,140,22,24,15,31,115,30,37,95,89,49,112,146,44,72,87,116,84,21,74,25,17,47,55,88,138,151,162,144,137,81]))),Yt=t(()=>i(()=>import("./AdminReputationHub-Cv-4vyAj.js"),__vite__mapDeps([163,1,2,3,4,5,6,7,8,9,10,33,12,11,126,23,19,14,128,13,121,24,15,30,37,31,21,17,25,47,22,38,50,72,48,26,27,49,51,18,20,52]))),Zt=t(()=>i(()=>import("./SupportTicketsTab-Bwfk6ffo.js"),__vite__mapDeps([164,1,2,6,3,4,5,7,8,9,10,12,126,86,17,19]))),Xt=t(()=>i(()=>import("./TeamManagementTab-BXX6UetM.js"),__vite__mapDeps([165,1,2,3,4,5,6,7,8,9,10,12,126,30,144,137,81,11,25,17,149,106,59,47,55,166,128,65,31,116]))),Jt=t(()=>i(()=>import("./DentistSettingsTab-D1NsW7r4.js"),__vite__mapDeps([167,3,1,2,4,5,6,7,8,9,10,12,31,115,126,37,22,49,23,95,48,54,93,14,46,24,69]))),ei=t(()=>i(()=>import("./TemplatesTab-a_xO-NUp.js"),__vite__mapDeps([168,1,2,3,4,5,6,7,8,9,10,12,33,126,144,137,81,11,25,17,151,24,74,22,23]))),ti=t(()=>i(()=>import("./InsuranceManagementTab-DhekUl8B.js"),__vite__mapDeps([169,1,2,3,4,5,6,7,8,9,10,12,126,144,137,81,11,25,17,89,41,37]))),ii=t(()=>i(()=>import("./IntakeFormsTab-B3-tzEK5.js"),__vite__mapDeps([170,1,2,3,4,5,6,7,8,9,10,12,126,144,137,81,11,25,17,171,115,24,31,92,55,89,84,85,45,50]))),si=t(()=>i(()=>import("./AIControlsTab-B8xAVobJ.js"),__vite__mapDeps([172,1,2,3,4,5,6,7,8,9,10,12,31,40,33,32,23,14,20,173,51,38,22,19]))),ai=t(()=>i(()=>import("./AISearchControlTab-BrI7LGR7.js"),__vite__mapDeps([174,1,2,3,4,5,6,7,8,9,10,12,31,32,33,40,23,21,37,22,24,15])).then(s=>({default:s.AISearchControlTab}))),ri=t(()=>i(()=>import("./ApiControlTab-AhVrpvT-.js"),__vite__mapDeps([175,1,2,3,4,5,6,7,8,9,10,12,31,32,33,115,30,22,74,38,23,176,19,50,14,46,24,89,93,48,26,27,49,25,37,51,18,20,52]))),ni=t(()=>i(()=>import("./PlatformServicesTab-BjvmcEzq.js"),__vite__mapDeps([177,1,2,3,4,5,6,7,8,9,10,12,31,30,19,50,173,23,20]))),oi=t(()=>i(()=>import("./SupportTicketsAdminTab-DTF_ng_Q.js"),__vite__mapDeps([178,1,2,3,4,5,6,7,8,9,10,12,33,32,14,19,38]))),ci=t(()=>i(()=>import("./GMBConnectionsTab-DyWG4xp2.js"),__vite__mapDeps([179,1,2,3,4,5,6,7,8,9,10,12,32,11,126,22,23,93,38,14,26,27]))),li=t(()=>i(()=>import("./ContactDetailsTab-6z2cNTD-.js"),__vite__mapDeps([180,1,2,3,4,5,6,7,8,9,10,12,33,115,30,89,70,19]))),di=t(()=>i(()=>import("./SeoBotTab-BmdMW5bh.js"),__vite__mapDeps([181,1,2,3,4,5,6,7,8,9,10,12,31,33,32,20,74,25,162,22,14,23,30,48,26,27,49,50,37,51,19,18,52]))),ui=t(()=>i(()=>import("./SeoContentOptimizerTab-DevefkjU.js"),__vite__mapDeps([182,1,2,3,4,5,6,7,8,9,10,12,11,32,33,34,35,13,74,25,97,99,52,183,184,185,23,14,37,44,21,162,20,24]))),mi=t(()=>i(()=>import("./SeoExpertTab-DEJKsRXC.js"),__vite__mapDeps([186,1,2,12,3,4,5,6,7,8,9,10,33,32,11,64,35,20,52,14,25,74,102,95,36,22,49]))),_i=t(()=>i(()=>import("./SeoCommandCenterTab-awXqsI1P.js"),__vite__mapDeps([187,1,2,3,4,5,6,7,8,9,10,12,33,32,11,64,35,20,14,25,74,21,23,37,49,52]))),bi=t(()=>i(()=>import("./RankingControlCenterTab-obmlYCL-.js"),__vite__mapDeps([188,1,2,3,4,5,6,7,8,9,10,12,11,33,32,22,25,95,36,14,21]))),pi=t(()=>i(()=>import("./SeoOperationsCenterTab-42WvCZTQ.js"),__vite__mapDeps([189,1,2,33,4,3,5,6,7,8,9,10,12,32,24,49,38,14,11,97,25,85,86,95,162,20,30,23,48,26,27,50,37,51,19,18,52]))),hi=t(()=>i(()=>import("./ContentGenerationStudioTab-BC8LR28w.js"),__vite__mapDeps([190,1,2,3,4,5,6,7,8,9,10,12,11,32,33,31,40,34,35,94,22,191,162,45,44,37,25,24,66,52,192,89,30,23,48,26,27,49,50,14,51,19,18,20]))),xi=t(()=>i(()=>import("./FAQGenerationStudioTab-CA3cdI_4.js"),__vite__mapDeps([193,1,2,3,4,5,6,7,8,9,10,12,11,32,33,40,64,35,22,21,191,45,24,37,86,192]))),gi=t(()=>i(()=>import("./ContentAuditBotTab-lDYvggWW.js"),__vite__mapDeps([194,1,2,3,4,5,6,7,8,9,10,12,11,33,21,74,24,22,25,185,42,38,14]))),fi=t(()=>i(()=>import("./Phase2SprintHubTab-CFEHMxbF.js"),__vite__mapDeps([195,1,2,3,4,5,6,7,8,9,10,12,11,33,40,32,22,52,21,24,37]))),vi=t(()=>i(()=>import("./Phase3SprintHubTab-BO-rXunP.js"),__vite__mapDeps([196,1,2,3,4,5,6,7,8,9,10,12,11,33,32,22,52,184,25,49,24,21,197]))),Ti=t(()=>i(()=>import("./Phase4SprintHubTab-DWwDPg1e.js"),__vite__mapDeps([198,1,2,12,3,4,5,6,7,8,9,10,33,11,22,49,88,14,185,24,199,25,31,115,197,23,200,38,112,113,98,86,21]))),yi=t(()=>i(()=>import("./ClinicEnrichmentTab-BaMsWmXL.js"),__vite__mapDeps([201,1,2,3,4,5,6,7,8,9,10,12,11,32,33,43,22,36,94,45,37,34,35,23,25,87,183,47,49,24,89]))),ji=t(()=>i(()=>import("./EmailEnrichmentBotTab-BcBh0JvT.js"),__vite__mapDeps([202,1,2,3,4,5,6,7,8,9,10,12,11,32,33,38,20,43,37,51,24,49]))),Ei=t(()=>i(()=>import("./SystemAuditTab-B3sn2nBM.js"),__vite__mapDeps([203,1,2,3,4,5,6,7,8,9,10,12,115,126,23,192,38,95,14,51]))),Ai=t(()=>i(()=>import("./FeatureFlagsTab-BVrfS7KZ.js"),__vite__mapDeps([204,1,2,3,4,5,6,7,8,9,10,12,31,126,30,48,22,162,95,33,23,26,27,49,50,25,14,37,51,19,18,20,52]))),wi=t(()=>i(()=>import("./MarketplaceControlTab-BZEJEFb2.js"),__vite__mapDeps([205,1,2,3,4,5,6,7,8,9,10,12,40,115,126,33,32,30,22,106,206,44,14]))),Ii=t(()=>i(()=>import("./BookingSystemTab-D3czASf8.js"),__vite__mapDeps([207,1,2,3,4,5,6,7,8,9,10,12,126,31,33,11,32,67,22,38,23,199,21,101,44,49,15]))),Ri=t(()=>i(()=>import("./TabVisibilityTab-D52c7j2A.js"),__vite__mapDeps([208,1,2,3,4,5,6,7,8,9,10,12,31,126,33,30,24,89,22,48,46,23,18,25,52,20,50,19,26,27,49,14,37,51]))),Pi=t(()=>i(()=>import("./VisitorAnalyticsTab-B_BYTE7K.js"),__vite__mapDeps([209,1,2,3,4,5,6,7,8,9,10,12,33,32,126,11,22,72,192,24,138,23,21,38,15]))),Di=t(()=>i(()=>import("./StaticPagesTab-ZdxWSZeb.js"),__vite__mapDeps([210,1,2,3,4,5,6,7,8,9,10,12,32,11,43,24,22,55,25,37,30,33,23,48,26,27,49,50,14,51,19,18,20,52]))),Li=t(()=>i(()=>import("./SeoHealthCheckTab-37Vdz1UQ.js"),__vite__mapDeps([211,1,2,12,3,4,5,6,7,8,9,10,102,38,14,49]))),Ni=t(()=>i(()=>import("./MetaOptimizerTab-S39QLter.js"),__vite__mapDeps([212,1,2,3,4,5,6,7,8,9,10,12,11,32,22,183,25,24,213,21,185,37,52]))),Oi=t(()=>i(()=>import("./GeoExpansionTab-DKIHoKzF.js"),__vite__mapDeps([214,1,2,12,3,4,5,6,7,8,9,10,33,31,11,29,30,22,51,162,25,23,14,38]))),ki=t(()=>i(()=>import("./MicroLocationCoverageTab-DS0PrtFJ.js"),__vite__mapDeps([215,1,2,3,4,5,6,7,8,9,10,12,11,33,32,14,25,192,16,38]))),Ci=t(()=>i(()=>import("./StructuredDataTab-acevFj_O.js"),__vite__mapDeps([216,1,2,3,4,5,6,7,8,9,10,12,33,31,98,23,185,22,89,93,17,74,49,38,14,25]))),Vi=t(()=>i(()=>import("./ToolsManagementTab-D7EOwDtP.js"),__vite__mapDeps([217,1,2,3,4,5,6,7,8,9,10,12,32,33,197,49,22,47,55,89,17]))),Si=t(()=>i(()=>import("./AvailabilityManagementTab-C2I0Pfgs.js"),__vite__mapDeps([218,1,2,3,4,5,6,7,8,9,10,161,12,31,126,219,15,139,27,129,131,101,200]))),qi=t(()=>i(()=>import("./AppointmentTypesTab-ocNpb1T1.js"),__vite__mapDeps([220,1,2,3,4,5,6,7,8,9,10,161,12,31,126,17,101,23,213,55]))),Mi=t(()=>i(()=>import("./MigrationControlTab-mWQJoOwe.js"),__vite__mapDeps([221,1,2,12,3,4,5,6,7,8,9,10,11,32,51,22,176,37,74,185])).then(s=>({default:s.MigrationControlTab}))),Fi=t(()=>i(()=>import("./DataRecoveryTab-CjKU5Zwe.js"),__vite__mapDeps([222,1,2,12,3,4,5,6,7,8,9,10,11,51,22,21,185,14,38,30,33,23,48,26,27,49,50,25,37,19,18,20,52]))),Bi=t(()=>i(()=>import("./AdminRevertTab-8zK_QQoi.js"),__vite__mapDeps([223,1,2,3,4,5,6,7,8,9,10,12,11,32,54,162,14,51,185,55,38,30,33,23,48,26,27,49,50,25,37,19,18,20,52]))),zi=t(()=>i(()=>import("./ContentCommandCenterTab-BUs5UZSV.js"),__vite__mapDeps([224,3,1,2,4,5,6,7,8,9,10,12,11,33,22,20,21,52,23]))),Ui=t(()=>i(()=>import("./InternalLinkingHubTab-Bg2rfdsk.js"),__vite__mapDeps([225,1,2,3,4,5,6,7,8,9,10,12,11,33,32,95,22,25,52,21,37,23]))),Gi=t(()=>i(()=>import("./chunk-CKGg_XGJ.js").then(s=>s.Q),__vite__mapDeps([226,3,1,2,4,5,6,7,8,9,10,33]))),Ki=t(()=>i(()=>import("./ContentStrategyTab-l0uSoHoH.js"),__vite__mapDeps([227,1,2,3,4,5,6,7,8,9,10,12,33,25,185,17,55,52]))),Qi=t(()=>i(()=>import("./PriceComparisonControlTab-BgZI9_9L.js"),__vite__mapDeps([228,1,2,3,4,5,6,7,8,9,10,12,33,21,23,89]))),Hi=t(()=>i(()=>import("./DentistDashboardV2-DS2llslL.js"),__vite__mapDeps([229,1,2,6,3,4,5,7,8,9,10,149,23,50,25,86,19,37,11,138,144,137,81,17,140,121,24,115,47,49,72,146,12,33,31,44,112,87,116,84,89,59,22,38,218,161,126,219,15,139,27,129,131,101,200,220,213,55,150,18,68,151,152,147,153,154,155,156,106,16,170,171,92,85,45,157,141,30,142,93,165,166,128,65,143,169,41,160,14,95,21,74,88,162,168,167,48,54,46,69,164,111]))),$i=[{label:"Dashboard",tabs:[{id:"my-dashboard",label:"My Practice",icon:xe}]},{label:"Operations",tabs:[{id:"my-appointments",label:"Appointments",icon:M,highlight:!0},{id:"my-availability",label:"Availability",icon:Ne},{id:"my-appointment-types",label:"Appointment Types",icon:Q},{id:"my-patients",label:"Patients",icon:H},{id:"my-messages",label:"Messages",icon:ze},{id:"my-intake-forms",label:"Intake Forms",icon:W},{id:"my-operations",label:"Automation",icon:P}]},{label:"Profile",tabs:[{id:"my-profile",label:"Edit Profile",icon:he},{id:"my-team",label:"Team",icon:H},{id:"my-services",label:"Services",icon:Q},{id:"my-insurance",label:"Insurance",icon:A}]},{label:"Reputation",tabs:[{id:"my-reputation",label:"Reputation Suite",icon:F,highlight:!0}]},{label:"Communication",tabs:[{id:"my-templates",label:"Templates",icon:X}]},{label:"Settings",tabs:[{id:"my-settings",label:"Settings",icon:Z},{id:"my-support",label:"Support Tickets",icon:A}]}],Wi=[{label:"Command Center",tabs:[{id:"overview",label:"Dashboard Overview",icon:xe},{id:"weekly",label:"Weekly Report",icon:V},{id:"visitor-analytics",label:"Visitor Analytics",icon:j,highlight:!0},{id:"top-dentists",label:"Top Dentists",icon:F},{id:"pinned-profiles",label:"Pinned Profiles",icon:F}]},{label:"Marketplace",tabs:[{id:"clinics",label:"Dental Offices",icon:he},{id:"users",label:"Users",icon:H},{id:"claims",label:"Claims",icon:A},{id:"treatments",label:"Treatments",icon:Q},{id:"locations",label:"Locations",icon:re},{id:"geo-expansion",label:"Geo Expansion",icon:E,highlight:!0},{id:"ranking-rules",label:"Ranking Rules",icon:V},{id:"pages",label:"Page Manager",icon:X}]},{label:"Discovery & SEO",tabs:[{id:"ranking-control",label:"Ranking Control Center",icon:V,highlight:!0},{id:"seo-command-center",label:"SEO Command Center",icon:R},{id:"seo-operations",label:"SEO Operations",icon:R},{id:"seo-health",label:"SEO Health Check",icon:j},{id:"meta-optimizer",label:"Meta Optimizer",icon:S},{id:"structured-data",label:"Schema & Structured Data",icon:le,highlight:!0},{id:"content-audit",label:"Content Audit Bot",icon:j,highlight:!0},{id:"internal-linking",label:"Internal Linking",icon:E,highlight:!0},{id:"micro-location",label:"Micro-Location Coverage",icon:re,highlight:!0},{id:"smoke-test",label:"URL Smoke Test",icon:E}]},{label:"Reputation",tabs:[{id:"reputation-hub",label:"Reputation Hub",icon:A,highlight:!0},{id:"review-insights",label:"Review Insights",icon:de},{id:"gmb-connections",label:"GMB Connections",icon:E}]},{label:"Patient & Bookings",tabs:[{id:"booking-system",label:"Booking System",icon:Oe,highlight:!0},{id:"appointments",label:"Appointments",icon:M},{id:"leads",label:"Lead CRM",icon:$e}]},{label:"Growth & Marketing",tabs:[{id:"gmb-scraper",label:"Scraper Bot",icon:G,highlight:!0},{id:"email-enrichment",label:"Email Enrichment",icon:ne,highlight:!0},{id:"gmb-bridge",label:"Google Import",icon:E},{id:"outreach",label:"Outreach Center",icon:ne},{id:"promotions",label:"Promotions",icon:z}]},{label:"AI & Automation",tabs:[{id:"ai-controls",label:"AI Controls",icon:G},{id:"ai-search-control",label:"AI Search",icon:S,highlight:!0},{id:"automation",label:"Automation Rules",icon:P}]},{label:"Content Management",tabs:[{id:"content-command-center",label:"Content Hub",icon:G,highlight:!0},{id:"quality-identity",label:"Quality & Identity",icon:j,highlight:!0},{id:"content-studio",label:"Content Studio",icon:R,highlight:!0},{id:"faq-studio",label:"FAQ Studio",icon:S,highlight:!0},{id:"clinic-enrichment",label:"Clinic Enrichment",icon:R,highlight:!0},{id:"blog",label:"Blog Engine",icon:We},{id:"content-strategy",label:"Content Strategy",icon:M,highlight:!0},{id:"static-pages",label:"Static Pages",icon:E},{id:"seo-content-optimizer",label:"Content Optimizer",icon:P},{id:"phase2-sprint-hub",label:"Services Sprint",icon:z,highlight:!0},{id:"phase3-sprint-hub",label:"Locations Sprint",icon:V,highlight:!0},{id:"phase4-sprint-hub",label:"Optimization Sprint",icon:j,highlight:!0}]},{label:"Monetization",tabs:[{id:"plans",label:"Plans & Features",icon:$},{id:"subscriptions",label:"Revenue",icon:$},{id:"marketplace-control",label:"Marketplace Control",icon:z,highlight:!0}]},{label:"Integrations",tabs:[{id:"api-control",label:"API Control",icon:P},{id:"crm-numbers",label:"CRM Numbers",icon:oe},{id:"messaging-control",label:"Messaging",icon:de},{id:"platform-services",label:"Platform Services",icon:P}]},{label:"Platform Settings",tabs:[{id:"site-config",label:"Header / Footer",icon:Ue},{id:"contact-details",label:"Contact Details",icon:oe},{id:"tab-visibility",label:"Tab Visibility",icon:j},{id:"tools-management",label:"Tools Management",icon:R,highlight:!0},{id:"settings",label:"Settings",icon:Z}]},{label:"System Diagnostics",tabs:[{id:"system-audit",label:"System Audit",icon:j,highlight:!0},{id:"feature-flags",label:"Feature Flags",icon:Ye,highlight:!0},{id:"roles",label:"Access Control",icon:pe},{id:"audit",label:"Audit Logs",icon:W},{id:"migration-control",label:"Migration Control",icon:le,highlight:!0},{id:"data-recovery",label:"Data Recovery",icon:Xe,highlight:!0},{id:"admin-revert",label:"Revert Actions",icon:W,highlight:!0},{id:"support-admin",label:"Support Tickets",icon:A}]}];function Yi(){const{user:s,roles:a,signOut:r,isLoading:c,refreshRoles:o}=D(),m=ke();Ce();const[d]=Ve(),y=["super_admin","district_manager","seo_team","content_team","marketing_team","support_team"],_=a.some(n=>y.includes(n));a.includes("super_admin")||a.includes("district_manager");const v=a.includes("dentist"),l=a[0]||"patient",[x,N]=h.useState(()=>d.get("tab")||(_?"overview":"my-dashboard")),[b,ve]=h.useState(!0),[O,Te]=h.useState(0);h.useEffect(()=>{let n=document.querySelector('meta[name="robots"]');return n||(n=document.createElement("meta"),n.setAttribute("name","robots"),document.head.appendChild(n)),n.setAttribute("content","noindex, nofollow"),()=>{n?.setAttribute("content","index, follow")}},[]),h.useEffect(()=>{if(!_&&!c&&s&&a.length===0&&O<2){const n=setTimeout(()=>{o(),Te(p=>p+1)},500);return()=>clearTimeout(n)}},[c,s,a,O,o,_]);const{isTabVisible:J}=ut(),{canAccessTab:ee,hasFullAccess:te}=mt(),ie=_?Wi:$i,B=_?"admin":"dentist",se=h.useMemo(()=>ie.map(n=>({...n,tabs:n.tabs.filter(p=>J(p.id,B)?B==="admin"&&!te?ee(p.id):!0:!1)})).filter(n=>n.tabs.length>0),[ie,B,J,te,ee]),ye=n=>{const p=_?"/admin":"/dashboard";N(n),window.history.replaceState(null,"",`${p}?tab=${n}`)};h.useEffect(()=>{const n=d.get("tab");n&&n!==x&&N(n)},[d]);const{data:je}=Je();et();const ae=je?.length||0;if(rt(),h.useEffect(()=>{const n=u.channel("booking-notifications").on("postgres_changes",{event:"INSERT",schema:"public",table:"booking_notifications"},()=>{}).subscribe();return()=>{u.removeChannel(n)}},[]),c)return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-primary mx-auto"}),e.jsx("p",{className:"mt-3 text-sm text-muted-foreground",children:"Loading..."})]})});if(!s)return e.jsx(U,{to:"/auth",replace:!0});const k=d.get("tab");if(m.pathname.startsWith("/admin")&&!_&&v){const n=k&&k.startsWith("my-")?k:"my-dashboard";return e.jsx(U,{to:`/dashboard?tab=${encodeURIComponent(n)}`,replace:!0})}if(m.pathname.startsWith("/dashboard")&&_){const n=k||"overview";return e.jsx(U,{to:`/admin?tab=${n}`,replace:!0})}if(!_&&!v&&O>=2)return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-red-50 to-background",children:e.jsxs("div",{className:"text-center p-8 bg-card rounded-2xl shadow-lg border max-w-md",children:[e.jsx("div",{className:"h-16 w-16 rounded-full bg-yellow-100 flex items-center justify-center mx-auto mb-4",children:e.jsx(pe,{className:"h-8 w-8 text-yellow-600"})}),e.jsx("h1",{className:"text-2xl font-bold text-foreground mb-2",children:"Setting Up Your Account"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"We're finalizing your account setup. This should only take a moment."}),e.jsxs("div",{className:"mt-6 flex gap-2 justify-center",children:[e.jsx(T,{variant:"default",onClick:()=>window.location.reload(),children:"Refresh Page"}),e.jsx(T,{variant:"outline",onClick:r,children:"Sign Out"})]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-4",children:"If this persists, try signing out and signing in again."})]})});if(!_&&!v&&O<2)return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-primary mx-auto"}),e.jsx("p",{className:"mt-3 text-sm text-muted-foreground",children:"Loading..."})]})});if(m.pathname.startsWith("/dashboard")&&v&&!_)return e.jsx(h.Suspense,{fallback:e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary/5 via-background to-primary/10",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto"}),e.jsx("p",{className:"mt-4 text-muted-foreground",children:"Loading dashboard..."})]})}),children:e.jsx(Hi,{})});const Ee=()=>{switch(x){case"my-dashboard":return e.jsx(me,{});case"my-appointments":return e.jsx(Kt,{});case"my-availability":return e.jsx(Si,{});case"my-appointment-types":return e.jsx(qi,{});case"my-patients":return e.jsx(Qt,{});case"my-messages":return e.jsx(Ht,{});case"my-operations":return e.jsx($t,{});case"my-intake-forms":return e.jsx(ii,{});case"my-profile":return e.jsx(Ut,{});case"my-team":return e.jsx(Xt,{});case"my-services":return e.jsx(Gt,{});case"my-insurance":return e.jsx(ti,{});case"my-reputation":return e.jsx(Wt,{});case"my-templates":return e.jsx(ei,{});case"my-settings":return e.jsx(Jt,{});case"my-support":return e.jsx(Zt,{});case"overview":return e.jsx(ue,{});case"weekly":return e.jsx(Ft,{});case"gmb-bridge":return e.jsx(It,{});case"gmb-scraper":return e.jsx(Rt,{});case"gmb-connections":return e.jsx(ci,{});case"email-enrichment":return e.jsx(ji,{});case"outreach":return e.jsx(Pt,{});case"ranking-rules":return e.jsx(Ot,{});case"pinned-profiles":return e.jsx(zt,{});case"top-dentists":return e.jsx(Bt,{});case"promotions":return e.jsx(Mt,{});case"locations":return e.jsx(_t,{});case"treatments":return e.jsx(bt,{});case"clinics":return e.jsx(pt,{});case"claims":return e.jsx(ht,{});case"users":return e.jsx(xt,{});case"booking-system":return e.jsx(Ii,{});case"appointments":return e.jsx(gt,{});case"visitor-analytics":return e.jsx(Pi,{});case"leads":return e.jsx(ft,{});case"pages":return e.jsx(vt,{});case"blog":return e.jsx(Tt,{});case"seo":return e.jsx(yt,{});case"static-pages":return e.jsx(Di,{});case"seo-health":return e.jsx(Li,{});case"seo-command-center":return e.jsx(_i,{});case"ranking-control":return e.jsx(bi,{});case"seo-operations":return e.jsx(pi,{});case"meta-optimizer":return e.jsx(Ni,{});case"seo-expert":return e.jsx(mi,{});case"structured-data":return e.jsx(Ci,{});case"seo-bot":return e.jsx(di,{});case"seo-copilot":return e.jsx(Ct,{});case"seo-content-optimizer":return e.jsx(ui,{});case"phase2-sprint-hub":return e.jsx(fi,{});case"phase3-sprint-hub":return e.jsx(vi,{});case"phase4-sprint-hub":return e.jsx(Ti,{});case"content-studio":return e.jsx(hi,{});case"tools-management":return e.jsx(Vi,{});case"faq-studio":return e.jsx(xi,{});case"content-audit":return e.jsx(gi,{});case"content-command-center":return e.jsx(zi,{});case"quality-identity":return e.jsx(Gi,{});case"internal-linking":return e.jsx(Ui,{});case"content-strategy":return e.jsx(Ki,{});case"price-comparison":return e.jsx(Qi,{});case"micro-location":return e.jsx(ki,{});case"clinic-enrichment":return e.jsx(yi,{});case"smoke-test":return e.jsx(Nt,{});case"automation":return e.jsx(jt,{});case"ai-controls":return e.jsx(si,{});case"ai-search-control":return e.jsx(ai,{});case"api-control":return e.jsx(ri,{});case"platform-services":return e.jsx(ni,{});case"support-admin":return e.jsx(oi,{});case"reputation-hub":return e.jsx(Yt,{});case"review-insights":return e.jsx(kt,{});case"crm-numbers":return e.jsx(Vt,{});case"messaging-control":return e.jsx(St,{});case"plans":return e.jsx(qt,{});case"roles":return e.jsx(Et,{});case"subscriptions":return e.jsx(At,{});case"audit":return e.jsx(wt,{});case"system-audit":return e.jsx(Ei,{});case"feature-flags":return e.jsx(Ai,{});case"marketplace-control":return e.jsx(wi,{});case"site-config":return e.jsx(Lt,{});case"contact-details":return e.jsx(li,{});case"tab-visibility":return e.jsx(Ri,{});case"migration-control":return e.jsx(Mi,{});case"data-recovery":return e.jsx(Fi,{});case"admin-revert":return e.jsx(Bi,{});case"settings":return e.jsx(Dt,{});case"geo-expansion":return e.jsx(Oi,{});default:return m.pathname.startsWith("/admin")?e.jsx(ue,{}):e.jsx(me,{})}};return e.jsxs("div",{className:"min-h-screen bg-[#f5f7fa] flex",children:[e.jsxs("aside",{className:f("fixed inset-y-0 left-0 z-50 flex flex-col transition-all duration-300 overflow-hidden","bg-gradient-to-b from-slate-900 via-slate-800 to-slate-900",b?"w-64":"w-16"),children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-20 -left-10 w-32 h-32 bg-primary/20 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute top-1/3 -right-10 w-24 h-24 bg-teal/20 rounded-full blur-2xl"}),e.jsx("div",{className:"absolute bottom-1/4 -left-5 w-20 h-20 bg-gold/15 rounded-full blur-2xl"}),e.jsx("div",{className:"absolute bottom-20 right-0 w-16 h-16 bg-primary/10 rounded-full blur-xl"}),e.jsx("div",{className:"absolute inset-0 bg-[linear-gradient(rgba(255,255,255,0.02)_1px,transparent_1px),linear-gradient(90deg,rgba(255,255,255,0.02)_1px,transparent_1px)] bg-[size:20px_20px]"})]}),e.jsxs("div",{className:"relative h-16 flex items-center justify-between px-4 border-b border-white/10",children:[b&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"h-9 w-9 rounded-xl bg-gradient-to-br from-primary to-primary/70 flex items-center justify-center shadow-lg shadow-primary/30",children:e.jsx("span",{className:"text-white font-extrabold text-sm",children:"AP"})}),e.jsx("span",{className:"font-display font-bold text-lg text-white",children:"Appoint Panda"})]}),e.jsx(T,{variant:"ghost",size:"icon",onClick:()=>ve(!b),className:"shrink-0 text-white/60 hover:text-white hover:bg-white/10 rounded-xl",children:b?e.jsx(be,{className:"h-5 w-5"}):e.jsx(Le,{className:"h-5 w-5"})})]}),e.jsx(_e,{className:"flex-1 py-4 relative",children:e.jsx("nav",{className:"space-y-6 px-2",children:se.map(n=>e.jsxs("div",{children:[b&&e.jsx("p",{className:"text-[10px] font-bold text-white/40 uppercase tracking-widest px-3 mb-2",children:n.label}),e.jsx("div",{className:"space-y-1",children:n.tabs.map(p=>{const Ae=p.icon,C=x===p.id;return e.jsxs("button",{onClick:()=>ye(p.id),className:f("w-full flex items-center gap-3 px-3 py-2.5 rounded-xl text-sm font-medium transition-all duration-200 relative group",C?"bg-white text-slate-900 font-semibold shadow-lg shadow-white/20":p.highlight?"text-primary bg-primary/10 hover:bg-primary/20":"text-white/70 hover:bg-white/10 hover:text-white"),children:[C&&e.jsx("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 w-1 h-6 bg-primary rounded-r-full"}),e.jsx(Ae,{className:f("h-4 w-4 shrink-0",C?"text-primary":"group-hover:text-primary")}),b&&e.jsx("span",{children:p.label}),p.id==="appointments"&&ae>0&&b&&e.jsx(K,{className:"ml-auto bg-coral text-white text-xs h-5 min-w-5 flex items-center justify-center border-0 shadow-lg shadow-coral/30",children:ae}),!C&&e.jsx("div",{className:"absolute inset-0 rounded-xl bg-gradient-to-r from-primary/0 via-primary/5 to-primary/0 opacity-0 group-hover:opacity-100 transition-opacity"})]},p.id)})})]},n.label))})}),e.jsxs("div",{className:"relative p-4 border-t border-white/10 bg-black/20",children:[e.jsxs("div",{className:f("flex items-center gap-3",!b&&"justify-center"),children:[e.jsx("div",{className:"h-9 w-9 rounded-full bg-gradient-to-br from-primary to-teal flex items-center justify-center shadow-lg",children:e.jsx("span",{className:"text-sm font-bold text-white",children:s.email?.[0]?.toUpperCase()||"A"})}),b&&e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-white truncate",children:s.email}),e.jsx("p",{className:"text-xs text-white/50 capitalize",children:l?.replace("_"," ")})]})]}),e.jsxs(T,{variant:"ghost",size:b?"default":"icon",onClick:r,className:f("mt-3 text-coral hover:text-white hover:bg-coral/20 border border-coral/30",b?"w-full":"w-9"),children:[e.jsx(Be,{className:"h-4 w-4"}),b&&e.jsx("span",{className:"ml-2",children:"Sign Out"})]})]})]}),e.jsxs("main",{className:f("flex-1 transition-all duration-300 min-h-screen",b?"ml-64":"ml-16"),children:[e.jsxs("div",{className:"h-16 border-b border-border/30 bg-white flex items-center justify-between px-6 sticky top-0 z-40 shadow-sm",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-8 w-1 rounded-full bg-gradient-to-b from-primary to-teal"}),e.jsx("h2",{className:"font-bold text-foreground text-lg",children:se.flatMap(n=>n.tabs).find(n=>n.id===x)?.label||"Dashboard"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"hidden md:flex items-center gap-2 px-3 py-1.5 rounded-full bg-emerald-50 border border-emerald-200",children:[e.jsx("div",{className:"h-2 w-2 rounded-full bg-emerald-500 animate-pulse"}),e.jsx("span",{className:"text-xs font-medium text-emerald-700",children:"Live"})]}),e.jsx(lt,{})]})]}),e.jsx("div",{className:"p-6 bg-[#f5f7fa] min-h-[calc(100vh-4rem)]",children:e.jsx(h.Suspense,{fallback:e.jsx("div",{className:"flex items-center justify-center py-20",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),e.jsx("p",{className:"mt-3 text-sm text-muted-foreground",children:"Loading..."})]})}),children:Ee()})})]})]})}const vs=Object.freeze(Object.defineProperty({__proto__:null,default:Yi},Symbol.toStringTag,{value:"Module"}));export{vs as A,Ye as F,Ze as K,Xe as R,gs as a,fs as b,xs as u};
