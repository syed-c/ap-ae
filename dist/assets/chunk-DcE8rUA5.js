import{u as l,j as s}from"./chunk-CPh6voF3.js";import{L as r}from"./chunk-Drd-rt-S.js";import{s as c,ba as f,aW as v,aJ as b}from"./index-DflORfjh.js";function S({currentInsuranceSlug:m,currentServiceSlug:x,currentStateSlug:h,currentCitySlug:N,showInsurances:d=!0,showServices:u=!0,showLocations:o=!0,maxItems:t=4,className:p}){const{data:y}=l({queryKey:["internal-links-insurances"],queryFn:async()=>{const{data:e}=await c.from("insurances").select("name, slug").eq("is_active",!0).order("display_order").limit(12);return e||[]},staleTime:18e5,enabled:d}),{data:g}=l({queryKey:["internal-links-services"],queryFn:async()=>{const{data:e}=await c.from("treatments").select("name, slug").eq("is_active",!0).order("display_order").limit(12);return e||[]},staleTime:30*60*1e3,enabled:u}),{data:j}=l({queryKey:["internal-links-emirates"],queryFn:async()=>{const{data:e}=await c.from("states").select("name, slug").eq("is_active",!0).order("display_order");return e||[]},staleTime:30*60*1e3,enabled:o}),a=(y||[]).filter(e=>e.slug!==m).slice(0,t),i=(g||[]).filter(e=>e.slug!==x).slice(0,t),n=(j||[]).filter(e=>e.slug!==h).slice(0,t);return a.length>0||i.length>0||n.length>0?s.jsx("div",{className:p,children:s.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[d&&a.length>0&&s.jsxs("nav",{"aria-label":"Related insurance providers",children:[s.jsx("h3",{className:"text-sm font-bold text-primary uppercase tracking-wider mb-3",children:"Insurance Providers"}),s.jsxs("ul",{className:"space-y-2",children:[a.map(e=>s.jsx("li",{children:s.jsxs(r,{to:f(e.slug),className:"text-sm text-muted-foreground hover:text-primary transition-colors",children:[e.name," Dentists"]})},e.slug)),s.jsx("li",{children:s.jsx(r,{to:"/insurance/",className:"text-sm font-medium text-primary hover:underline",children:"View All Insurance →"})})]})]}),u&&i.length>0&&s.jsxs("nav",{"aria-label":"Dental services",children:[s.jsx("h3",{className:"text-sm font-bold text-primary uppercase tracking-wider mb-3",children:"Popular Services"}),s.jsxs("ul",{className:"space-y-2",children:[i.map(e=>s.jsx("li",{children:s.jsx(r,{to:v(e.slug),className:"text-sm text-muted-foreground hover:text-primary transition-colors",children:e.name})},e.slug)),s.jsx("li",{children:s.jsx(r,{to:"/services/",className:"text-sm font-medium text-primary hover:underline",children:"All Services →"})})]})]}),o&&n.length>0&&s.jsxs("nav",{"aria-label":"Browse by location",children:[s.jsx("h3",{className:"text-sm font-bold text-primary uppercase tracking-wider mb-3",children:"Browse by Emirate"}),s.jsx("ul",{className:"space-y-2",children:n.map(e=>s.jsx("li",{children:s.jsxs(r,{to:b(`/${e.slug}`),className:"text-sm text-muted-foreground hover:text-primary transition-colors",children:["Dentists in ",e.name]})},e.slug))})]})]})}):null}export{S as I};
