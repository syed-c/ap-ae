import{u as f,j as e}from"./chunk-CPh6voF3.js";import{r as j}from"./chunk-CffrGP6S.js";import{f as Q,i as x,n as u,E as B,T as D,Q as E,w as v,B as V,s as b}from"./index-DflORfjh.js";import{C as c,d as i,a as g,b as p,c as C}from"./chunk-Dwq_v72W.js";import{T as S,a as k,b as m,c as a,d as A,e as t}from"./chunk-NLs5Ye4A.js";import{T as W,a as J,b as w,c as y}from"./chunk-k8HiDHrE.js";import{P as X}from"./chunk-DSDQubI6.js";import{A as Y}from"./chunk-C2VW2Ml6.js";import{M as F}from"./chunk-B7d2qnKb.js";import{T as M,a as U}from"./chunk-BLd3XU4A.js";import{A as Z}from"./chunk-B0DPEAZ9.js";import{T as G}from"./chunk-DbdCK11k.js";import{C as I}from"./chunk-wy0nNZZG.js";import{F as L}from"./chunk-3oqKMbN4.js";import{E as H}from"./chunk-CcezodbN.js";import"./chunk-B8auUmee.js";import"./chunk-DK8nT4cj.js";import"./chunk-Drd-rt-S.js";import"./chunk-BEQ5VEiB.js";import"./chunk-yff5u8mE.js";import"./chunk-xExVBHTi.js";import"./chunk-BSjc5zjM.js";import"./chunk-I1o_Hd8I.js";import"./chunk-CyRXX0qx.js";import"./chunk-DncHrJ4I.js";import"./chunk-CbETxTmt.js";import"./chunk-j7XJPWWF.js";import"./chunk-BaL04tya.js";import"./chunk-GLPyMM0F.js";import"./chunk-CedtSHBb.js";import"./chunk-D2X27E5n.js";import"./chunk-Bl7VVhKV.js";import"./chunk-B_ghW3Ra.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ee=Q("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);function De(){const[K,z]=j.useState("overview");j.useState(""),j.useState("all"),j.useState("all"),j.useState("30");const{data:r}=f({queryKey:["funnel-stats"],queryFn:async()=>{const{data:s}=await b.from("review_funnel_events").select("id, event_type, rating, created_at"),l=s?.length||0,n=s?.filter(o=>o.event_type==="thumbs_up").length||0,h=s?.filter(o=>o.event_type==="thumbs_down").length||0,R=s?.filter(o=>o.rating)?.length?s.filter(o=>o.rating).reduce((o,$)=>o+($.rating||0),0)/s.filter(o=>o.rating).length:0;return{total:l,positive:n,negative:h,avgRating:R}}}),{data:P}=f({queryKey:["negative-feedback"],queryFn:async()=>{const{data:s}=await b.from("review_funnel_events").select(`
          id, rating, comment, source, created_at,
          clinic:clinics(id, name, slug)
        `).eq("event_type","thumbs_down").order("created_at",{ascending:!1}).limit(20);return s||[]}}),{data:N,isLoading:se}=f({queryKey:["internal-reviews-admin"],queryFn:async()=>{const{data:s}=await b.from("internal_reviews").select(`
          id, patient_name, patient_email, rating, comment, status, created_at, sentiment_score, ai_suggested_response, resolution_notes, resolved_at,
          clinic:clinics(id, name, slug)
        `).order("created_at",{ascending:!1}).limit(50);return s||[]}}),{data:_}=f({queryKey:["problem-clinics-funnel"],queryFn:async()=>{const{data:s}=await b.from("review_funnel_events").select(`
          clinic_id,
          clinic:clinics(id, name, slug, city:cities(name))
        `).eq("event_type","thumbs_down"),l={};return s?.forEach(n=>{l[n.clinic_id]||(l[n.clinic_id]={count:0,clinic:n.clinic}),l[n.clinic_id].count++}),Object.values(l).sort((n,h)=>h.count-n.count).slice(0,10)}}),{data:T}=f({queryKey:["top-clinics"],queryFn:async()=>{const{data:s}=await b.from("clinics").select("id, name, slug, rating, review_count, city:cities(name)").gt("review_count",0).order("rating",{ascending:!1}).order("review_count",{ascending:!1}).limit(10);return s||[]}}),d=j.useMemo(()=>{const s=r?.total||0,l=r?.positive||0,n=r?.negative||0,h=r?.avgRating||0,R=s>0?l/s*100:0,o=h/5*50,$=R*.3,O=Math.min(s/100,1)*20;return{reputationScore:Math.round(o+$+O),conversionRate:R,total:s,positive:l,negative:n,avgRating:h}},[r]),q=r?.total?Math.round(r.positive/r.total*100):0;return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-display font-bold bg-gradient-to-r from-foreground to-foreground/70 bg-clip-text",children:"Review Insights"}),e.jsx("p",{className:"text-muted-foreground mt-1",children:"Platform-wide review funnel performance & feedback trends"})]})}),e.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[e.jsx(c,{className:"lg:col-span-1 card-dark text-white overflow-hidden",children:e.jsxs(i,{className:"p-6 relative",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-gradient-to-br from-primary/20 to-transparent rounded-bl-full"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(Y,{className:"h-5 w-5 text-primary"}),e.jsx("span",{className:"text-sm font-medium text-white/70",children:"Platform Health"})]}),e.jsxs("div",{className:"flex items-end gap-4",children:[e.jsx("div",{className:"relative",children:e.jsx("div",{className:"h-28 w-28 rounded-full flex items-center justify-center",style:{background:`conic-gradient(hsl(172 66% 50%) ${d.reputationScore}%, hsl(215 25% 27%) ${d.reputationScore}%)`},children:e.jsx("div",{className:"h-20 w-20 rounded-full bg-slate-900 flex items-center justify-center",children:e.jsx("span",{className:"text-4xl font-bold",children:d.reputationScore})})})}),e.jsxs("div",{className:"pb-2",children:[e.jsx(x,{className:`${d.reputationScore>=70?"bg-teal/20 text-teal":d.reputationScore>=40?"bg-gold/20 text-gold":"bg-coral/20 text-coral"} border-0`,children:d.reputationScore>=70?"Excellent":d.reputationScore>=40?"Good":"Needs Work"}),e.jsx("p",{className:"text-xs text-white/50 mt-2",children:"Based on conversion, rating & volume"})]})]})]})]})}),e.jsxs("div",{className:"lg:col-span-2 grid grid-cols-2 lg:grid-cols-4 gap-3",children:[e.jsx(c,{className:"card-stat",children:e.jsxs(i,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(F,{className:"h-4 w-4 text-primary"}),e.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Responses"})]}),e.jsx("p",{className:"text-2xl font-bold",children:d.total}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Total funnel"})]})}),e.jsx(c,{className:"card-stat",children:e.jsxs(i,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(M,{className:"h-4 w-4 text-teal"}),e.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"→ Google"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:"text-2xl font-bold",children:d.positive}),e.jsx(Z,{className:"h-4 w-4 text-teal"})]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Redirected"})]})}),e.jsx(c,{className:"card-stat",children:e.jsxs(i,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(U,{className:"h-4 w-4 text-coral"}),e.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Private"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("p",{className:"text-2xl font-bold",children:d.negative}),e.jsx(ee,{className:"h-4 w-4 text-coral"})]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Captured"})]})}),e.jsx(c,{className:"card-stat",children:e.jsxs(i,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(u,{className:"h-4 w-4 text-gold"}),e.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Avg Rating"})]}),e.jsx("p",{className:"text-2xl font-bold",children:d.avgRating.toFixed(1)}),e.jsx("div",{className:"flex items-center gap-1 mt-1",children:[1,2,3,4,5].map(s=>e.jsx(u,{className:`h-3 w-3 ${s<=d.avgRating?"text-gold fill-gold":"text-muted"}`},s))})]})}),e.jsx(c,{className:"card-stat",children:e.jsxs(i,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(B,{className:"h-4 w-4 text-primary"}),e.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Conversion"})]}),e.jsxs("p",{className:"text-2xl font-bold",children:[d.conversionRate.toFixed(0),"%"]}),e.jsx(X,{value:d.conversionRate,className:"h-1.5 mt-2"})]})}),e.jsx(c,{className:"card-stat",children:e.jsxs(i,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(G,{className:"h-4 w-4 text-coral"}),e.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"At Risk"})]}),e.jsx("p",{className:"text-2xl font-bold",children:_?.length||0}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Clinics flagged"})]})}),e.jsx(c,{className:"card-stat",children:e.jsxs(i,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(D,{className:"h-4 w-4 text-teal"}),e.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Top Rated"})]}),e.jsx("p",{className:"text-2xl font-bold",children:T?.filter(s=>(s.rating||0)>=4.5).length||0}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"4.5+ rating"})]})}),e.jsx(c,{className:"card-stat",children:e.jsxs(i,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(I,{className:"h-4 w-4 text-blue-custom"}),e.jsx("span",{className:"text-xs font-medium text-muted-foreground",children:"Weekly"})]}),e.jsxs("p",{className:"text-2xl font-bold",children:["~",Math.round(d.total/4)]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Avg per week"})]})})]})]}),e.jsx(c,{className:"card-modern border-primary/20 bg-gradient-to-r from-primary/5 via-card to-teal/5",children:e.jsxs(i,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-lg",children:"Review Funnel Performance"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"% of patients redirected to Google reviews"})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-4xl font-bold bg-gradient-to-r from-primary to-teal bg-clip-text text-transparent",children:[q,"%"]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Conversion Rate"})]})]}),e.jsx("div",{className:"relative h-4 rounded-full overflow-hidden bg-muted",children:e.jsx("div",{className:"absolute inset-y-0 left-0 bg-gradient-to-r from-teal to-primary rounded-full transition-all duration-500",style:{width:`${q}%`}})}),e.jsxs("div",{className:"flex justify-between mt-2 text-sm text-muted-foreground",children:[e.jsx("span",{children:"0% (All Private)"}),e.jsxs("span",{className:"font-medium text-primary",children:[q,"% converted"]}),e.jsx("span",{children:"100% (All to Google)"})]})]})}),e.jsxs(W,{value:K,onValueChange:z,children:[e.jsxs(J,{className:"grid w-full grid-cols-5 rounded-xl bg-muted/50 p-1",children:[e.jsxs(w,{value:"overview",className:"rounded-xl data-[state=active]:bg-background data-[state=active]:shadow-sm",children:[e.jsx(I,{className:"h-4 w-4 mr-2"}),"Overview"]}),e.jsxs(w,{value:"internal",className:"rounded-xl data-[state=active]:bg-background data-[state=active]:shadow-sm",children:[e.jsx(F,{className:"h-4 w-4 mr-2"}),"Internal Reviews",(N?.length||0)>0&&e.jsx(x,{className:"ml-2 bg-coral/20 text-coral text-xs",children:N?.length})]}),e.jsxs(w,{value:"complaints",className:"rounded-xl data-[state=active]:bg-background data-[state=active]:shadow-sm",children:[e.jsx(G,{className:"h-4 w-4 mr-2"}),"Funnel Feedback"]}),e.jsxs(w,{value:"problem",className:"rounded-xl data-[state=active]:bg-background data-[state=active]:shadow-sm",children:[e.jsx(L,{className:"h-4 w-4 mr-2"}),"Problem Clinics"]}),e.jsxs(w,{value:"top",className:"rounded-xl data-[state=active]:bg-background data-[state=active]:shadow-sm",children:[e.jsx(D,{className:"h-4 w-4 mr-2"}),"Top Performers"]})]}),e.jsx(y,{value:"overview",className:"mt-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs(c,{className:"card-modern",children:[e.jsx(g,{children:e.jsxs(p,{className:"text-lg flex items-center gap-2",children:[e.jsx(B,{className:"h-5 w-5 text-primary"}),"Funnel Breakdown"]})}),e.jsxs(i,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(M,{className:"h-4 w-4 text-teal"}),"Thumbs Up → Google"]}),e.jsx("span",{className:"font-bold text-teal",children:r?.positive||0})]}),e.jsx("div",{className:"relative h-3 rounded-full overflow-hidden bg-muted",children:e.jsx("div",{className:"absolute inset-y-0 left-0 bg-gradient-to-r from-teal to-primary rounded-full",style:{width:`${r?.total?r.positive/r.total*100:0}%`}})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(U,{className:"h-4 w-4 text-coral"}),"Thumbs Down → Private"]}),e.jsx("span",{className:"font-bold text-coral",children:r?.negative||0})]}),e.jsx("div",{className:"relative h-3 rounded-full overflow-hidden bg-muted",children:e.jsx("div",{className:"absolute inset-y-0 left-0 bg-gradient-to-r from-coral to-red-500 rounded-full",style:{width:`${r?.total?r.negative/r.total*100:0}%`}})})]})]})]}),e.jsxs(c,{className:"card-modern",children:[e.jsx(g,{children:e.jsxs(p,{className:"text-lg flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5 text-coral"}),"Private Feedback Summary"]})}),e.jsx(i,{children:e.jsxs("div",{className:"text-center py-4",children:[e.jsx("div",{className:"h-20 w-20 rounded-full bg-coral/10 flex items-center justify-center mx-auto mb-4",children:e.jsx(U,{className:"h-10 w-10 text-coral"})}),e.jsx("p",{className:"text-4xl font-bold",children:r?.negative||0}),e.jsx("p",{className:"text-muted-foreground",children:"Total Private Complaints"}),e.jsx("p",{className:"mt-4 text-sm text-muted-foreground max-w-xs mx-auto",children:'These are patients who chose "thumbs down" and provided private feedback instead of public reviews.'})]})})]})]})}),e.jsx(y,{value:"internal",className:"mt-4",children:e.jsxs(c,{className:"card-modern",children:[e.jsxs(g,{children:[e.jsxs(p,{className:"text-lg flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5 text-coral"}),"Internal Reviews Dashboard"]}),e.jsx(C,{children:"All negative reviews captured through the reputation suite - these stay private and need follow-up"})]}),e.jsx(i,{className:"p-0",children:e.jsxs(S,{children:[e.jsx(k,{children:e.jsxs(m,{children:[e.jsx(a,{children:"Date"}),e.jsx(a,{children:"Clinic"}),e.jsx(a,{children:"Patient"}),e.jsx(a,{children:"Rating"}),e.jsx(a,{children:"Comment"}),e.jsx(a,{children:"Status"}),e.jsx(a,{children:"AI Response"})]})}),e.jsxs(A,{children:[N?.map(s=>e.jsxs(m,{children:[e.jsx(t,{className:"text-muted-foreground whitespace-nowrap",children:E(new Date(s.created_at),"MMM d, yyyy")}),e.jsx(t,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"h-8 w-8 rounded-lg bg-coral/10 flex items-center justify-center",children:e.jsx(v,{className:"h-4 w-4 text-coral"})}),e.jsx("span",{className:"font-medium",children:s.clinic?.name||"Unknown"})]})}),e.jsx(t,{children:e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:s.patient_name||"Anonymous"}),s.patient_email&&e.jsx("p",{className:"text-xs text-muted-foreground",children:s.patient_email})]})}),e.jsx(t,{children:e.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:5}).map((l,n)=>e.jsx(u,{className:`h-3.5 w-3.5 ${n<(s.rating||0)?"text-gold fill-gold":"text-muted"}`},n))})}),e.jsx(t,{className:"max-w-xs",children:e.jsx("p",{className:"truncate",children:s.comment||"-"})}),e.jsx(t,{children:e.jsx(x,{className:s.status==="resolved"?"bg-teal/20 text-teal":s.status==="in_progress"?"bg-gold/20 text-gold":"bg-coral/20 text-coral",children:s.status||"pending"})}),e.jsx(t,{children:s.ai_suggested_response?e.jsxs(x,{variant:"outline",className:"text-xs",children:[e.jsx(H,{className:"h-3 w-3 mr-1"}),"AI Ready"]}):e.jsx("span",{className:"text-muted-foreground text-xs",children:"-"})})]},s.id)),(!N||N.length===0)&&e.jsx(m,{children:e.jsxs(t,{colSpan:7,className:"text-center py-12 text-muted-foreground",children:[e.jsx(M,{className:"h-12 w-12 mx-auto mb-3 text-teal opacity-50"}),e.jsx("p",{className:"font-medium",children:"No internal reviews recorded"}),e.jsx("p",{className:"text-sm",children:"Negative reviews from the reputation suite will appear here."})]})})]})]})})]})}),e.jsx(y,{value:"complaints",className:"mt-4",children:e.jsxs(c,{className:"card-modern",children:[e.jsxs(g,{children:[e.jsxs(p,{className:"text-lg flex items-center gap-2",children:[e.jsx(G,{className:"h-5 w-5 text-coral"}),"Recent Private Feedback"]}),e.jsx(C,{children:"Negative feedback submitted through the review funnel"})]}),e.jsx(i,{className:"p-0",children:e.jsxs(S,{children:[e.jsx(k,{children:e.jsxs(m,{children:[e.jsx(a,{children:"Date"}),e.jsx(a,{children:"Clinic"}),e.jsx(a,{children:"Rating"}),e.jsx(a,{children:"Comment"}),e.jsx(a,{children:"Source"})]})}),e.jsxs(A,{children:[P?.map(s=>e.jsxs(m,{children:[e.jsx(t,{className:"text-muted-foreground",children:E(new Date(s.created_at),"MMM d, yyyy")}),e.jsx(t,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"h-8 w-8 rounded-lg bg-coral/10 flex items-center justify-center",children:e.jsx(v,{className:"h-4 w-4 text-coral"})}),e.jsx("span",{className:"font-medium",children:s.clinic?.name||"Unknown"})]})}),e.jsx(t,{children:s.rating&&e.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:5}).map((l,n)=>e.jsx(u,{className:`h-3.5 w-3.5 ${n<s.rating?"text-gold fill-gold":"text-muted"}`},n))})}),e.jsx(t,{className:"max-w-xs truncate",children:s.comment||"-"}),e.jsx(t,{children:e.jsx(x,{variant:"outline",className:"capitalize",children:s.source})})]},s.id)),(!P||P.length===0)&&e.jsx(m,{children:e.jsxs(t,{colSpan:5,className:"text-center py-12 text-muted-foreground",children:[e.jsx(M,{className:"h-12 w-12 mx-auto mb-3 text-teal opacity-50"}),e.jsx("p",{className:"font-medium",children:"No private feedback recorded yet"}),e.jsx("p",{className:"text-sm",children:"Great news! All reviews are going to Google."})]})})]})]})})]})}),e.jsx(y,{value:"problem",className:"mt-4",children:e.jsxs(c,{className:"card-modern",children:[e.jsxs(g,{children:[e.jsxs(p,{className:"text-lg flex items-center gap-2",children:[e.jsx(L,{className:"h-5 w-5 text-coral"}),"Clinics with Most Negative Feedback"]}),e.jsx(C,{children:"These clinics have received the most private complaints"})]}),e.jsx(i,{className:"p-0",children:e.jsxs(S,{children:[e.jsx(k,{children:e.jsxs(m,{children:[e.jsx(a,{className:"w-12",children:"#"}),e.jsx(a,{children:"Clinic"}),e.jsx(a,{children:"Location"}),e.jsx(a,{children:"Complaints"}),e.jsx(a,{className:"text-right",children:"Actions"})]})}),e.jsxs(A,{children:[_?.map((s,l)=>e.jsxs(m,{className:"bg-coral/5",children:[e.jsx(t,{children:e.jsx(x,{className:"bg-coral text-white",children:l+1})}),e.jsx(t,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 rounded-xl bg-coral/10 flex items-center justify-center",children:e.jsx(v,{className:"h-5 w-5 text-coral"})}),e.jsx("span",{className:"font-medium",children:s.clinic?.name||"Unknown"})]})}),e.jsx(t,{className:"text-muted-foreground",children:s.clinic?.city?.name||"Unknown"}),e.jsx(t,{children:e.jsxs(x,{variant:"destructive",className:"font-bold",children:[s.count," complaints"]})}),e.jsx(t,{className:"text-right",children:e.jsxs(V,{variant:"outline",size:"sm",children:[e.jsx(H,{className:"h-4 w-4 mr-1"}),"View"]})})]},s.clinic?.id||l)),(!_||_.length===0)&&e.jsx(m,{children:e.jsxs(t,{colSpan:5,className:"text-center py-12 text-muted-foreground",children:[e.jsx(D,{className:"h-12 w-12 mx-auto mb-3 text-teal opacity-50"}),e.jsx("p",{className:"font-medium",children:"No problem clinics identified"}),e.jsx("p",{className:"text-sm",children:"All clinics are performing well!"})]})})]})]})})]})}),e.jsx(y,{value:"top",className:"mt-4",children:e.jsxs(c,{className:"card-modern",children:[e.jsxs(g,{children:[e.jsxs(p,{className:"text-lg flex items-center gap-2",children:[e.jsx(u,{className:"h-5 w-5 text-gold"}),"Top Performing Clinics"]}),e.jsx(C,{children:"Clinics with the best Google ratings"})]}),e.jsx(i,{className:"p-0",children:e.jsxs(S,{children:[e.jsx(k,{children:e.jsxs(m,{children:[e.jsx(a,{className:"w-12",children:"#"}),e.jsx(a,{children:"Clinic"}),e.jsx(a,{children:"Location"}),e.jsx(a,{children:"Rating"}),e.jsx(a,{children:"Reviews"})]})}),e.jsxs(A,{children:[T?.map((s,l)=>e.jsxs(m,{className:l<3?"bg-gold/5":"",children:[e.jsx(t,{children:e.jsx(x,{className:l<3?"bg-gold text-white":"bg-muted",children:l+1})}),e.jsx(t,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`h-10 w-10 rounded-xl flex items-center justify-center ${l<3?"bg-gold/10":"bg-muted"}`,children:e.jsx(v,{className:`h-5 w-5 ${l<3?"text-gold":"text-muted-foreground"}`})}),e.jsx("span",{className:"font-medium",children:s.name})]})}),e.jsx(t,{className:"text-muted-foreground",children:s.city?.name||"Unknown"}),e.jsx(t,{children:e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(u,{className:"h-4 w-4 text-gold fill-gold"}),e.jsx("span",{className:"font-bold",children:s.rating||0})]})}),e.jsx(t,{children:e.jsxs(x,{variant:"outline",children:[s.review_count||0," reviews"]})})]},s.id)),(!T||T.length===0)&&e.jsx(m,{children:e.jsxs(t,{colSpan:5,className:"text-center py-12 text-muted-foreground",children:[e.jsx(v,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),e.jsx("p",{className:"font-medium",children:"No clinic data available"})]})})]})]})})]})})]})]})}export{De as default};
