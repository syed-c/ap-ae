import{j as e,u as S}from"./chunk-CPh6voF3.js";import{r as C}from"./chunk-CffrGP6S.js";import{L as F,b as je}from"./chunk-Drd-rt-S.js";import{f as se,l as k,y as H,x as Y,ap as Ne,o as M,n as q,aK as ve,s as A,w as E,Y as G,i as N,t as be,B as f,P as ae,aF as te,aG as ie,v as X,m as U,C as Q,T as ye,a9 as re,aa as le,X as ne,H as we,F as _e,a4 as ke,ah as Ce,av as Se,aw as Ae,ai as $e,aC as qe,U as Te,G as Pe,aj as Be,aL as Le}from"./index-DflORfjh.js";import{u as ce,I as Fe,T as Re,A as ze,a as De}from"./chunk-BnpBy_la.js";import{P as K}from"./chunk-D3ia1n3Z.js";import{B as Ie}from"./chunk-C-nCkXKs.js";import{S as I}from"./chunk-DXeotKgJ.js";import{S as B}from"./chunk-CQtADEjB.js";import{T as de,a as oe,b as $,c as R}from"./chunk-k8HiDHrE.js";import{u as Me}from"./chunk-D4pwncBY.js";import{A as me,a as xe,b as ue}from"./chunk-Df_5lNy2.js";import{A as he}from"./chunk-bmpXwoJk.js";import{G as Ge}from"./chunk-DrzOALbo.js";import{C as Ee}from"./chunk-GLPyMM0F.js";import{P as Oe}from"./chunk-DSDQubI6.js";import{M as J}from"./chunk-DnhFyEPV.js";import{E as Ue}from"./chunk-CbETxTmt.js";import{f as Ke}from"./chunk-CyRXX0qx.js";import{C as Ve}from"./chunk-kjwVS8vq.js";import{a as Z,C as He,A as Qe}from"./chunk-BgiWSAsR.js";import"./chunk-Dwq_v72W.js";import"./chunk-BMzWzDrf.js";import{B as We}from"./chunk-CFYlT1Dp.js";import{T as Ye}from"./chunk-DbdCK11k.js";import{S as Xe}from"./chunk-D2ZJfdpI.js";import{P as Je}from"./chunk-B46JjdBY.js";import"./chunk-B8auUmee.js";import"./chunk-DK8nT4cj.js";import"./chunk-BEQ5VEiB.js";import"./chunk-yff5u8mE.js";import"./chunk-xExVBHTi.js";import"./chunk-8Vpa5_RZ.js";import"./chunk-aAsotRsv.js";import"./chunk-C_nua8Pg.js";import"./chunk-DncHrJ4I.js";import"./chunk-BcyAVLmp.js";import"./chunk-B2Rulxe9.js";import"./chunk-HiDpIwK7.js";import"./chunk-I1o_Hd8I.js";import"./chunk-CTiJdJKN.js";import"./chunk-Bl7VVhKV.js";import"./chunk-CKWDY2Lf.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=se("Images",[["path",{d:"M18 22H4a2 2 0 0 1-2-2V6",key:"pblm9e"}],["path",{d:"m22 13-1.296-1.296a2.41 2.41 0 0 0-3.408 0L11 18",key:"nf6bnh"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["rect",{width:"16",height:"16",x:"6",y:"2",rx:"2",key:"12espp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const es=se("Languages",[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]]),ss=({className:a,variant:c="card",matchReasons:i,clinicName:x="",location:d="",priceRange:l="",insurance:u=[],rating:h=0,isVerified:t=!1})=>{const o=(()=>{if(i)return i;const s=[];return d&&s.push({icon:Y,text:`Located in ${d}`}),l&&s.push({icon:Ne,text:`Budget: ${l}`}),u.length>0&&s.push({icon:M,text:`Accepts ${u.slice(0,2).join(", ")}${u.length>2?" +more":""}`}),h>=4.5&&s.push({icon:q,text:`${h.toFixed(1)} rating`}),t&&s.push({icon:ve,text:"Verified profile"}),s})();return c==="inline"?e.jsxs("div",{className:k("inline-flex items-center gap-1.5 bg-primary/10 border border-primary/20 rounded-full px-3 py-1",a),children:[e.jsx(H,{className:"h-3 w-3 text-primary"}),e.jsx("span",{className:"text-xs font-bold text-primary",children:"AI Match"})]}):e.jsxs("div",{className:k("bg-gradient-to-br from-primary/5 to-emerald/5 border border-primary/20 rounded-xl p-4",a),children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("div",{className:"h-7 w-7 rounded-lg bg-primary/10 flex items-center justify-center",children:e.jsx(H,{className:"h-4 w-4 text-primary"})}),e.jsx("div",{children:e.jsx("span",{className:"text-xs font-bold text-primary uppercase tracking-wide",children:"Why this is a good match"})})]}),o.length>0?e.jsx("div",{className:"space-y-2",children:o.slice(0,4).map((s,T)=>e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx("div",{className:"h-5 w-5 rounded-full bg-primary/10 flex items-center justify-center shrink-0",children:e.jsx(s.icon,{className:"h-3 w-3 text-primary"})}),e.jsx("span",{className:"text-foreground",children:s.text})]},T))}):e.jsx("p",{className:"text-sm text-muted-foreground",children:"This clinic matches common patient preferences for location, services, and quality."}),e.jsx("p",{className:"mt-3 pt-3 border-t border-border text-xs text-muted-foreground",children:"Match based on profile data. Pricing set by clinic."})]})};function as({clinicId:a,cityId:c,cityName:i,citySlug:x,stateSlug:d,limit:l=4}){const{data:u}=S({queryKey:["related-clinics",a,c],queryFn:async()=>{const h=A.from("clinics").select("id, name, slug, rating, review_count").neq("id",a).eq("is_active",!0).eq("is_suspended",!1).order("rating",{ascending:!1}).limit(l);c&&h.eq("city_id",c);const{data:t}=await h;return t||[]},enabled:!!a,staleTime:3e5});return u?.length?e.jsxs("div",{className:"card-modern p-6",children:[e.jsxs("h3",{className:"text-lg font-bold text-foreground mb-4 flex items-center gap-2",children:[e.jsx(E,{className:"h-5 w-5 text-primary"}),i?`Other Clinics in ${i}`:"Related Clinics"]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:u.map(h=>e.jsxs(F,{to:`/clinic/${h.slug}/`,className:"flex items-center justify-between p-3 rounded-xl border border-border hover:border-primary/30 hover:bg-accent/30 transition-all group",children:[e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-foreground group-hover:text-primary truncate",children:h.name}),h.rating>0&&e.jsxs("div",{className:"flex items-center gap-1 mt-0.5",children:[e.jsx(q,{className:"h-3 w-3 text-gold fill-gold"}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:[Number(h.rating).toFixed(1)," (",h.review_count," reviews)"]})]})]}),e.jsx(G,{className:"h-4 w-4 text-muted-foreground group-hover:text-primary shrink-0"})]},h.id))}),x&&d&&e.jsxs(F,{to:`/${d}/${x}/`,className:"inline-flex items-center gap-1 text-sm font-medium text-primary hover:underline mt-4",children:["View all clinics in ",i," ",e.jsx(G,{className:"h-3 w-3"})]})]}):null}const ts=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];function is({clinicId:a,clinicName:c,clinicPhone:i,clinicRating:x,clinicReviewCount:d=0,clinicArea:l,clinicLatitude:u,clinicLongitude:h,clinicAddress:t,hours:g=[],teamMembers:o=[],isClaimed:s=!1,className:T}){const[L,b]=C.useState(!1),[m,P]=C.useState(),{trackPhoneClick:D}=ce(),v=new Date().getDay(),y=g.find(p=>p.day_of_week===v),r=o.filter(p=>["dentist","orthodontist","endodontist","periodontist","prosthodontist","oral_surgeon","pediatric_dentist"].includes(p.professional_type)),j=(()=>{if(!y||y.is_closed)return!1;const p=new Date,z=`${p.getHours().toString().padStart(2,"0")}:${p.getMinutes().toString().padStart(2,"0")}`;return y.open_time&&y.close_time&&z>=y.open_time&&z<=y.close_time})();return e.jsxs("div",{className:k("space-y-4 max-w-full overflow-hidden",T),children:[e.jsxs("div",{className:"card-modern overflow-hidden max-w-full",children:[e.jsxs("div",{className:"p-4 border-b border-border/50",children:[e.jsx("div",{className:"flex items-center justify-between mb-2 gap-2",children:e.jsxs("h3",{className:"font-display font-bold text-base truncate flex-1 min-w-0",children:["ðŸ“ ",c]})}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[x&&x>0&&e.jsxs(N,{variant:"secondary",className:"rounded-full text-xs",children:[e.jsx(q,{className:"h-3 w-3 mr-1 fill-gold text-gold"}),x.toFixed(1)," (",d,")"]}),l&&e.jsxs(N,{variant:"secondary",className:"rounded-full text-xs",children:[e.jsx(Y,{className:"h-3 w-3 mr-1"}),l]}),y&&e.jsxs(N,{variant:j?"default":"secondary",className:k("rounded-full text-xs",j?"bg-emerald text-white":""),children:[e.jsx(be,{className:"h-3 w-3 mr-1"}),y.is_closed?"Closed today":j?"Open now":`Opens ${y.open_time}`]})]})]}),s&&r.length>0&&e.jsxs("div",{className:"p-4 border-b border-border/50",children:[e.jsx("label",{className:"text-xs font-medium text-muted-foreground mb-2 block",children:"Choose dentist (optional)"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx("button",{onClick:()=>P(void 0),className:k("flex items-center gap-2 px-3 py-1.5 rounded-lg text-xs transition-all",m?"bg-muted/50 hover:bg-muted":"bg-primary text-primary-foreground"),children:"Any available"}),r.slice(0,4).map(p=>e.jsx("button",{onClick:()=>P(p.id),className:k("flex items-center gap-2 px-3 py-1.5 rounded-lg text-xs transition-all",m===p.id?"bg-primary text-primary-foreground":"bg-muted/50 hover:bg-muted"),children:p.name.split(" ")[0]},p.id))]})]}),i&&s&&e.jsx("div",{className:"p-4",children:e.jsx(f,{variant:"outline",className:"w-full rounded-xl font-bold",asChild:!0,onClick:()=>D({clinic_id:a,clinic_name:c,phone_number:i}),children:e.jsxs("a",{href:`tel:${i}`,children:[e.jsx(ae,{className:"h-4 w-4 mr-2"}),"Call Clinic"]})})}),g.length>0&&e.jsxs("div",{className:"border-t border-border/50",children:[e.jsxs("button",{onClick:()=>b(!L),className:"w-full p-3 flex items-center justify-between text-sm hover:bg-muted/50 transition-colors",children:[e.jsx("span",{className:"font-medium text-xs",children:"View all hours"}),L?e.jsx(te,{className:"h-4 w-4 text-muted-foreground"}):e.jsx(ie,{className:"h-4 w-4 text-muted-foreground"})]}),L&&e.jsx("div",{className:"px-4 pb-4 space-y-1 animate-fade-in-up",children:g.map(p=>e.jsxs("div",{className:k("flex justify-between text-xs py-1 px-2 rounded-lg",p.day_of_week===v&&"bg-primary/5 font-medium"),children:[e.jsx("span",{children:ts[p.day_of_week]}),e.jsx("span",{className:p.is_closed?"text-muted-foreground":"",children:p.is_closed?"Closed":`${p.open_time} - ${p.close_time}`})]},p.day_of_week))})]})]}),e.jsx(Fe,{profileId:m||a,profileName:m&&r.find(p=>p.id===m)?.name||c,profileType:m?"dentist":"clinic",clinicId:a,clinicLatitude:u,clinicLongitude:h,clinicAddress:t})]})}const pe={dentist:"General Dentist",orthodontist:"Orthodontist",endodontist:"Endodontist",periodontist:"Periodontist",prosthodontist:"Prosthodontist",oral_surgeon:"Oral Surgeon",pediatric_dentist:"Pediatric Dentist",hygienist:"Dental Hygienist",assistant:"Dental Assistant",receptionist:"Receptionist",practice_manager:"Practice Manager"},W=["dentist","orthodontist","endodontist","periodontist","prosthodontist","oral_surgeon","pediatric_dentist"];function rs({member:a,onBook:c}){const[i,x]=C.useState(!1),d=W.includes(a.professional_type);return e.jsxs("div",{className:"group",children:[e.jsxs("div",{className:k("flex items-center gap-4 p-4 rounded-xl transition-all",i?"bg-muted":"hover:bg-muted/50"),children:[e.jsxs(me,{className:"h-14 w-14 border-2 border-background shadow-sm shrink-0",children:[e.jsx(xe,{src:a.image_url||void 0,alt:a.name}),e.jsx(ue,{className:"bg-primary/10 text-primary text-lg font-bold",children:a.name.split(" ").map(l=>l[0]).join("").slice(0,2)})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("h4",{className:"font-semibold text-foreground",children:a.name}),a.is_primary&&e.jsxs(N,{className:"bg-gold/10 text-gold border-gold/20 text-xs",children:[e.jsx(he,{className:"h-3 w-3 mr-1"}),"Lead"]})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:a.title||pe[a.professional_type]||"Dentist"}),e.jsxs("div",{className:"flex items-center gap-3 mt-1.5 flex-wrap",children:[a.years_experience&&e.jsxs("span",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[e.jsx(Ge,{className:"h-3 w-3"}),a.years_experience,"+ yrs"]}),a.rating&&a.rating>0&&e.jsxs("span",{className:"text-xs flex items-center gap-1 text-gold",children:[e.jsx(q,{className:"h-3 w-3 fill-current"}),a.rating.toFixed(1)]}),a.languages&&a.languages.length>0&&e.jsxs("span",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[e.jsx(es,{className:"h-3 w-3"}),a.languages.slice(0,2).join(", "),a.languages.length>2&&"..."]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 shrink-0",children:[d&&e.jsxs(f,{size:"sm",className:"rounded-lg font-medium hidden sm:flex",onClick:l=>{l.stopPropagation(),c()},children:[e.jsx(U,{className:"h-4 w-4 mr-1.5"}),"Book"]}),e.jsx(f,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>x(!i),children:i?e.jsx(te,{className:"h-4 w-4"}):e.jsx(ie,{className:"h-4 w-4"})})]})]}),i&&e.jsx("div",{className:"px-4 pb-4 animate-fade-in-up",children:e.jsxs("div",{className:"ml-[4.5rem] space-y-3",children:[a.bio&&e.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:a.bio}),a.specializations&&a.specializations.length>0&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-muted-foreground mb-1.5",children:"Specializations"}),e.jsx("div",{className:"flex flex-wrap gap-1.5",children:a.specializations.map((l,u)=>e.jsx(N,{variant:"secondary",className:"text-xs rounded-full",children:l},u))})]}),d&&e.jsxs(f,{size:"sm",className:"rounded-lg font-medium sm:hidden w-full",onClick:c,children:[e.jsx(U,{className:"h-4 w-4 mr-1.5"}),"Book with ",a.name.split(" ")[0]]})]})})]})}function ls({teamMembers:a,clinicName:c,onBookWithDentist:i}){const x=a.filter(l=>W.includes(l.professional_type)),d=a.filter(l=>!W.includes(l.professional_type));return a.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(X,{className:"h-12 w-12 text-muted-foreground/50 mx-auto mb-3"}),e.jsx("p",{className:"text-muted-foreground",children:"Team information will be available once the clinic claims their profile."})]}):e.jsxs("div",{className:"space-y-6",children:[x.length>0&&e.jsxs("div",{children:[e.jsxs("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide mb-3 flex items-center gap-2",children:[e.jsx(X,{className:"h-4 w-4"}),"Dentists & Specialists (",x.length,")"]}),e.jsx("div",{className:"space-y-1",children:x.map(l=>e.jsx(rs,{member:l,onBook:()=>i(l.id)},l.id))})]}),d.length>0&&e.jsxs("div",{children:[e.jsxs("h3",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wide mb-3",children:["Support Staff (",d.length,")"]}),e.jsx("div",{className:"grid sm:grid-cols-2 gap-2",children:d.map(l=>e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-xl bg-muted/50",children:[e.jsxs(me,{className:"h-10 w-10",children:[e.jsx(xe,{src:l.image_url||void 0,alt:l.name}),e.jsx(ue,{className:"bg-primary/10 text-primary text-sm font-bold",children:l.name.split(" ").map(u=>u[0]).join("").slice(0,2)})]}),e.jsxs("div",{className:"min-w-0",children:[e.jsx("p",{className:"font-medium text-sm truncate",children:l.name}),e.jsx("p",{className:"text-xs text-muted-foreground truncate",children:pe[l.professional_type]||l.professional_type})]})]},l.id))})]})]})}function V({clinicId:a,clinicName:c,variant:i="inline"}){const x=[{icon:q,text:"Manage & respond to reviews"},{icon:ye,text:"Boost your search ranking"},{icon:M,text:"Get verified badge"}];return i==="sidebar"?e.jsxs("div",{className:"card-modern p-5 bg-gradient-to-br from-primary/5 via-background to-gold/5 border-primary/20",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"h-10 w-10 rounded-xl bg-primary/10 flex items-center justify-center",children:e.jsx(E,{className:"h-5 w-5 text-primary"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-foreground",children:"Own this clinic?"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Claim your free profile"})]})]}),e.jsx("ul",{className:"space-y-2 mb-4",children:x.map((d,l)=>e.jsxs("li",{className:"flex items-center gap-2 text-sm",children:[e.jsx(Q,{className:"h-4 w-4 text-primary shrink-0"}),e.jsx("span",{className:"text-muted-foreground",children:d.text})]},l))}),e.jsx(f,{className:"w-full rounded-xl font-bold animate-pulse-soft",asChild:!0,children:e.jsxs(F,{to:`/claim-profile?clinic=${encodeURIComponent(c)}`,children:["Claim This Profile",e.jsx(G,{className:"h-4 w-4 ml-2"})]})})]}):i==="banner"?e.jsx("div",{className:"bg-gradient-to-r from-primary/10 via-background to-gold/10 border border-primary/20 rounded-2xl p-6",children:e.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center gap-4",children:[e.jsx("div",{className:"h-12 w-12 rounded-xl bg-primary/10 flex items-center justify-center shrink-0",children:e.jsx(E,{className:"h-6 w-6 text-primary"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("h3",{className:"font-bold text-lg text-foreground mb-1",children:["Are you the owner of ",c,"?"]}),e.jsx("p",{className:"text-muted-foreground text-sm",children:"Claim your profile to manage reviews, update information, and unlock premium features."})]}),e.jsx(f,{className:"rounded-xl font-bold shrink-0 animate-pulse-soft",size:"lg",asChild:!0,children:e.jsxs(F,{to:`/claim-profile?clinic=${encodeURIComponent(c)}`,children:["Claim This Profile",e.jsx(G,{className:"h-4 w-4 ml-2"})]})})]})}):e.jsx("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-xl p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Ee,{className:"h-5 w-5 text-amber-600 dark:text-amber-400 shrink-0 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-amber-900 dark:text-amber-100 mb-2",children:"This profile hasn't been claimed yet"}),e.jsx("p",{className:"text-xs text-amber-700 dark:text-amber-300 mb-3",children:"Information shown may be outdated. Clinic owners can claim and update this profile for free."}),e.jsx(f,{variant:"outline",size:"sm",className:"rounded-lg border-amber-300 hover:bg-amber-100 dark:border-amber-700",asChild:!0,children:e.jsxs(F,{to:`/claim-profile?clinic=${encodeURIComponent(c)}`,children:["Claim Profile",e.jsx(G,{className:"h-3 w-3 ml-1"})]})})]})]})})}function ee({images:a,clinicName:c}){const[i,x]=C.useState(null);if(a.length===0)return null;const d=g=>x(g),l=()=>x(null),u=()=>{i!==null&&x((i+1)%a.length)},h=()=>{i!==null&&x((i-1+a.length)%a.length)},t=()=>a.length===1?"grid-cols-1":a.length===2?"grid-cols-2":a.length===3?"grid-cols-2 md:grid-cols-3":a.length===4?"grid-cols-2":"grid-cols-2 md:grid-cols-3";return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:k("grid gap-3",t()),children:a.slice(0,6).map((g,o)=>e.jsxs("button",{onClick:()=>d(o),className:k("relative aspect-square rounded-xl overflow-hidden bg-muted group",o===0&&a.length>4&&"col-span-2 row-span-2"),children:[e.jsx("img",{src:g.image_url,alt:g.caption||`${c} photo ${o+1}`,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",loading:"lazy",onError:s=>{s.target.src="/placeholder.svg"}}),e.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-colors"}),o===5&&a.length>6&&e.jsx("div",{className:"absolute inset-0 bg-black/60 flex items-center justify-center",children:e.jsxs("div",{className:"text-white text-center",children:[e.jsx(Ze,{className:"h-6 w-6 mx-auto mb-1"}),e.jsxs("span",{className:"font-bold text-lg",children:["+",a.length-6]})]})})]},g.id))}),e.jsx(re,{open:i!==null,onOpenChange:l,children:e.jsx(le,{className:"max-w-5xl h-[90vh] p-0 bg-black/95 border-0",children:e.jsxs("div",{className:"relative w-full h-full flex items-center justify-center",children:[e.jsx(f,{variant:"ghost",size:"icon",className:"absolute top-4 right-4 z-10 text-white hover:bg-white/10",onClick:l,children:e.jsx(ne,{className:"h-6 w-6"})}),a.length>1&&e.jsxs(e.Fragment,{children:[e.jsx(f,{variant:"ghost",size:"icon",className:"absolute left-4 z-10 text-white hover:bg-white/10 h-12 w-12",onClick:h,children:e.jsx(we,{className:"h-8 w-8"})}),e.jsx(f,{variant:"ghost",size:"icon",className:"absolute right-4 z-10 text-white hover:bg-white/10 h-12 w-12",onClick:u,children:e.jsx(_e,{className:"h-8 w-8"})})]}),i!==null&&e.jsxs("div",{className:"max-w-full max-h-full p-12",children:[e.jsx("img",{src:a[i].image_url,alt:a[i].caption||`${c} photo`,className:"max-w-full max-h-[70vh] object-contain mx-auto"}),e.jsxs("div",{className:"absolute bottom-6 left-0 right-0 text-center",children:[a[i].caption&&e.jsx("p",{className:"text-white/80 text-sm mb-2",children:a[i].caption}),e.jsxs("p",{className:"text-white/60 text-sm",children:[i+1," / ",a.length]})]})]})]})})})]})}function ns({reviews:a,googleReviews:c=[],clinicRating:i,clinicReviewCount:x=0,gmbConnected:d=!1,clinicSlug:l,clinicId:u}){const[h,t]=C.useState(!1),[g,o]=C.useState("all"),[s,T]=C.useState(null),L=a.map(r=>({...r,source:"internal"})),b=c.map(r=>({id:r.id,patient_name:r.author_name,rating:r.rating,content:r.text_content||"",created_at:r.review_time||"",source:"google",author_photo_url:r.author_photo_url,reply_text:r.reply_text})),m=[...L,...b];let P=g==="platform"?L:g==="google"?b:m;s!==null&&(P=P.filter(r=>r.rating===s));const D=[5,4,3,2,1].map(r=>({star:r,count:m.filter(_=>_.rating===r).length,percentage:m.length>0?m.filter(_=>_.rating===r).length/m.length*100:0})),v=h?P:P.slice(0,5),y=i||(m.length>0?m.reduce((r,_)=>r+_.rating,0)/m.length:0);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[e.jsxs("div",{className:"text-center md:text-left shrink-0",children:[e.jsxs("div",{className:"flex items-center gap-2 justify-center md:justify-start mb-2",children:[e.jsx("span",{className:"text-5xl font-bold text-foreground",children:y.toFixed(1)}),e.jsxs("div",{children:[e.jsx("div",{className:"flex items-center gap-0.5 text-gold",children:[...Array(5)].map((r,_)=>e.jsx(q,{className:k("h-5 w-5",_<Math.round(y)?"fill-current":"text-muted")},_))}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[x||m.length," reviews"]})]})]}),d&&e.jsxs(N,{variant:"outline",className:"text-xs",children:[e.jsx("img",{src:"https://www.google.com/favicon.ico",alt:"Google",className:"h-3 w-3 mr-1"}),"Google Connected"]})]}),e.jsx("div",{className:"flex-1 space-y-1.5",children:D.map(({star:r,count:_,percentage:j})=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm w-3",children:r}),e.jsx(q,{className:"h-3.5 w-3.5 text-gold fill-gold"}),e.jsx(Oe,{value:j,className:"h-2 flex-1"}),e.jsx("span",{className:"text-xs text-muted-foreground w-8",children:_})]},r))})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(de,{value:g,onValueChange:r=>o(r),children:e.jsxs(oe,{className:"bg-muted/50 rounded-2xl p-1",children:[e.jsxs($,{value:"all",className:"rounded-xl font-bold",children:["All (",m.length,")"]}),e.jsxs($,{value:"platform",className:"rounded-xl font-bold",children:["Platform (",L.length,")"]}),e.jsxs($,{value:"google",className:"rounded-xl font-bold",children:[e.jsx("img",{src:"https://www.google.com/favicon.ico",alt:"Google",className:"h-3 w-3 mr-1.5"}),"Google (",b.length,")"]})]})}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx(ke,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm text-muted-foreground mr-1",children:"Filter:"}),e.jsx(f,{variant:s===null?"default":"outline",size:"sm",className:"rounded-full h-7 px-3",onClick:()=>T(null),children:"All"}),[5,4,3,2,1].map(r=>e.jsxs(f,{variant:s===r?"default":"outline",size:"sm",className:"rounded-full h-7 px-3",onClick:()=>T(s===r?null:r),children:[r," ",e.jsx(q,{className:"h-3 w-3 ml-1 fill-current text-gold"})]},r))]})]}),e.jsxs("div",{className:"flex flex-wrap gap-3",children:[e.jsx(f,{variant:"outline",className:"rounded-xl",asChild:!0,children:e.jsxs("a",{href:u?`/review/${u}`:`/review/${l}`,children:[e.jsx(J,{className:"h-4 w-4 mr-2"}),"Leave a Review"]})}),d&&e.jsx(f,{variant:"ghost",className:"rounded-xl text-muted-foreground",asChild:!0,children:e.jsxs("a",{href:`https://search.google.com/local/writereview?placeid=${l}`,target:"_blank",rel:"noopener noreferrer",children:[e.jsx(Ue,{className:"h-4 w-4 mr-2"}),"Review on Google"]})})]}),v.length>0?e.jsxs("div",{className:"space-y-4",children:[v.map(r=>e.jsx("div",{className:"p-4 rounded-xl bg-muted/50",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"h-10 w-10 rounded-full bg-primary/10 flex items-center justify-center shrink-0",children:e.jsx("span",{className:"font-bold text-primary text-sm",children:r.patient_name.charAt(0).toUpperCase()})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between gap-2 flex-wrap",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-semibold",children:r.patient_name}),r.source==="google"&&e.jsxs(N,{variant:"outline",className:"text-xs py-0",children:[e.jsx("img",{src:"https://www.google.com/favicon.ico",alt:"Google",className:"h-2.5 w-2.5 mr-1"}),"Google"]})]}),r.created_at&&e.jsx("span",{className:"text-xs text-muted-foreground",children:Ke(new Date(r.created_at),{addSuffix:!0})})]}),e.jsx("div",{className:"flex items-center gap-0.5 text-gold my-1",children:[...Array(5)].map((_,j)=>e.jsx(q,{className:k("h-3.5 w-3.5",j<r.rating?"fill-current":"text-muted")},j))}),r.content&&e.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed mt-2",children:r.content})]})]})},r.id)),m.length>5&&!h&&e.jsxs(f,{variant:"outline",className:"w-full rounded-xl",onClick:()=>t(!0),children:["Show all ",m.length," reviews"]})]}):e.jsxs("div",{className:"text-center py-8 bg-muted/30 rounded-xl",children:[e.jsx(J,{className:"h-10 w-10 text-muted-foreground/50 mx-auto mb-3"}),e.jsx("p",{className:"text-muted-foreground mb-3",children:"No reviews yet"}),e.jsx(f,{variant:"outline",className:"rounded-xl",asChild:!0,children:e.jsx("a",{href:u?`/review/${u}`:`/review/${l}`,children:"Be the first to review"})})]})]})}function cs({clinicId:a,isClaimed:c}){const{data:i,isLoading:x}=S({queryKey:["clinic-insurances",a],queryFn:async()=>{const{data:t}=await A.from("clinic_insurances").select("*, insurance:insurances(*)").eq("clinic_id",a);return t||[]},enabled:!!a&&c}),{data:d,isLoading:l}=S({queryKey:["all-insurances"],queryFn:async()=>{const{data:t}=await A.from("insurances").select("*").eq("is_active",!0).order("name");return t||[]}});if(x||l)return e.jsxs("div",{className:"space-y-4",children:[e.jsx(B,{className:"h-8 w-48"}),e.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-3",children:[...Array(6)].map((t,g)=>e.jsx(B,{className:"h-16 rounded-xl"},g))})]});const u=new Set(i?.map(t=>t.insurance_id)||[]),h=d?.filter(t=>["medicaid","medicare","tricare"].includes(t.slug))||[];return d?.filter(t=>!["medicaid","medicare","tricare"].includes(t.slug)),c?i?.length===0?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center py-8 bg-muted/30 rounded-2xl",children:[e.jsx(M,{className:"h-10 w-10 mx-auto text-muted-foreground mb-3"}),e.jsx("h3",{className:"text-lg font-bold text-foreground mb-2",children:"Insurance Not Listed Yet"}),e.jsx("p",{className:"text-muted-foreground text-sm",children:"This clinic hasn't added their accepted insurances yet. Please contact them directly to verify coverage."})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"font-bold text-foreground mb-3 flex items-center gap-2",children:[e.jsx(E,{className:"h-4 w-4 text-primary"}),"Common Insurance Providers"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:d?.slice(0,12).map(t=>e.jsx(N,{variant:"outline",className:"rounded-full px-3 py-1.5",children:t.name},t.id))})]})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"font-bold text-foreground mb-4 flex items-center gap-2",children:[e.jsx(Q,{className:"h-5 w-5 text-primary"}),"Accepted Insurance Providers"]}),e.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-3",children:i?.map(t=>e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-primary/5 border border-primary/20 rounded-xl",children:[t.insurance?.logo_url?e.jsx("img",{src:t.insurance.logo_url,alt:t.insurance.name,className:"h-8 w-8 object-contain"}):e.jsx("div",{className:"h-8 w-8 rounded-lg bg-primary/10 flex items-center justify-center",children:e.jsx(M,{className:"h-4 w-4 text-primary"})}),e.jsx("span",{className:"font-medium text-foreground",children:t.insurance?.name})]},t.id))})]}),h.some(t=>u.has(t.id))&&e.jsxs("div",{children:[e.jsxs("h4",{className:"font-bold text-foreground mb-3 flex items-center gap-2",children:[e.jsx(E,{className:"h-4 w-4 text-emerald"}),"Government Programs Accepted"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:h.filter(t=>u.has(t.id)).map(t=>e.jsxs(N,{className:"bg-emerald/10 text-emerald border-emerald/20 rounded-full px-4 py-1.5",children:[e.jsx(Q,{className:"h-3 w-3 mr-1.5"}),t.name]},t.id))})]}),e.jsx("div",{className:"bg-muted/50 rounded-xl p-4 text-sm text-muted-foreground",children:e.jsxs("p",{children:["ðŸ’¡ ",e.jsx("strong",{children:"Note:"})," Coverage may vary by plan. Please verify your specific coverage with your insurance provider before your appointment."]})})]}):e.jsxs("div",{className:"text-center py-12 bg-muted/30 rounded-2xl",children:[e.jsx(M,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-bold text-foreground mb-2",children:"Insurance Information"}),e.jsx("p",{className:"text-muted-foreground max-w-md mx-auto",children:"Insurance details will be available once this clinic claims their profile. Contact the clinic directly to verify insurance acceptance."})]})}function ds({clinicId:a,isClaimed:c}){const[i,x]=C.useState(null),[d,l]=C.useState(null),{data:u,isLoading:h}=S({queryKey:["before-after-cases",a],queryFn:async()=>[],enabled:!!a&&c}),t=[...new Set(u?.map(o=>o.treatment_name)||[])],g=d?u?.filter(o=>o.treatment_name===d):u;return h?e.jsxs("div",{className:"space-y-4",children:[e.jsx(B,{className:"h-8 w-48"}),e.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[...Array(3)].map((o,s)=>e.jsx(B,{className:"aspect-[4/3] rounded-xl"},s))})]}):c?!u||u.length===0?e.jsxs("div",{className:"text-center py-12 bg-gradient-to-br from-primary/5 via-muted/30 to-purple/5 rounded-2xl border border-dashed border-primary/20",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-2xl bg-primary/10 flex items-center justify-center",children:e.jsx(H,{className:"h-8 w-8 text-primary"})}),e.jsx("h3",{className:"text-lg font-bold text-foreground mb-2",children:"No Cases Yet"}),e.jsx("p",{className:"text-muted-foreground text-sm max-w-md mx-auto",children:"This clinic hasn't added any before & after cases yet. Check back later to see their amazing transformations!"})]}):e.jsxs("div",{className:"space-y-6",children:[t.length>1&&e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx(f,{variant:d===null?"default":"outline",size:"sm",className:"rounded-full",onClick:()=>l(null),children:"All"}),t.map(o=>e.jsx(f,{variant:d===o?"default":"outline",size:"sm",className:"rounded-full",onClick:()=>l(o),children:o},o))]}),e.jsx("div",{className:"grid sm:grid-cols-2 lg:grid-cols-3 gap-4",children:g?.map(o=>e.jsxs("button",{onClick:()=>x(o),className:"group relative aspect-[4/3] rounded-2xl overflow-hidden bg-muted border border-border hover:border-primary/50 transition-all hover:shadow-elevated",children:[e.jsxs("div",{className:"absolute inset-0 flex",children:[e.jsxs("div",{className:"w-1/2 relative overflow-hidden",children:[e.jsx("img",{src:o.before_image_url,alt:"Before",className:"absolute inset-0 w-full h-full object-cover"}),e.jsx("div",{className:"absolute bottom-2 left-2",children:e.jsx(N,{className:"bg-background/80 text-foreground backdrop-blur-sm text-xs",children:"Before"})})]}),e.jsxs("div",{className:"w-1/2 relative overflow-hidden border-l-2 border-white",children:[e.jsx("img",{src:o.after_image_url,alt:"After",className:"absolute inset-0 w-full h-full object-cover"}),e.jsx("div",{className:"absolute bottom-2 right-2",children:e.jsx(N,{className:"bg-primary text-primary-foreground text-xs",children:"After"})})]})]}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity flex items-end p-4",children:e.jsxs("div",{className:"text-white text-left",children:[e.jsx("p",{className:"font-bold",children:o.treatment_name}),o.description&&e.jsx("p",{className:"text-sm text-white/80 line-clamp-2",children:o.description})]})})]},o.id))}),e.jsx(re,{open:!!i,onOpenChange:()=>x(null),children:e.jsx(le,{className:"max-w-4xl p-0 rounded-3xl overflow-hidden",children:i&&e.jsxs("div",{className:"relative",children:[e.jsx(f,{variant:"ghost",size:"icon",className:"absolute top-4 right-4 z-10 rounded-full bg-black/50 text-white hover:bg-black/70",onClick:()=>x(null),children:e.jsx(ne,{className:"h-5 w-5"})}),e.jsxs("div",{className:"grid md:grid-cols-2",children:[e.jsxs("div",{className:"relative aspect-square bg-muted",children:[e.jsx("img",{src:i.before_image_url,alt:"Before",className:"w-full h-full object-cover"}),e.jsx(N,{className:"absolute bottom-4 left-4 bg-background/90 text-foreground",children:"Before"})]}),e.jsxs("div",{className:"relative aspect-square bg-muted",children:[e.jsx("img",{src:i.after_image_url,alt:"After",className:"w-full h-full object-cover"}),e.jsx(N,{className:"absolute bottom-4 right-4 bg-primary text-primary-foreground",children:"After"})]})]}),e.jsxs("div",{className:"p-6 bg-card",children:[e.jsx(N,{className:"mb-2",children:i.treatment_name}),i.description&&e.jsx("p",{className:"text-muted-foreground",children:i.description})]})]})})})]}):e.jsxs("div",{className:"text-center py-12 bg-muted/30 rounded-2xl",children:[e.jsx(Ve,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-bold text-foreground mb-2",children:"Before & After Gallery"}),e.jsx("p",{className:"text-muted-foreground max-w-md mx-auto",children:"Treatment results will be available once this clinic claims their profile and uploads their case studies."})]})}const Zs=()=>{const{clinicSlug:a}=je(),c=a||"",[i,x]=C.useState(!1),[d,l]=C.useState(),{trackProfileView:u}=ce(),h=`clinic/${c}`,{data:t}=Ce(h),g=t?.content?Se(t.content):null,o=t?.faqs&&Array.isArray(t.faqs)&&t.faqs.length>0?t.faqs:t?.content?Ae(t.content):[],{data:s,isLoading:T,error:L}=S({queryKey:["clinic",c],queryFn:async()=>{if(!c||c.includes("/"))return null;const{data:n,error:w}=await A.from("clinics").select("*, city:cities(name, slug, state:states(name, slug, abbreviation)), area:areas(name, slug)").eq("slug",c).maybeSingle();if(w)throw w;return n},enabled:!!c&&!c.includes("/")}),{data:b}=S({queryKey:["clinic-dentists",s?.id],queryFn:async()=>{if(!s?.id)return[];const{data:n}=await A.from("dentists").select("*").eq("clinic_id",s.id).eq("is_active",!0).order("is_primary",{ascending:!1}).order("name");return n||[]},enabled:!!s?.id}),{data:m}=S({queryKey:["clinic-treatments",s?.id],queryFn:async()=>{if(!s?.id)return[];const{data:n}=await A.from("clinic_treatments").select("*, treatment:treatments(*)").eq("clinic_id",s.id);return n||[]},enabled:!!s?.id}),{data:P}=S({queryKey:["clinic-reviews",s?.id],queryFn:async()=>{if(!s?.id)return[];const{data:n}=await A.from("review_funnel_events").select("*").eq("clinic_id",s.id).eq("event_type","rating_submitted").order("created_at",{ascending:!1}).limit(20);return(n||[]).map(w=>({id:w.id,patient_name:w.visitor_id||"Anonymous",rating:w.rating||5,content:w.comment||"",created_at:w.created_at,source:"internal"}))},enabled:!!s?.id}),{data:D}=S({queryKey:["clinic-google-reviews",s?.id],queryFn:async()=>{if(!s?.id)return[];const{data:n}=await A.from("google_reviews").select("*").eq("clinic_id",s.id).order("review_time",{ascending:!1}).limit(20);return n||[]},enabled:!!s?.id&&s?.gmb_connected}),{data:v}=S({queryKey:["clinic-gallery",s?.id],queryFn:async()=>{if(!s?.id)return[];const{data:n}=await A.from("clinic_images").select("*").eq("clinic_id",s.id).order("display_order");return n||[]},enabled:!!s?.id}),{data:y}=S({queryKey:["clinic-hours",s?.id],queryFn:async()=>{if(!s?.id)return[];const{data:n}=await A.from("clinic_hours").select("*").eq("clinic_id",s.id).order("day_of_week");return n||[]},enabled:!!s?.id}),r=n=>{l(n),x(!0)};if(C.useEffect(()=>{s?.id&&s?.name&&u({profile_type:"clinic",profile_id:s.id,profile_name:s.name,city:s.city?.name,state:s.city?.state?.abbreviation})},[s?.id,s?.name,s?.city?.name,s?.city?.state?.abbreviation,u]),Me(!T&&!!s&&!!m&&(!!t||!h),{delay:600}),T)return e.jsx(K,{children:e.jsxs("div",{className:"container py-8",children:[e.jsx(B,{className:"h-80 rounded-3xl mb-8"}),e.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-4",children:[e.jsx(B,{className:"h-12 w-3/4"}),e.jsx(B,{className:"h-6 w-1/2"}),e.jsx(B,{className:"h-32 w-full"})]}),e.jsx("div",{children:e.jsx(B,{className:"h-64 rounded-3xl"})})]})]})});if(!s)return e.jsx(K,{children:e.jsx(I,{children:e.jsxs("div",{className:"text-center py-20",children:[e.jsx("h1",{className:"font-display text-3xl font-bold mb-4",children:"Clinic Not Found"}),e.jsx("p",{className:"text-muted-foreground mb-8",children:"The clinic you're looking for doesn't exist or has been removed."}),e.jsx(f,{asChild:!0,className:"rounded-xl font-bold",children:e.jsx(F,{to:"/search",children:"Browse Clinics"})})]})})});const j=s.claim_status==="claimed",p=s.verification_status==="verified"&&j,z=s.gmb_connected===!0,fe=s.city?.state?.slug||"",ge=[{label:"Clinics",href:"/search"},...s.city?.state?[{label:s.city.state.name,href:`/${s.city.state.slug}`}]:[],...s.city?[{label:s.city.name,href:`/${fe}/${s.city.slug}`}]:[],{label:s.name}];return e.jsxs(K,{children:[e.jsx($e,{title:t?.meta_title||`${s.name} - Dental Clinic in ${s.city?.name||"UAE"}`,description:t?.meta_description||s.description||`Book an appointment at ${s.name}. ${p?"Verified":""} dental clinic in ${s.city?.name||"UAE"} with ${b?.length||0} specialists.`,canonical:`/clinic/${s.slug}/`,keywords:[s.name,`dental clinic ${s.city?.name}`,`dentist ${s.city?.state?.abbreviation||"US"}`]}),e.jsx(qe,{data:[{type:"breadcrumb",items:[{name:"Home",url:"/"},...s.city?.state?.abbreviation?[{name:s.city?.state?.name||"",url:`/${s.city?.state?.abbreviation.toLowerCase()}/`}]:[],...s.city?[{name:s.city.name,url:`/${s.city?.state?.abbreviation?.toLowerCase()||""}/${s.city.slug}/`}]:[],{name:s.name}]},{type:"localBusiness",name:s.name,description:s.description||`Professional dental clinic in ${s.city?.name||"UAE"}`,address:s.address||"",city:s.city?.name||"",state:s.city?.state?.abbreviation||"",country:"United Arab Emirates",phone:s.phone||"",url:`/clinic/${s.slug}/`,geo:s.latitude&&s.longitude?{lat:Number(s.latitude),lng:Number(s.longitude)}:void 0,rating:s.rating?Number(s.rating):void 0,reviewCount:s.review_count||void 0,priceRange:"75 - 6,000 AED",services:(m||[]).slice(0,10).map(n=>n.treatment?.name).filter(Boolean)}],id:"clinic-schema"}),e.jsxs("div",{className:"relative h-56 md:h-72 bg-muted",children:[s.cover_image_url?e.jsx("img",{src:s.cover_image_url,alt:s.name,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full bg-gradient-to-br from-primary/20 via-purple/10 to-gold/20"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/30 to-transparent"}),e.jsx("div",{className:"absolute top-4 left-0 right-0",children:e.jsx("div",{className:"container",children:e.jsx(Ie,{items:ge,className:"text-white/80"})})})]}),e.jsx(I,{size:"sm",className:"-mt-20 relative z-10",children:e.jsx("div",{className:"card-modern p-5 md:p-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-5",children:[e.jsx("div",{className:"shrink-0",children:e.jsx("div",{className:"w-20 h-20 md:w-24 md:h-24 rounded-2xl bg-card overflow-hidden border-4 border-background shadow-elevated",children:s.cover_image_url?e.jsx("img",{src:s.cover_image_url,alt:s.name,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full bg-gradient-to-br from-primary/20 to-purple/20 flex items-center justify-center",children:e.jsx("span",{className:"text-2xl font-display font-bold text-primary/50",children:s.name.charAt(0)})})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-2",children:[p&&e.jsxs(N,{className:"bg-primary text-primary-foreground rounded-full px-3 py-1 font-bold",children:[e.jsx(We,{className:"h-3.5 w-3.5 mr-1"}),"Verified"]}),j&&!p&&e.jsxs(N,{className:"bg-gold/10 text-gold border border-gold/20 rounded-full px-3 py-1 font-bold",children:[e.jsx(he,{className:"h-3.5 w-3.5 mr-1"}),"Claimed"]}),z&&e.jsxs(N,{variant:"outline",className:"rounded-full px-3 py-1 text-xs",children:[e.jsx("img",{src:"https://www.google.com/favicon.ico",alt:"Google",className:"h-3 w-3 mr-1"}),"GMB Synced"]}),!j&&e.jsxs(N,{variant:"outline",className:"rounded-full px-3 py-1 text-xs text-amber-600 border-amber-300",children:[e.jsx(Ye,{className:"h-3 w-3 mr-1"}),"Unclaimed"]})]}),e.jsx(Re,{isVerified:p,isClaimed:j,isGmbConnected:z,reviewCount:s.review_count||0,rating:Number(s.rating)||0,dentistCount:b?.length,className:"mb-2"}),e.jsx("h1",{className:"font-display text-2xl md:text-3xl font-bold mb-2 truncate",children:s.name}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm",children:[(Number(s.rating)||0)>0&&e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsxs("div",{className:"flex items-center gap-0.5 text-gold",children:[e.jsx(q,{className:"h-4 w-4 fill-current"}),e.jsx("span",{className:"font-bold",children:Number(s.rating).toFixed(1)})]}),e.jsxs("span",{className:"text-muted-foreground",children:["(",s.review_count||0,")"]})]}),(s.area||s.city)&&e.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[e.jsx(Y,{className:"h-4 w-4"}),e.jsx("span",{children:s.area?.name||s.city?.name})]}),b&&b.length>0&&e.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[e.jsx(Te,{className:"h-4 w-4"}),e.jsxs("span",{children:[b.length," Dentists"]})]})]}),j&&e.jsxs("div",{className:"flex flex-wrap gap-3 mt-3",children:[s.phone&&e.jsxs("a",{href:`tel:${s.phone}`,className:"text-sm text-primary hover:underline flex items-center gap-1",children:[e.jsx(ae,{className:"h-3.5 w-3.5"}),s.phone]}),s.website&&e.jsxs("a",{href:s.website,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-primary hover:underline flex items-center gap-1",children:[e.jsx(Pe,{className:"h-3.5 w-3.5"}),"Website"]})]})]}),e.jsxs("div",{className:"hidden lg:flex flex-col gap-2 shrink-0",children:[e.jsxs(f,{size:"lg",className:"rounded-xl font-bold",onClick:()=>r(),children:[e.jsx(U,{className:"h-4 w-4 mr-2"}),"Book Appointment"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(f,{variant:"outline",size:"icon",className:"rounded-xl flex-1",children:e.jsx(Xe,{className:"h-4 w-4"})}),e.jsx(f,{variant:"outline",size:"icon",className:"rounded-xl flex-1",children:e.jsx(Be,{className:"h-4 w-4"})})]})]})]})})}),e.jsx(I,{size:"sm",className:"pt-0",children:e.jsx("div",{className:"relative overflow-hidden rounded-2xl bg-gradient-to-r from-red-500 via-orange-500 to-amber-500 p-[2px]",children:e.jsx("div",{className:"relative rounded-2xl bg-background/95 backdrop-blur-sm px-6 py-4",children:e.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"h-12 w-12 rounded-xl bg-gradient-to-br from-red-500 to-orange-500 flex items-center justify-center",children:e.jsx(Je,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("h3",{className:"font-display font-bold text-lg",children:"ðŸŽ‰ 50% OFF All Plans"}),e.jsx(N,{className:"bg-red-500 text-white border-0 animate-pulse",children:"Limited Time"})]}),e.jsx("p",{className:"text-muted-foreground text-sm",children:"Claim this profile & get 50% off your first month. Verified badge + instant bookings."})]})]}),e.jsx(f,{asChild:!0,className:"bg-gradient-to-r from-red-500 to-orange-500 text-white border-0 hover:from-red-600 hover:to-orange-600",children:e.jsx(F,{to:"/pricing",children:"View Plans"})})]})})})}),!j&&e.jsx(I,{size:"sm",className:"pt-0",children:e.jsx(V,{clinicId:s.id,clinicName:s.name,variant:"banner"})}),e.jsxs(I,{size:"md",className:"overflow-x-hidden",children:[e.jsxs("div",{className:"grid lg:grid-cols-3 gap-6 md:gap-8",children:[e.jsx("div",{className:"lg:col-span-2 min-w-0 overflow-hidden",children:e.jsxs(de,{defaultValue:"overview",className:"w-full",children:[e.jsx("div",{className:"overflow-x-auto -mx-4 px-4 md:mx-0 md:px-0 scrollbar-hide touch-manipulation pb-1",children:e.jsxs(oe,{className:"inline-flex w-max md:w-full justify-start bg-muted/50 rounded-2xl p-1 mb-4 md:mb-6",children:[e.jsx($,{value:"overview",className:"rounded-xl font-bold text-xs px-2.5 py-2 md:text-sm md:px-4 whitespace-nowrap touch-manipulation",children:"Overview"}),e.jsx($,{value:"team",className:"rounded-xl font-bold text-xs px-2.5 py-2 md:text-sm md:px-4 whitespace-nowrap touch-manipulation",children:"Team"}),e.jsx($,{value:"services",className:"rounded-xl font-bold text-xs px-2.5 py-2 md:text-sm md:px-4 whitespace-nowrap touch-manipulation",children:"Services"}),e.jsx($,{value:"reviews",className:"rounded-xl font-bold text-xs px-2.5 py-2 md:text-sm md:px-4 whitespace-nowrap touch-manipulation",children:"Reviews"}),e.jsx($,{value:"insurance",className:"rounded-xl font-bold text-xs px-2.5 py-2 md:text-sm md:px-4 whitespace-nowrap touch-manipulation",children:"Insurance"}),e.jsx($,{value:"before-after",className:"rounded-xl font-bold text-xs px-2.5 py-2 md:text-sm md:px-4 whitespace-nowrap touch-manipulation",children:"Before & After"}),v&&v.length>0&&e.jsx($,{value:"photos",className:"rounded-xl font-bold text-xs px-2.5 py-2 md:text-sm md:px-4 whitespace-nowrap touch-manipulation",children:"Photos"})]})}),e.jsxs(R,{value:"overview",className:"space-y-6 animate-fade-in-up",children:[e.jsx(ss,{clinicName:s.name,location:s.city?.name||"",rating:Number(s.rating)||0,isVerified:p}),e.jsxs("div",{className:"card-modern p-4 md:p-6 overflow-hidden",children:[e.jsx("h2",{className:"font-display text-lg md:text-xl font-bold mb-4",children:"About This Clinic"}),g&&g.intro?e.jsxs("div",{className:"space-y-4 overflow-hidden",children:[e.jsx("p",{className:"text-muted-foreground leading-relaxed text-sm md:text-base break-words",children:g.intro}),g.sections.filter(n=>!n.heading.toLowerCase().includes("faq")).slice(0,3).map((n,w)=>e.jsxs("div",{className:"mt-6 overflow-hidden",children:[n.level===2?e.jsx("h3",{className:"font-display text-base md:text-lg font-bold text-foreground mb-3",children:n.heading}):e.jsx("h4",{className:"font-semibold text-foreground mb-2 text-sm md:text-base",children:n.heading}),e.jsx("div",{className:"text-muted-foreground leading-relaxed prose prose-sm max-w-none text-sm md:text-base break-words overflow-hidden",dangerouslySetInnerHTML:{__html:n.content.replace(/\n/g,"<br/>")}})]},w))]}):e.jsx("p",{className:"text-muted-foreground leading-relaxed text-sm md:text-base break-words",children:s.description||`${s.name} is a dental clinic in ${s.area?.name||s.city?.name||"Dubai"}${j?", offering comprehensive dental services with a focus on patient comfort and quality care.":". More details will be available once the clinic claims their profile."}`}),!j&&e.jsx("div",{className:"mt-4",children:e.jsx(V,{clinicId:s.id,clinicName:s.name,variant:"inline"})})]}),(()=>{const n=Z({name:s.name,city:s.city?.name,area:s.area?.name,rating:s.rating||s.average_rating,reviewCount:s.review_count||s.total_reviews,treatments:m?.map(O=>O.treatment?.name).filter(Boolean)}),w=o.length>0?[...o.slice(0,5).map(O=>({question:O.question,answer:O.answer})),...n.slice(0,2)]:n;return e.jsx(He,{title:`About ${s.name}`,subtitle:"Common questions patients ask",items:w,contextLabel:`clinic-${c}`,className:"px-0"})})(),v&&v.length>0&&e.jsxs("div",{className:"card-modern p-4 md:p-6 overflow-hidden",children:[e.jsx("h2",{className:"font-display text-lg md:text-xl font-bold mb-4",children:"Photos"}),e.jsx(ee,{images:v.slice(0,4),clinicName:s.name})]}),m&&m.length>0&&e.jsxs("div",{className:"card-modern p-4 md:p-6 overflow-hidden",children:[e.jsx("h2",{className:"font-display text-lg md:text-xl font-bold mb-4",children:"Popular Services"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[m.slice(0,8).map(n=>{const w=s.city?.state?.slug&&s.city?.slug?`/${s.city.state.slug}/${s.city.slug}/${n.treatment?.slug}`:`/services/${n.treatment?.slug}`;return e.jsx(F,{to:w,className:"px-3 py-2 rounded-xl bg-muted/50 hover:bg-muted hover:text-primary transition-colors max-w-full",children:e.jsx("span",{className:"text-sm font-medium truncate",children:n.treatment?.name})},n.id)}),m.length>8&&e.jsxs(N,{variant:"secondary",className:"rounded-xl",children:["+",m.length-8," more"]})]})]})]}),e.jsx(R,{value:"team",className:"animate-fade-in-up",children:e.jsxs("div",{className:"card-modern p-4 md:p-6 overflow-hidden",children:[e.jsx("h2",{className:"font-display text-lg md:text-xl font-bold mb-4 md:mb-6",children:"Our Dental Team"}),e.jsx(ls,{teamMembers:b||[],clinicName:s.name,onBookWithDentist:n=>r(n)})]})}),e.jsx(R,{value:"services",className:"animate-fade-in-up",children:e.jsxs("div",{className:"card-modern p-4 md:p-6 overflow-hidden space-y-6",children:[e.jsx("h2",{className:"font-display text-lg md:text-xl font-bold",children:"Services Offered"}),m&&m.length>0?e.jsx(ze,{treatments:m.map(n=>({name:n.treatment?.name||"",slug:n.treatment?.slug||"",priceAed:n.price_aed||null})),hasInsurance:j}):e.jsx("p",{className:"text-muted-foreground text-sm md:text-base",children:j?"Contact the clinic for available services.":"Services will be listed once the clinic claims their profile."})]})}),e.jsx(R,{value:"reviews",className:"animate-fade-in-up",children:e.jsxs("div",{className:"card-modern p-4 md:p-6 overflow-hidden",children:[e.jsx("h2",{className:"font-display text-lg md:text-xl font-bold mb-4 md:mb-6",children:"Patient Reviews"}),e.jsx(ns,{reviews:P||[],googleReviews:D||[],clinicRating:s.rating?Number(s.rating):void 0,clinicReviewCount:s.review_count||0,gmbConnected:z,clinicSlug:s.slug,clinicId:s.id})]})}),e.jsx(R,{value:"insurance",className:"animate-fade-in-up",children:e.jsxs("div",{className:"card-modern p-4 md:p-6 overflow-hidden",children:[e.jsx("h2",{className:"font-display text-lg md:text-xl font-bold mb-4 md:mb-6",children:"Insurance & Payment"}),e.jsx(cs,{clinicId:s.id,isClaimed:j})]})}),e.jsx(R,{value:"before-after",className:"animate-fade-in-up",children:e.jsxs("div",{className:"card-modern p-4 md:p-6 overflow-hidden",children:[e.jsx("h2",{className:"font-display text-lg md:text-xl font-bold mb-4 md:mb-6",children:"Treatment Results"}),e.jsx(ds,{clinicId:s.id,isClaimed:j})]})}),v&&v.length>0&&e.jsx(R,{value:"photos",className:"animate-fade-in-up",children:e.jsxs("div",{className:"card-modern p-4 md:p-6 overflow-hidden",children:[e.jsxs("h2",{className:"font-display text-lg md:text-xl font-bold mb-4",children:["Gallery (",v.length," photos)"]}),e.jsx(ee,{images:v,clinicName:s.name})]})})]})}),e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"lg:sticky lg:top-24",children:[e.jsx(is,{clinicId:s.id,clinicName:s.name,clinicPhone:s.phone,clinicRating:s.rating?Number(s.rating):void 0,clinicReviewCount:s.review_count||0,clinicArea:s.area?.name||s.city?.name,clinicLatitude:s.latitude?Number(s.latitude):void 0,clinicLongitude:s.longitude?Number(s.longitude):void 0,clinicAddress:s.address||void 0,hours:y||[],teamMembers:b||[],isClaimed:j}),!j&&e.jsx("div",{className:"mt-6",children:e.jsx(V,{clinicId:s.id,clinicName:s.name,variant:"sidebar"})}),e.jsx("div",{className:"mt-6",children:e.jsx(as,{clinicId:s.id,cityId:s.city_id,cityName:s.city?.name,citySlug:s.city?.slug,stateSlug:s.city?.state?.abbreviation?.toLowerCase()})})]})})]}),e.jsx("div",{className:"mt-8 max-w-5xl mx-auto px-4",children:e.jsx(De,{variant:"clinic",stateSlug:s.city?.state?.abbreviation?.toLowerCase(),currentLocationName:s.city?.name,currentLocationSlug:s.city?.slug,relatedServices:m?.map(n=>({name:n.treatment?.name||"",slug:n.treatment?.slug||""})).filter(n=>n.name)||[],nearbyDentists:[]})}),e.jsx("div",{className:"lg:hidden fixed bottom-0 left-0 right-0 p-4 bg-background/95 backdrop-blur border-t border-border z-40",children:e.jsxs(f,{className:"w-full rounded-xl font-bold h-12 text-base",size:"lg",onClick:()=>r(),children:[e.jsx(U,{className:"h-5 w-5 mr-2"}),"Book Appointment"]})})]}),e.jsx(Qe,{pageTitle:s.name,aiSummary:`${s.name} is a dental clinic${s.city?.name?` in ${s.city.name}`:""}, UAE. ${s.rating?`Rated ${s.rating}/5 by ${s.review_count||0} patients.`:""} Book appointments online through AppointPanda.`,entityType:"clinic",location:{city:s.city?.name,area:s.area?.name,country:"UAE"},url:`/clinic/${c}/`,faqs:Z({name:s.name,city:s.city?.name,area:s.area?.name,rating:s.rating||s.average_rating,reviewCount:s.review_count||s.total_reviews})}),e.jsx(Le,{open:i,onOpenChange:x,profileId:d||s.id,profileName:d&&b?.find(n=>n.id===d)?.name||s.name,profileType:d?"dentist":"clinic",clinicId:s.id,clinicLatitude:s.latitude?Number(s.latitude):void 0,clinicLongitude:s.longitude?Number(s.longitude):void 0,clinicAddress:s.address||void 0})]})};export{Zs as default};
