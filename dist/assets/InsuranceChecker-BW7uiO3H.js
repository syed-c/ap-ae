import{u as m,j as e}from"./chunk-CPh6voF3.js";import{r as h}from"./chunk-CffrGP6S.js";import{ah as G,ai as J,o as P,a as y,a2 as g,a3 as N,a5 as v,a6 as w,a7 as b,I as U,C as X,B,p as Z,x as ee,n as se,Y as ae,s as r}from"./index-DflORfjh.js";import{C,a as S,b as _,c as V,d as q}from"./chunk-Dwq_v72W.js";import{T as te,a as ie,b as K,c as x,d as ne,e as u}from"./chunk-NLs5Ye4A.js";import{L as M}from"./chunk-Drd-rt-S.js";import{P as re}from"./chunk-D3ia1n3Z.js";import"./chunk-B8auUmee.js";import"./chunk-DK8nT4cj.js";import"./chunk-BEQ5VEiB.js";import"./chunk-yff5u8mE.js";import"./chunk-xExVBHTi.js";function ge(){const{data:F}=G("tools/insurance-checker"),[c,R]=h.useState(""),[t,E]=h.useState(""),[j,A]=h.useState(""),[i,Q]=h.useState(""),[I,Y]=h.useState(""),{data:D}=m({queryKey:["tool-insurances"],queryFn:async()=>{const{data:s}=await r.from("insurances").select("id, name").order("name");return s||[]}}),{data:H}=m({queryKey:["tool-treatments"],queryFn:async()=>{const{data:s}=await r.from("treatments").select("id, name, slug").eq("is_active",!0).order("name");return s||[]}}),{data:O}=m({queryKey:["tool-states"],queryFn:async()=>{const{data:s}=await r.from("states").select("id, name, abbreviation").eq("is_active",!0).order("name");return s||[]}}),{data:$}=m({queryKey:["tool-cities",t],queryFn:async()=>{let s=r.from("cities").select("id, name, slug").eq("is_active",!0).order("name");t&&(s=s.eq("state_id",t));const{data:p}=await s.limit(200);return p||[]}}),{data:n}=m({queryKey:["insurance-clinics",c,t,j,i],queryFn:async()=>{if(!c)return null;const{data:s}=await r.from("clinic_insurances").select("clinic_id").eq("insurance_id",c);if(!s||s.length===0)return{clinics:[],count:0};const p=s.map(o=>o.clinic_id);let l=r.from("clinics").select("id, name, slug, rating, review_count, address, city_id, cities(name, states(abbreviation))").eq("is_active",!0).in("id",p.slice(0,100));j?l=l.eq("city_id",j):t&&(l=l.eq("cities.state_id",t));const{data:W}=await l.limit(20);let d=W||[];if(i&&d.length>0){const{data:o}=await r.from("clinic_treatments").select("clinic_id, price_from, price_to").eq("treatment_id",i).in("clinic_id",d.map(a=>a.id)),f=new Map((o||[]).map(a=>[a.clinic_id,a]));d=d.filter(a=>f.has(a.id)).map(a=>({...a,pricing:f.get(a.id)}))}return{clinics:d.sort((o,f)=>(f.rating||0)-(o.rating||0)),count:p.length}},enabled:!!c}),k=D?.find(s=>s.id===c),L=H?.find(s=>s.id===i),T=O?.find(s=>s.id===t),z=I?$?.filter(s=>s.name.toLowerCase().includes(I.toLowerCase())):$;return e.jsxs(re,{children:[e.jsx(J,{title:F?.meta_title||"Insurance Coverage Checker | Find In-Network Dentists | AppointPanda",description:F?.meta_description||"Check which dentists accept your insurance. Find in-network dental offices near you with real-time coverage data.",canonical:"/tools/insurance-checker/"}),e.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-primary/10 mb-4",children:e.jsx(P,{className:"h-8 w-8 text-primary"})}),e.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Insurance Coverage Checker"}),e.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"Find dentists who accept your insurance. See real in-network dental offices near you."})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsxs(C,{className:"lg:col-span-2",children:[e.jsxs(S,{children:[e.jsxs(_,{className:"flex items-center gap-2",children:[e.jsx(P,{className:"h-5 w-5"}),"Check Your Coverage"]}),e.jsx(V,{children:"Select your insurance and location to find in-network dentists"})]}),e.jsxs(q,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(y,{children:"Insurance Provider"}),e.jsxs(g,{value:c,onValueChange:R,children:[e.jsx(N,{className:"w-full",children:e.jsx(v,{placeholder:"Select your insurance"})}),e.jsx(w,{children:D?.map(s=>e.jsx(b,{value:s.id,children:s.name},s.id))})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(y,{children:"State"}),e.jsxs(g,{value:t,onValueChange:s=>{E(s),A("")},children:[e.jsx(N,{children:e.jsx(v,{placeholder:"Select state"})}),e.jsx(w,{children:O?.map(s=>e.jsx(b,{value:s.id,children:s.name},s.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(y,{children:"City"}),e.jsxs(g,{value:j,onValueChange:A,children:[e.jsx(N,{children:e.jsx(v,{placeholder:"Select city"})}),e.jsxs(w,{children:[e.jsx("div",{className:"px-2 pb-2",children:e.jsx(U,{placeholder:"Search cities...",value:I,onChange:s=>Y(s.target.value),className:"h-8"})}),z?.slice(0,50).map(s=>e.jsx(b,{value:s.id,children:s.name},s.id))]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(y,{children:"Treatment Needed (Optional)"}),e.jsxs(g,{value:i,onValueChange:Q,children:[e.jsx(N,{className:"w-full",children:e.jsx(v,{placeholder:"Any treatment"})}),e.jsx(w,{children:H?.map(s=>e.jsx(b,{value:s.id,children:s.name},s.id))})]})]})]})]}),e.jsxs(C,{children:[e.jsx(S,{children:e.jsx(_,{children:"Results"})}),e.jsx(q,{children:n?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"text-center p-6 bg-primary/5 rounded-lg",children:[e.jsx(X,{className:"h-8 w-8 text-primary mx-auto mb-2"}),e.jsxs("p",{className:"text-sm text-muted-foreground mb-1",children:[k?.name," Accepted By"]}),e.jsx("p",{className:"text-4xl font-bold text-primary",children:n.count}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"dental offices on our platform"})]}),n.clinics.length>0&&e.jsxs("p",{className:"text-sm text-muted-foreground text-center",children:[n.clinics.length," shown in your area"]}),e.jsx(B,{className:"w-full",asChild:!0,children:e.jsxs(M,{to:`/search?insurance=${k?.name||""}&state=${T?.abbreviation||""}`,children:[e.jsx(Z,{className:"h-4 w-4 mr-2"}),"Browse All In-Network Dentists"]})})]}):e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(P,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),e.jsx("p",{children:"Select your insurance to find in-network dentists"})]})})]})]}),n?.clinics&&n.clinics.length>0&&e.jsxs(C,{className:"mt-8",children:[e.jsxs(S,{children:[e.jsxs(_,{className:"flex items-center gap-2",children:[e.jsx(ee,{className:"h-5 w-5"}),"Dentists Accepting ",k?.name]}),e.jsxs(V,{children:[L?`Offering ${L.name} • `:"",T?`${T.name}`:"All locations"]})]}),e.jsx(q,{children:e.jsxs(te,{children:[e.jsx(ie,{children:e.jsxs(K,{children:[e.jsx(x,{children:"Dental Office"}),e.jsx(x,{children:"Location"}),i&&e.jsx(x,{className:"text-right",children:"Price"}),e.jsx(x,{className:"text-right",children:"Rating"}),e.jsx(x,{})]})}),e.jsx(ne,{children:n.clinics.map(s=>e.jsxs(K,{children:[e.jsx(u,{className:"font-medium",children:s.name}),e.jsxs(u,{className:"text-muted-foreground",children:[s.cities?.name,", ",s.cities?.states?.abbreviation]}),i&&e.jsx(u,{className:"text-right",children:s.pricing?e.jsxs("span",{children:["$",s.pricing.price_from,s.pricing.price_to?` – $${s.pricing.price_to}`:""]}):"—"}),e.jsx(u,{className:"text-right",children:s.rating?e.jsxs("div",{className:"flex items-center justify-end gap-1",children:[e.jsx(se,{className:"h-3.5 w-3.5 fill-amber-400 text-amber-400"}),s.rating.toFixed(1)]}):"—"}),e.jsx(u,{children:e.jsx(B,{size:"sm",variant:"ghost",asChild:!0,children:e.jsxs(M,{to:`/clinic/${s.slug||s.id}`,children:["View ",e.jsx(ae,{className:"h-4 w-4 ml-1"})]})})})]},s.id))})]})})]}),e.jsxs(C,{className:"mt-8",children:[e.jsx(S,{children:e.jsx(_,{children:"Frequently Asked Questions"})}),e.jsxs(q,{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-2",children:"How do I know if a dentist accepts my insurance?"}),e.jsx("p",{className:"text-muted-foreground",children:"Dentists on our platform specify which insurance plans they accept. Select your provider above to see verified in-network offices."})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-2",children:"What's the difference between PPO and HMO dental plans?"}),e.jsx("p",{className:"text-muted-foreground",children:"PPO plans offer more flexibility in choosing dentists but often cost more. HMO plans require in-network dentists but typically have lower premiums."})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-2",children:"How can I verify my exact coverage?"}),e.jsx("p",{className:"text-muted-foreground",children:"Contact your insurance company directly or ask your dentist's office to verify benefits before treatment."})]})]})]})]})]})}export{ge as default};
