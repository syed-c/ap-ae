import{b as ae,u as H,c as ce,j as e}from"./chunk-CPh6voF3.js";import{r as C}from"./chunk-CffrGP6S.js";import{C as r,d as c,a as f,b as v,c as k}from"./chunk-Dwq_v72W.js";import{f as R,ak as _,p as de,I as oe,B as T,L as q,S as K,i as g,s as L,U as W,T as J,E as U,m as $,a4 as G,n as z,a as me,t as D,G as xe,o as he,C as j,Z as Q,w as ue,x as pe,aI as ge}from"./index-DflORfjh.js";import{T as Y,a as X,b as S,c as V}from"./chunk-k8HiDHrE.js";import{P as B}from"./chunk-DSDQubI6.js";import{R as Z}from"./chunk-BOvFDp2b.js";import{E as je}from"./chunk-CbETxTmt.js";import{A as ie,a as fe}from"./chunk-BRjFAgpB.js";import{T as M}from"./chunk-DbdCK11k.js";import{C as O}from"./chunk-f2aNMA4v.js";import{E as ne}from"./chunk-CcezodbN.js";import{M as le}from"./chunk-DLwp5n63.js";import{F as ee}from"./chunk-BaL04tya.js";import{S as ve}from"./chunk-DfjE-bP6.js";import{S as Ne}from"./chunk-CzOt8Wyl.js";import{C as ye}from"./chunk-BCvbbygb.js";import{S as re,A as se}from"./chunk-C2VW2Ml6.js";import{M as be}from"./chunk-BZxg8uu_.js";import{C as E}from"./chunk-CbEmr7WL.js";import{S as we}from"./chunk-C8UDNHIm.js";import{M as Ce}from"./chunk-_WnrCass.js";import{C as Se}from"./chunk-ByjWEnRc.js";import{C as Pe}from"./chunk-C14yCe0w.js";import{C as ke}from"./chunk-wy0nNZZG.js";import"./chunk-B8auUmee.js";import"./chunk-DK8nT4cj.js";import"./chunk-Drd-rt-S.js";import"./chunk-BEQ5VEiB.js";import"./chunk-yff5u8mE.js";import"./chunk-xExVBHTi.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=R("Accessibility",[["circle",{cx:"16",cy:"4",r:"1",key:"1grugj"}],["path",{d:"m18 19 1-7-6 1",key:"r0i19z"}],["path",{d:"m5 8 3-3 5.5 3-2.36 3.5",key:"9ptxx2"}],["path",{d:"M4.24 14.5a5 5 0 0 0 6.88 6",key:"10kmtu"}],["path",{d:"M13.76 17.5a5 5 0 0 0-6.88-6",key:"2qq6rc"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=R("Baby",[["path",{d:"M9 12h.01",key:"157uk2"}],["path",{d:"M15 12h.01",key:"1k8ypt"}],["path",{d:"M10 16c.5.3 1.2.5 2 .5s1.5-.2 2-.5",key:"1u7htd"}],["path",{d:"M19 6.3a9 9 0 0 1 1.8 3.9 2 2 0 0 1 0 3.6 9 9 0 0 1-17.6 0 2 2 0 0 1 0-3.6A9 9 0 0 1 12 3c2 0 3.5 1.1 3.5 2.5s-.9 2.5-2 2.5c-.8 0-1.5-.4-1.5-1",key:"5yv0yz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=R("Gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=R("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=R("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Me=R("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);function Ie(){const{toast:h}=_(),y=ae(),[d,N]=C.useState("all"),[u,a]=C.useState(""),{data:s,isLoading:l,refetch:p}=H({queryKey:["content-audit-results",d],queryFn:async()=>{const{data:n}=await L.from("blog_posts").select("id, slug, title, excerpt, content, seo_title, seo_description, status").eq("status","published").order("created_at",{ascending:!0}).limit(100),w=(n||[]).map(t=>{const m=[],i=[];let o="low";const F=(typeof t.content=="string"?t.content:JSON.stringify(t.content||"")).split(/\s+/).filter(Boolean).length;F===0?(m.push("No content"),i.push("Generate initial content using Content Studio"),o="high"):F<300?(m.push(`Thin content (${F} words)`),i.push("Expand content to 500+ words minimum"),o="high"):F<1e3&&(m.push(`Content below target (${F} < 1000 words)`),i.push("Add more detailed sections, examples, and data"),o="medium"),t.seo_title||(m.push("Missing SEO title"),i.push("Add SEO title for search visibility")),t.seo_description||(m.push("Missing SEO description"),i.push("Add SEO description for click-through rate")),t.excerpt||(m.push("Missing excerpt"),i.push("Add compelling excerpt for search results"));const I=Math.floor(Math.random()*500)+50;return{page_id:t.id,url:`/blog/${t.slug}`,page_type:"blog",title:t.title,word_count:F,issues:m,recommendations:i,priority:o,impressions:I*10,ctr:(Math.random()*3+1).toFixed(1)}});return d==="high"?w.filter(t=>t.priority==="high"):d==="medium"?w.filter(t=>t.priority==="medium"):d==="issues"?w.filter(t=>t.issues.length>0):w}}),b=ce({mutationFn:async n=>{const{data:w,error:t}=await L.functions.invoke("phase4-content-audit",{body:{action:"enhance",pageId:n}});if(t)throw t;return w},onSuccess:()=>{h({title:"Content enhancement started"}),y.invalidateQueries({queryKey:["content-audit-results"]})},onError:n=>{h({title:"Enhancement failed",description:n.message,variant:"destructive"})}}),P=s?.filter(n=>u===""||n.url.toLowerCase().includes(u.toLowerCase())||n.title.toLowerCase().includes(u.toLowerCase())),A={total:s?.length||0,highPriority:s?.filter(n=>n.priority==="high").length||0,mediumPriority:s?.filter(n=>n.priority==="medium").length||0,noIssues:s?.filter(n=>n.issues.length===0).length||0};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsx(r,{children:e.jsx(c,{className:"pt-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-3xl font-bold",children:A.total}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Pages Audited"})]})})}),e.jsx(r,{className:"border-destructive/50",children:e.jsx(c,{className:"pt-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-3xl font-bold text-destructive",children:A.highPriority}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"High Priority"})]})})}),e.jsx(r,{className:"border-yellow-500/50",children:e.jsx(c,{className:"pt-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:A.mediumPriority}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Medium Priority"})]})})}),e.jsx(r,{className:"border-green-500/50",children:e.jsx(c,{className:"pt-6",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-3xl font-bold text-green-600",children:A.noIssues}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"No Issues"})]})})})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"relative flex-1 max-w-md",children:[e.jsx(de,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(oe,{placeholder:"Search pages...",value:u,onChange:n=>a(n.target.value),className:"pl-10"})]}),e.jsx(Y,{value:d,onValueChange:N,children:e.jsxs(X,{children:[e.jsx(S,{value:"all",children:"All"}),e.jsx(S,{value:"high",children:"High Priority"}),e.jsx(S,{value:"medium",children:"Medium"}),e.jsx(S,{value:"issues",children:"Has Issues"})]})}),e.jsxs(T,{variant:"outline",onClick:()=>p(),disabled:l,children:[l?e.jsx(q,{className:"h-4 w-4 mr-2 animate-spin"}):e.jsx(Z,{className:"h-4 w-4 mr-2"}),"Refresh Audit"]})]}),e.jsxs(r,{children:[e.jsxs(f,{children:[e.jsx(v,{children:"Content Audit Results"}),e.jsxs(k,{children:["Pages sorted by priority â€¢ ",P?.length||0," results"]})]}),e.jsx(c,{children:e.jsx(K,{className:"h-[600px]",children:e.jsx("div",{className:"space-y-4",children:l?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(q,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):P?.length===0?e.jsx("div",{className:"text-center py-12 text-muted-foreground",children:"No pages match your filters"}):P?.map(n=>e.jsxs("div",{className:`p-4 rounded-lg border ${n.priority==="high"?"border-destructive/50 bg-destructive/5":n.priority==="medium"?"border-yellow-500/50 bg-yellow-50/50 dark:bg-yellow-950/20":"border-border"}`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(g,{variant:n.priority==="high"?"destructive":n.priority==="medium"?"secondary":"outline",children:n.priority}),e.jsx(g,{variant:"outline",children:n.page_type}),e.jsxs(g,{variant:"outline",children:[n.word_count," words"]})]}),e.jsx("h4",{className:"font-medium truncate",children:n.title}),e.jsx("p",{className:"text-sm text-muted-foreground truncate",children:n.url})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(T,{size:"sm",variant:"outline",asChild:!0,children:e.jsx("a",{href:n.url,target:"_blank",rel:"noopener noreferrer",children:e.jsx(je,{className:"h-4 w-4"})})}),e.jsxs(T,{size:"sm",onClick:()=>b.mutate(n.page_id),disabled:b.isPending,children:[b.isPending?e.jsx(q,{className:"h-4 w-4 animate-spin"}):e.jsx(ie,{className:"h-4 w-4 mr-1"}),"Enhance"]})]})]}),n.issues.length>0&&e.jsxs("div",{className:"mb-3",children:[e.jsx("p",{className:"text-sm font-medium text-destructive mb-1",children:"Issues:"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:n.issues.map((w,t)=>e.jsxs(g,{variant:"destructive",className:"text-xs",children:[e.jsx(M,{className:"h-3 w-3 mr-1"}),w]},t))})]}),n.recommendations.length>0&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-primary mb-1",children:"Recommendations:"}),e.jsx("ul",{className:"text-sm text-muted-foreground space-y-1",children:n.recommendations.map((w,t)=>e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(O,{className:"h-4 w-4 text-primary mt-0.5 shrink-0"}),w]},t))})]}),e.jsxs("div",{className:"flex items-center gap-4 mt-3 pt-3 border-t text-xs text-muted-foreground",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(ne,{className:"h-3 w-3"}),n.impressions," impressions"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(le,{className:"h-3 w-3"}),n.ctr,"% CTR"]})]})]},n.page_id))})})})]})]})}function Ve({kpiData:h}){const y=[{label:"Total Sessions",value:h?.sessions?.toLocaleString()||"0",change:"+12.5%",trend:"up",icon:W,description:"Unique visitor sessions in last 30 days"},{label:"Total Pageviews",value:h?.pageviews?.toLocaleString()||"0",change:"+18.3%",trend:"up",icon:ne,description:"Page views across all pages"},{label:"Profile Views",value:h?.profileViews?.toLocaleString()||"0",change:"+8.7%",trend:"up",icon:ee,description:"Dentist profile page views"},{label:"Pages per Session",value:h?.pagesPerSession||"0",change:"+2.1%",trend:"up",icon:le,description:"Average pages viewed per visit"}],d=[{label:"Total Conversions",value:h?.conversions?.toLocaleString()||"0",target:1e3,description:"Appointment requests & form submissions"},{label:"Conversion Rate",value:`${h?.conversionRate||"0"}%`,target:3,description:"Sessions to conversions"}],N=[{label:"Organic Traffic Growth",current:45,target:100,unit:"%",description:"vs. Month 1 baseline"},{label:"Blog Posts Published",current:68,target:100,unit:" posts",description:"Month 6 target"},{label:"Keywords in Top 20",current:87,target:150,unit:"",description:"Tracked keywords ranking"},{label:"Backlinks Acquired",current:28,target:60,unit:"",description:"Quality backlinks"},{label:"Dentists Claimed",current:312,target:500,unit:"",description:"Verified profiles"}],u={postsThisMonth:12,totalPosts:68,topPerforming:[{title:"Best Cosmetic Dentists in Los Angeles",views:4520},{title:"Dental Implant Cost Guide 2026",views:3890},{title:"Root Canal vs Extraction: Complete Comparison",views:2340}],topCities:[{city:"Los Angeles",views:12450},{city:"San Francisco",views:8920},{city:"Boston",views:6780}],topServices:[{service:"Dental Implants",views:9870},{service:"Invisalign",views:7650},{service:"Teeth Whitening",views:5430}]},a=(s,l)=>s==="up"?e.jsxs("span",{className:"flex items-center text-green-600 text-sm",children:[e.jsx(ie,{className:"h-4 w-4"}),l]}):s==="down"?e.jsxs("span",{className:"flex items-center text-destructive text-sm",children:[e.jsx(fe,{className:"h-4 w-4"}),l]}):e.jsxs("span",{className:"flex items-center text-muted-foreground text-sm",children:[e.jsx(Le,{className:"h-4 w-4"}),l]});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[e.jsx(J,{className:"h-5 w-5"}),"Traffic Metrics (Last 30 Days)"]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:y.map(s=>e.jsx(r,{children:e.jsxs(c,{className:"pt-6",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:s.label}),e.jsx("p",{className:"text-2xl font-bold mt-1",children:s.value}),a(s.trend,s.change)]}),e.jsx("div",{className:"p-2 bg-primary/10 rounded-lg",children:e.jsx(s.icon,{className:"h-5 w-5 text-primary"})})]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:s.description})]})},s.label))})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(r,{children:[e.jsxs(f,{children:[e.jsxs(v,{className:"flex items-center gap-2",children:[e.jsx(U,{className:"h-5 w-5"}),"Conversion Metrics"]}),e.jsx(k,{children:"Appointment requests and lead generation"})]}),e.jsx(c,{children:e.jsx("div",{className:"grid grid-cols-2 gap-4",children:d.map(s=>e.jsxs("div",{className:"text-center p-4 bg-muted/50 rounded-lg",children:[e.jsx("p",{className:"text-3xl font-bold",children:s.value}),e.jsx("p",{className:"text-sm font-medium",children:s.label}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:s.description})]},s.label))})})]}),e.jsxs(r,{children:[e.jsxs(f,{children:[e.jsxs(v,{className:"flex items-center gap-2",children:[e.jsx($,{className:"h-5 w-5"}),"Monthly Targets Progress"]}),e.jsx(k,{children:"Month 6 milestone tracking"})]}),e.jsx(c,{children:e.jsx("div",{className:"space-y-4",children:N.slice(0,3).map(s=>e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{children:s.label}),e.jsxs("span",{className:"font-medium",children:[s.current,s.unit," / ",s.target,s.unit]})]}),e.jsx(B,{value:s.current/s.target*100,className:"h-2"})]},s.label))})})]})]}),e.jsxs(r,{children:[e.jsxs(f,{children:[e.jsx(v,{children:"All KPI Targets"}),e.jsx(k,{children:"Progress toward Month 12 goals"})]}),e.jsx(c,{children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:N.map(s=>{const l=s.current/s.target*100,p=l>=100?"complete":l>=75?"on-track":l>=50?"warning":"behind";return e.jsx("div",{className:`p-4 rounded-lg border ${p==="complete"?"border-green-500 bg-green-50 dark:bg-green-950/20":p==="on-track"?"border-blue-500 bg-blue-50 dark:bg-blue-950/20":p==="warning"?"border-yellow-500 bg-yellow-50 dark:bg-yellow-950/20":"border-destructive bg-red-50 dark:bg-red-950/20"}`,children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold",children:s.current}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["of ",s.target,s.unit]}),e.jsx(B,{value:Math.min(l,100),className:"h-1 mt-2"}),e.jsx("p",{className:"text-xs font-medium mt-2",children:s.label})]})},s.label)})})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs(r,{children:[e.jsx(f,{children:e.jsx(v,{className:"text-base",children:"Top Blog Posts"})}),e.jsx(c,{children:e.jsx("div",{className:"space-y-3",children:u.topPerforming.map((s,l)=>e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"truncate flex-1 mr-2",children:s.title}),e.jsx(g,{variant:"secondary",children:s.views.toLocaleString()})]},l))})})]}),e.jsxs(r,{children:[e.jsx(f,{children:e.jsx(v,{className:"text-base",children:"Top Cities"})}),e.jsx(c,{children:e.jsx("div",{className:"space-y-3",children:u.topCities.map((s,l)=>e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{children:s.city}),e.jsx(g,{variant:"secondary",children:s.views.toLocaleString()})]},l))})})]}),e.jsxs(r,{children:[e.jsx(f,{children:e.jsx(v,{className:"text-base",children:"Top Services"})}),e.jsx(c,{children:e.jsx("div",{className:"space-y-3",children:u.topServices.map((s,l)=>e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{children:s.service}),e.jsx(g,{variant:"secondary",children:s.views.toLocaleString()})]},l))})})]})]})]})}function Be(){const[h,y]=C.useState({availableToday:!0,weekendHours:!0,eveningHours:!0,acceptsNewPatients:!0,languagesSpoken:!0,wheelchairAccessible:!0,pediatricFriendly:!0,sedationOptions:!0,patientRatings:!0,yearsInPractice:!0,genderPreference:!0,verifiedReviews:!0}),d=[{id:"search-filters",name:"Advanced Search Filters",description:"Enhanced filtering options for better dentist discovery",status:"completed",progress:100,subFeatures:[{name:"Availability filters (today/week)",completed:!0},{name:"Weekend hours filter",completed:!0},{name:"Evening hours filter",completed:!0},{name:"Languages spoken filter",completed:!0},{name:"Wheelchair accessible filter",completed:!0},{name:"Pediatric-friendly filter",completed:!0},{name:"Sedation options filter",completed:!0},{name:"Patient ratings (4+ stars)",completed:!0},{name:"Years in practice filter",completed:!0},{name:"Accepts new patients toggle",completed:!0}]},{id:"review-system",name:"Enhanced Review System",description:"Verified reviews with detailed categories and dentist responses",status:"in-progress",progress:65,subFeatures:[{name:"Verified patient reviews",completed:!0},{name:"Photo uploads (office, waiting room)",completed:!1},{name:"Dentist response capability",completed:!0},{name:"Helpful/not helpful voting",completed:!0},{name:"Detailed rating categories",completed:!1},{name:"Bedside manner rating",completed:!1},{name:"Wait time rating",completed:!1},{name:"Office cleanliness rating",completed:!1}]},{id:"cost-estimator",name:"Enhanced Cost Estimator",description:"Insurance-aware cost estimation with dentist comparison",status:"completed",progress:100,subFeatures:[{name:"Insurance input integration",completed:!0},{name:"Procedure cost breakdown",completed:!0},{name:"Out-of-pocket estimates",completed:!0},{name:"Compare dentists by price",completed:!0},{name:"Schedule consultation CTA",completed:!0}]},{id:"virtual-consult",name:"Virtual Consultation",description:"Video consultation capability with document sharing",status:"planned",progress:15,subFeatures:[{name:"Video chat capability",completed:!1},{name:"Pre-consultation forms",completed:!0},{name:"Document upload (X-rays, insurance)",completed:!1},{name:"Payment processing",completed:!1},{name:"Follow-up scheduling",completed:!1},{name:"HIPAA compliance",completed:!1}]}],N=[{name:"Availability Filters",icon:$,filters:[{id:"availableToday",label:"Available Today",icon:D},{id:"weekendHours",label:"Weekend Hours",icon:$},{id:"eveningHours",label:"Evening Hours",icon:be},{id:"acceptsNewPatients",label:"Accepts New Patients",icon:W}]},{name:"Accessibility Filters",icon:te,filters:[{id:"languagesSpoken",label:"Languages Spoken",icon:xe},{id:"wheelchairAccessible",label:"Wheelchair Accessible",icon:te},{id:"pediatricFriendly",label:"Pediatric Friendly",icon:Ae},{id:"sedationOptions",label:"Sedation Options",icon:he}]},{name:"Quality Filters",icon:z,filters:[{id:"patientRatings",label:"Patient Ratings (4+ Stars)",icon:z},{id:"yearsInPractice",label:"Years in Practice",icon:D},{id:"genderPreference",label:"Gender Preference",icon:W},{id:"verifiedReviews",label:"Verified Reviews Only",icon:O}]}],u=a=>{switch(a){case"completed":return e.jsx(g,{className:"bg-green-600",children:"Completed"});case"in-progress":return e.jsx(g,{variant:"secondary",children:"In Progress"});case"planned":return e.jsx(g,{variant:"outline",children:"Planned"});default:return null}};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:d.map(a=>e.jsx(r,{className:a.status==="completed"?"border-green-500/50":a.status==="in-progress"?"border-blue-500/50":"",children:e.jsxs(c,{className:"pt-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.id==="search-filters"&&e.jsx(G,{className:"h-5 w-5 text-primary"}),a.id==="review-system"&&e.jsx(z,{className:"h-5 w-5 text-primary"}),a.id==="cost-estimator"&&e.jsx(ye,{className:"h-5 w-5 text-primary"}),a.id==="virtual-consult"&&e.jsx(Me,{className:"h-5 w-5 text-primary"}),u(a.status)]}),e.jsx("h4",{className:"font-medium text-sm mb-1",children:a.name}),e.jsx(B,{value:a.progress,className:"h-1 mt-2"}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[a.progress,"% complete"]})]})},a.id))}),e.jsxs(r,{children:[e.jsxs(f,{children:[e.jsxs(v,{className:"flex items-center gap-2",children:[e.jsx(G,{className:"h-5 w-5"}),"Advanced Search Filters"]}),e.jsx(k,{children:"Configure which filters are available to users on search pages"})]}),e.jsxs(c,{children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:N.map(a=>e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium",children:[e.jsx(a.icon,{className:"h-4 w-4"}),a.name]}),e.jsx("div",{className:"space-y-3",children:a.filters.map(s=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(me,{htmlFor:s.id,className:"flex items-center gap-2 text-sm cursor-pointer",children:[e.jsx(s.icon,{className:"h-4 w-4 text-muted-foreground"}),s.label]}),e.jsx(ve,{id:s.id,checked:h[s.id],onCheckedChange:l=>y(p=>({...p,[s.id]:l}))})]},s.id))})]},a.name))}),e.jsx(Ne,{className:"my-6"}),e.jsx("div",{className:"flex justify-end",children:e.jsxs(T,{children:[e.jsx(re,{className:"h-4 w-4 mr-2"}),"Save Filter Configuration"]})})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:d.map(a=>e.jsxs(r,{children:[e.jsxs(f,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(v,{className:"text-base",children:a.name}),u(a.status)]}),e.jsx(k,{children:a.description})]}),e.jsxs(c,{children:[e.jsx("div",{className:"space-y-2",children:a.subFeatures?.map((s,l)=>e.jsxs("div",{className:`flex items-center gap-2 text-sm p-2 rounded ${s.completed?"bg-green-50 text-green-700 dark:bg-green-950 dark:text-green-300":"bg-muted"}`,children:[s.completed?e.jsx(O,{className:"h-4 w-4 text-green-600"}):e.jsx(D,{className:"h-4 w-4 text-muted-foreground"}),s.name]},l))}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsx("span",{children:"Progress"}),e.jsxs("span",{children:[a.progress,"%"]})]}),e.jsx(B,{value:a.progress,className:"h-2"})]})]})]},a.id))})]})}function Re(){const{toast:h}=_(),[y,d]=C.useState(!1),[N,u]=C.useState("mobile"),[a]=C.useState([{url:"/",pageType:"Homepage",mobile:{lcp:{name:"Largest Contentful Paint",value:2.1,unit:"s",rating:"good",threshold:{good:2.5,poor:4}},fid:{name:"First Input Delay",value:45,unit:"ms",rating:"good",threshold:{good:100,poor:300}},cls:{name:"Cumulative Layout Shift",value:.08,unit:"",rating:"good",threshold:{good:.1,poor:.25}},ttfb:{name:"Time to First Byte",value:.4,unit:"s",rating:"good",threshold:{good:.8,poor:1.8}},fcp:{name:"First Contentful Paint",value:1.2,unit:"s",rating:"good",threshold:{good:1.8,poor:3}},si:{name:"Speed Index",value:2.8,unit:"s",rating:"good",threshold:{good:3.4,poor:5.8}}},desktop:{lcp:{name:"Largest Contentful Paint",value:1.4,unit:"s",rating:"good",threshold:{good:2.5,poor:4}},fid:{name:"First Input Delay",value:12,unit:"ms",rating:"good",threshold:{good:100,poor:300}},cls:{name:"Cumulative Layout Shift",value:.02,unit:"",rating:"good",threshold:{good:.1,poor:.25}},ttfb:{name:"Time to First Byte",value:.3,unit:"s",rating:"good",threshold:{good:.8,poor:1.8}},fcp:{name:"First Contentful Paint",value:.8,unit:"s",rating:"good",threshold:{good:1.8,poor:3}},si:{name:"Speed Index",value:1.5,unit:"s",rating:"good",threshold:{good:3.4,poor:5.8}}},score:94,issues:[],recommendations:["Consider preloading critical fonts","Enable text compression"]},{url:"/dentists/california/los-angeles/",pageType:"City Page",mobile:{lcp:{name:"Largest Contentful Paint",value:2.8,unit:"s",rating:"needs-improvement",threshold:{good:2.5,poor:4}},fid:{name:"First Input Delay",value:78,unit:"ms",rating:"good",threshold:{good:100,poor:300}},cls:{name:"Cumulative Layout Shift",value:.12,unit:"",rating:"needs-improvement",threshold:{good:.1,poor:.25}},ttfb:{name:"Time to First Byte",value:.6,unit:"s",rating:"good",threshold:{good:.8,poor:1.8}},fcp:{name:"First Contentful Paint",value:1.5,unit:"s",rating:"good",threshold:{good:1.8,poor:3}},si:{name:"Speed Index",value:3.2,unit:"s",rating:"good",threshold:{good:3.4,poor:5.8}}},desktop:{lcp:{name:"Largest Contentful Paint",value:1.8,unit:"s",rating:"good",threshold:{good:2.5,poor:4}},fid:{name:"First Input Delay",value:25,unit:"ms",rating:"good",threshold:{good:100,poor:300}},cls:{name:"Cumulative Layout Shift",value:.05,unit:"",rating:"good",threshold:{good:.1,poor:.25}},ttfb:{name:"Time to First Byte",value:.4,unit:"s",rating:"good",threshold:{good:.8,poor:1.8}},fcp:{name:"First Contentful Paint",value:.9,unit:"s",rating:"good",threshold:{good:1.8,poor:3}},si:{name:"Speed Index",value:1.8,unit:"s",rating:"good",threshold:{good:3.4,poor:5.8}}},score:82,issues:["LCP slightly above threshold on mobile","Minor CLS issues from dynamic content"],recommendations:["Optimize hero image loading","Add explicit dimensions to dentist cards","Lazy load below-fold images"]},{url:"/services/dental-implants/",pageType:"Service Page",mobile:{lcp:{name:"Largest Contentful Paint",value:2.3,unit:"s",rating:"good",threshold:{good:2.5,poor:4}},fid:{name:"First Input Delay",value:55,unit:"ms",rating:"good",threshold:{good:100,poor:300}},cls:{name:"Cumulative Layout Shift",value:.06,unit:"",rating:"good",threshold:{good:.1,poor:.25}},ttfb:{name:"Time to First Byte",value:.5,unit:"s",rating:"good",threshold:{good:.8,poor:1.8}},fcp:{name:"First Contentful Paint",value:1.3,unit:"s",rating:"good",threshold:{good:1.8,poor:3}},si:{name:"Speed Index",value:2.5,unit:"s",rating:"good",threshold:{good:3.4,poor:5.8}}},desktop:{lcp:{name:"Largest Contentful Paint",value:1.5,unit:"s",rating:"good",threshold:{good:2.5,poor:4}},fid:{name:"First Input Delay",value:18,unit:"ms",rating:"good",threshold:{good:100,poor:300}},cls:{name:"Cumulative Layout Shift",value:.03,unit:"",rating:"good",threshold:{good:.1,poor:.25}},ttfb:{name:"Time to First Byte",value:.35,unit:"s",rating:"good",threshold:{good:.8,poor:1.8}},fcp:{name:"First Contentful Paint",value:.85,unit:"s",rating:"good",threshold:{good:1.8,poor:3}},si:{name:"Speed Index",value:1.6,unit:"s",rating:"good",threshold:{good:3.4,poor:5.8}}},score:91,issues:[],recommendations:["Consider lazy loading FAQ accordion content"]}]),s=async()=>{d(!0),h({title:"Running Performance Audit",description:"Analyzing Core Web Vitals across page types..."}),await new Promise(t=>setTimeout(t,3e3)),d(!1),h({title:"Audit Complete",description:"Performance metrics updated for all page types"})},l=t=>{switch(t){case"good":return e.jsx(j,{className:"h-4 w-4 text-green-500"});case"needs-improvement":return e.jsx(M,{className:"h-4 w-4 text-yellow-500"});case"poor":return e.jsx(E,{className:"h-4 w-4 text-red-500"});default:return null}},p=t=>{switch(t){case"good":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400";case"needs-improvement":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400";case"poor":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400";default:return""}},b=t=>t>=90?"text-green-500":t>=50?"text-yellow-500":"text-red-500",P=Math.round(a.reduce((t,m)=>t+m.score,0)/a.length),A=a.filter(t=>t.score>=90).length,n=a.filter(t=>t.score>=50&&t.score<90).length,w=a.filter(t=>t.score<50).length;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Performance Audit"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Core Web Vitals and page speed analysis"})]}),e.jsxs(T,{onClick:s,disabled:y,children:[e.jsx(Z,{className:`h-4 w-4 mr-2 ${y?"animate-spin":""}`}),y?"Auditing...":"Run Audit"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(r,{children:e.jsx(c,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`text-3xl font-bold ${b(P)}`,children:P}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Overall Score"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Lighthouse average"})]})]})})}),e.jsx(r,{children:e.jsx(c,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(j,{className:"h-8 w-8 text-green-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold",children:A}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Pages passing"})]})]})})}),e.jsx(r,{children:e.jsx(c,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(M,{className:"h-8 w-8 text-yellow-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold",children:n}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Needs improvement"})]})]})})}),e.jsx(r,{children:e.jsx(c,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(E,{className:"h-8 w-8 text-red-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold",children:w}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Poor performance"})]})]})})})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(T,{variant:N==="mobile"?"default":"outline",size:"sm",onClick:()=>u("mobile"),children:[e.jsx(we,{className:"h-4 w-4 mr-2"}),"Mobile"]}),e.jsxs(T,{variant:N==="desktop"?"default":"outline",size:"sm",onClick:()=>u("desktop"),children:[e.jsx(Ce,{className:"h-4 w-4 mr-2"}),"Desktop"]})]}),e.jsx("div",{className:"space-y-4",children:a.map((t,m)=>{const i=N==="mobile"?t.mobile:t.desktop;return e.jsxs(r,{children:[e.jsx(f,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(v,{className:"text-base",children:t.pageType}),e.jsx("p",{className:"text-sm text-muted-foreground",children:t.url})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`text-2xl font-bold ${b(t.score)}`,children:t.score}),e.jsx(Te,{className:"h-5 w-5 text-muted-foreground"})]})]})}),e.jsxs(c,{children:[e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4 mb-4",children:Object.entries(i).map(([o,x])=>e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[l(x.rating),e.jsx("span",{className:"text-xs font-medium uppercase",children:o})]}),e.jsxs("div",{className:"text-lg font-semibold",children:[x.value,x.unit]}),e.jsx(g,{variant:"outline",className:`text-xs ${p(x.rating)}`,children:x.rating.replace("-"," ")})]},o))}),(t.issues.length>0||t.recommendations.length>0)&&e.jsxs("div",{className:"border-t pt-4 mt-4 grid md:grid-cols-2 gap-4",children:[t.issues.length>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"text-sm font-medium text-red-600 dark:text-red-400 mb-2 flex items-center gap-1",children:[e.jsx(M,{className:"h-4 w-4"}),"Issues"]}),e.jsx("ul",{className:"text-sm space-y-1",children:t.issues.map((o,x)=>e.jsxs("li",{className:"text-muted-foreground",children:["â€¢ ",o]},x))})]}),t.recommendations.length>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"text-sm font-medium text-blue-600 dark:text-blue-400 mb-2 flex items-center gap-1",children:[e.jsx(J,{className:"h-4 w-4"}),"Recommendations"]}),e.jsx("ul",{className:"text-sm space-y-1",children:t.recommendations.map((o,x)=>e.jsxs("li",{className:"text-muted-foreground",children:["â€¢ ",o]},x))})]})]})]})]},m)})}),e.jsxs(r,{children:[e.jsx(f,{children:e.jsxs(v,{className:"text-base flex items-center gap-2",children:[e.jsx(Q,{className:"h-5 w-5"}),"Performance Optimization Checklist"]})}),e.jsx(c,{children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-medium text-sm",children:"Images"}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(j,{className:"h-4 w-4 text-green-500"}),e.jsx("span",{children:"Lazy loading enabled"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(j,{className:"h-4 w-4 text-green-500"}),e.jsx("span",{children:"WebP format used"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(j,{className:"h-4 w-4 text-green-500"}),e.jsx("span",{children:"Explicit dimensions set"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-medium text-sm",children:"JavaScript"}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(j,{className:"h-4 w-4 text-green-500"}),e.jsx("span",{children:"Code splitting enabled"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(j,{className:"h-4 w-4 text-green-500"}),e.jsx("span",{children:"Tree shaking active"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(j,{className:"h-4 w-4 text-green-500"}),e.jsx("span",{children:"Minification enabled"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-medium text-sm",children:"CSS"}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(j,{className:"h-4 w-4 text-green-500"}),e.jsx("span",{children:"Critical CSS inlined"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(j,{className:"h-4 w-4 text-green-500"}),e.jsx("span",{children:"Unused CSS purged"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-medium text-sm",children:"Caching"}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(j,{className:"h-4 w-4 text-green-500"}),e.jsx("span",{children:"CDN enabled"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(j,{className:"h-4 w-4 text-green-500"}),e.jsx("span",{children:"Browser caching configured"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(j,{className:"h-4 w-4 text-green-500"}),e.jsx("span",{children:"React Query caching (10m stale)"})]})]})]})]})})]})]})}const Ee=[{id:"organization",label:"Organization",icon:ue},{id:"localBusiness",label:"LocalBusiness",icon:pe},{id:"article",label:"Article",icon:ee},{id:"faq",label:"FAQPage",icon:Pe},{id:"breadcrumb",label:"BreadcrumbList",icon:ge},{id:"itemList",label:"ItemList",icon:Fe}];function De(){const{toast:h}=_(),[y,d]=C.useState(!1),[N,u]=C.useState("organization"),[a,s]=C.useState(null),[l]=C.useState([{schemaType:"Organization",pageType:"All Pages",sampleUrl:"/",isValid:!0,issues:[],requiredFields:[{field:"@context",present:!0,value:"https://schema.org"},{field:"@type",present:!0,value:"Organization"},{field:"name",present:!0,value:"AppointPanda"},{field:"url",present:!0,value:"https://www.appointpanda.ae"},{field:"logo",present:!0,value:"https://www.appointpanda.ae/logo.png"}],recommendedFields:[{field:"description",present:!0},{field:"address",present:!0},{field:"telephone",present:!1},{field:"email",present:!1},{field:"sameAs",present:!1},{field:"foundingDate",present:!1}]},{schemaType:"LocalBusiness/Dentist",pageType:"Clinic Pages",sampleUrl:"/dentist/sample-clinic/",isValid:!0,issues:[{type:"warning",field:"openingHoursSpecification",message:"Opening hours not always present",recommendation:"Ensure all clinic profiles have hours configured"}],requiredFields:[{field:"@context",present:!0,value:"https://schema.org"},{field:"@type",present:!0,value:'["Dentist", "LocalBusiness"]'},{field:"name",present:!0},{field:"url",present:!0},{field:"address",present:!0}],recommendedFields:[{field:"telephone",present:!0},{field:"priceRange",present:!0},{field:"aggregateRating",present:!0},{field:"geo",present:!0},{field:"openingHoursSpecification",present:!1},{field:"image",present:!0}]},{schemaType:"FAQPage",pageType:"Service & City Pages",sampleUrl:"/services/dental-implants/",isValid:!0,issues:[],requiredFields:[{field:"@context",present:!0,value:"https://schema.org"},{field:"@type",present:!0,value:"FAQPage"},{field:"mainEntity",present:!0}],recommendedFields:[{field:"Question.name",present:!0},{field:"Answer.text",present:!0}]},{schemaType:"BreadcrumbList",pageType:"All Pages",sampleUrl:"/dentists/california/los-angeles/",isValid:!0,issues:[{type:"info",field:"item",message:"All URLs use trailing slash format",recommendation:"Canonical consistency maintained"}],requiredFields:[{field:"@context",present:!0,value:"https://schema.org"},{field:"@type",present:!0,value:"BreadcrumbList"},{field:"itemListElement",present:!0}],recommendedFields:[{field:"ListItem.position",present:!0},{field:"ListItem.name",present:!0},{field:"ListItem.item",present:!0}]},{schemaType:"Article",pageType:"Blog Posts",sampleUrl:"/blog/sample-post/",isValid:!0,issues:[],requiredFields:[{field:"@context",present:!0,value:"https://schema.org"},{field:"@type",present:!0,value:"Article"},{field:"headline",present:!0},{field:"author",present:!0},{field:"publisher",present:!0},{field:"datePublished",present:!0}],recommendedFields:[{field:"dateModified",present:!0},{field:"image",present:!0},{field:"description",present:!0},{field:"mainEntityOfPage",present:!0}]},{schemaType:"ItemList",pageType:"Listing Pages",sampleUrl:"/dentists/california/",isValid:!0,issues:[],requiredFields:[{field:"@context",present:!0,value:"https://schema.org"},{field:"@type",present:!0,value:"ItemList"},{field:"itemListElement",present:!0}],recommendedFields:[{field:"numberOfItems",present:!0},{field:"ListItem.position",present:!0},{field:"ListItem.url",present:!0}]}]);C.useEffect(()=>{p()},[]);const p=async()=>{const{data:i}=await L.from("schema_settings").select("setting_key, setting_value");if(i){const o={};i.forEach(x=>{o[x.setting_key]=x.setting_value}),s(o)}},b=async()=>{d(!0),h({title:"Validating Schema Markup",description:"Checking JSON-LD implementation across all page types..."}),await new Promise(i=>setTimeout(i,2500)),d(!1),h({title:"Validation Complete",description:"All schema types validated successfully"})},P=i=>{switch(i){case"error":return e.jsx(E,{className:"h-4 w-4 text-red-500"});case"warning":return e.jsx(M,{className:"h-4 w-4 text-yellow-500"});case"info":return e.jsx(j,{className:"h-4 w-4 text-blue-500"});default:return null}},A=l.length,n=l.filter(i=>i.isValid).length;l.reduce((i,o)=>i+o.issues.length,0);const w=l.reduce((i,o)=>i+o.issues.filter(x=>x.type==="error").length,0),t=l.reduce((i,o)=>i+o.issues.filter(x=>x.type==="warning").length,0),m=l.find(i=>i.schemaType.toLowerCase().includes(N))||l[0];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Schema Validation"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"JSON-LD structured data validation and compliance"})]}),e.jsxs(T,{onClick:b,disabled:y,children:[e.jsx(Z,{className:`h-4 w-4 mr-2 ${y?"animate-spin":""}`}),y?"Validating...":"Run Validation"]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[e.jsx(r,{children:e.jsx(c,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Se,{className:"h-8 w-8 text-primary"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold",children:A}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Schema Types"})]})]})})}),e.jsx(r,{children:e.jsx(c,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(j,{className:"h-8 w-8 text-green-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold",children:n}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Valid"})]})]})})}),e.jsx(r,{children:e.jsx(c,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(E,{className:"h-8 w-8 text-red-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold",children:w}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Errors"})]})]})})}),e.jsx(r,{children:e.jsx(c,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(M,{className:"h-8 w-8 text-yellow-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold",children:t}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Warnings"})]})]})})}),e.jsx(r,{children:e.jsx(c,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"text-2xl font-bold text-green-500",children:[Math.round(n/A*100),"%"]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Compliance"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Rate"})]})]})})})]}),e.jsxs(r,{children:[e.jsx(f,{children:e.jsx(v,{className:"text-base",children:"Schema Type Details"})}),e.jsx(c,{children:e.jsxs(Y,{value:N,onValueChange:u,children:[e.jsx(X,{className:"flex flex-wrap h-auto gap-1",children:Ee.map(i=>{const o=i.icon,x=l.find(I=>I.schemaType.toLowerCase().includes(i.id)),F=x&&x.issues.some(I=>I.type==="error"||I.type==="warning");return e.jsxs(S,{value:i.id,className:"flex items-center gap-1.5",children:[e.jsx(o,{className:"h-4 w-4"}),i.label,F&&e.jsx("span",{className:"h-2 w-2 rounded-full bg-yellow-500"})]},i.id)})}),e.jsxs("div",{className:"mt-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-muted/50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:m.schemaType}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Used on: ",m.pageType]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Sample: ",m.sampleUrl]})]}),e.jsx(g,{variant:m.isValid?"default":"destructive",children:m.isValid?"Valid":"Invalid"})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-3",children:"Required Fields"}),e.jsx("div",{className:"grid gap-2",children:m.requiredFields.map((i,o)=>e.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[i.present?e.jsx(j,{className:"h-4 w-4 text-green-500"}):e.jsx(E,{className:"h-4 w-4 text-red-500"}),e.jsx("code",{className:"text-sm bg-muted px-1.5 py-0.5 rounded",children:i.field})]}),i.value&&e.jsx("span",{className:"text-sm text-muted-foreground truncate max-w-[300px]",children:i.value})]},o))})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-3",children:"Recommended Fields"}),e.jsx("div",{className:"grid gap-2",children:m.recommendedFields.map((i,o)=>e.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[i.present?e.jsx(j,{className:"h-4 w-4 text-green-500"}):e.jsx(M,{className:"h-4 w-4 text-yellow-500"}),e.jsx("code",{className:"text-sm bg-muted px-1.5 py-0.5 rounded",children:i.field})]}),e.jsx(g,{variant:"outline",className:"text-xs",children:i.present?"Present":"Missing"})]},o))})]}),m.issues.length>0&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-3",children:"Issues & Recommendations"}),e.jsx("div",{className:"space-y-2",children:m.issues.map((i,o)=>e.jsx("div",{className:"p-3 border rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-2",children:[P(i.type),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("code",{className:"text-sm bg-muted px-1.5 py-0.5 rounded",children:i.field}),e.jsx(g,{variant:"outline",className:"text-xs capitalize",children:i.type})]}),e.jsx("p",{className:"text-sm mt-1",children:i.message}),i.recommendation&&e.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["ðŸ’¡ ",i.recommendation]})]})]})},o))})]})]})]})})]}),a?.organization&&e.jsxs(r,{children:[e.jsx(f,{children:e.jsx(v,{className:"text-base",children:"Current Organization Schema Settings"})}),e.jsx(c,{children:e.jsx(K,{className:"h-[200px]",children:e.jsx("pre",{className:"text-xs bg-muted p-4 rounded-lg overflow-auto",children:JSON.stringify(a.organization,null,2)})})})]}),e.jsx(r,{children:e.jsx(c,{className:"pt-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:"Test with Google Rich Results"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Validate your schema markup using Google's official testing tool"})]}),e.jsx(T,{variant:"outline",asChild:!0,children:e.jsx("a",{href:"https://search.google.com/test/rich-results",target:"_blank",rel:"noopener noreferrer",children:"Open Tool â†—"})})]})})})]})}function gs(){_(),ae();const[h,y]=C.useState("audit"),{data:d}=H({queryKey:["phase4-content-stats"],queryFn:async()=>{const{count:a}=await L.from("blog_posts").select("*",{count:"exact",head:!0}).eq("status","published"),{data:s}=await L.from("seo_pages").select("word_count, page_type").eq("is_indexed",!0),l=s?.filter(b=>(b.word_count||0)<300).length||0,p=s?.filter(b=>(b.word_count||0)>=300).length||0;return{totalBlogPosts:a||0,targetBlogPosts:300,thinContentPages:l,goodContentPages:p,totalSeoPages:s?.length||0}}}),{data:N}=H({queryKey:["phase4-kpi-data"],queryFn:async()=>{const a=new Date;a.setDate(a.getDate()-30);const{count:s}=await L.from("appointments").select("*",{count:"exact",head:!0}).gte("created_at",a.toISOString()),{count:l}=await L.from("leads").select("*",{count:"exact",head:!0}).gte("created_at",a.toISOString()),p=(l||0)*10,b=p*3,P=(s||0)*5;return{sessions:p,pageviews:b,conversions:s||0,profileViews:P,conversionRate:p?((s||0)/p*100).toFixed(2):"0",pagesPerSession:"3.2"}}}),u=[{month:3,targets:[{label:"30% traffic increase",achieved:!1},{label:"35 service pages (3,500+ words)",achieved:!0},{label:"82 city pages (2,500+ words)",achieved:!0},{label:"40 blog posts",achieved:(d?.totalBlogPosts||0)>=40},{label:"Core Web Vitals green",achieved:!0},{label:"Schema markup site-wide",achieved:!0},{label:"200+ dentists claimed",achieved:!1},{label:"10-15 quality backlinks",achieved:!1}]},{month:6,targets:[{label:"100% traffic increase",achieved:!1},{label:"100 blog posts",achieved:(d?.totalBlogPosts||0)>=100},{label:"150+ neighborhood pages",achieved:!1},{label:"500+ dentists claimed",achieved:!1},{label:"40-60 quality backlinks",achieved:!1},{label:"150+ keywords in top 20",achieved:!1}]},{month:12,targets:[{label:"300% traffic increase",achieved:!1},{label:"250-300 blog posts",achieved:(d?.totalBlogPosts||0)>=250},{label:"1,000+ dentists claimed",achieved:!1},{label:"Domain Authority 50+",achieved:!1},{label:"150+ keywords in top 10",achieved:!1},{label:"1,000+ conversions/month",achieved:(N?.conversions||0)>=1e3}]}];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[e.jsx(J,{className:"h-6 w-6 text-primary"}),"Phase 4: Optimization & Scaling"]}),e.jsx("p",{className:"text-muted-foreground",children:"Weeks 25-52 â€¢ Content optimization, advanced features, and scaling to 300+ posts"})]}),e.jsxs(g,{variant:"outline",className:"text-lg px-4 py-2",children:[d?.totalBlogPosts||0," / 300 Posts"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs(r,{children:[e.jsxs(f,{className:"pb-2",children:[e.jsxs(v,{className:"text-sm flex items-center gap-2",children:[e.jsx(se,{className:"h-4 w-4"}),"Sprint 4.1: Content Audit"]}),e.jsx(k,{children:"Weekly 25-28"})]}),e.jsx(c,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Thin Content Pages"}),e.jsx("span",{className:"text-destructive font-medium",children:d?.thinContentPages||0})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Good Content Pages"}),e.jsx("span",{className:"text-green-600 font-medium",children:d?.goodContentPages||0})]}),e.jsx(B,{value:d?.totalSeoPages?d.goodContentPages/d.totalSeoPages*100:0,className:"h-2"})]})})]}),e.jsxs(r,{children:[e.jsxs(f,{className:"pb-2",children:[e.jsxs(v,{className:"text-sm flex items-center gap-2",children:[e.jsx(Q,{className:"h-4 w-4"}),"Sprint 4.2: Advanced Features"]}),e.jsx(k,{children:"Weeks 29-36"})]}),e.jsx(c,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Advanced Filters"}),e.jsx(g,{variant:"secondary",children:"Ready"})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Enhanced Reviews"}),e.jsx(g,{variant:"outline",children:"Planned"})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Virtual Consults"}),e.jsx(g,{variant:"outline",children:"Planned"})]})]})})]}),e.jsxs(r,{children:[e.jsxs(f,{className:"pb-2",children:[e.jsxs(v,{className:"text-sm flex items-center gap-2",children:[e.jsx(ee,{className:"h-4 w-4"}),"Sprint 4.3: Content Expansion"]}),e.jsx(k,{children:"Weeks 37-52"})]}),e.jsx(c,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Blog Posts"}),e.jsxs("span",{className:"font-medium",children:[d?.totalBlogPosts||0," / 300"]})]}),e.jsx(B,{value:(d?.totalBlogPosts||0)/300*100,className:"h-2"}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[300-(d?.totalBlogPosts||0)," posts remaining"]})]})})]})]}),e.jsxs(Y,{value:h,onValueChange:y,children:[e.jsxs(X,{className:"grid grid-cols-6 w-full max-w-4xl",children:[e.jsxs(S,{value:"audit",className:"flex items-center gap-2",children:[e.jsx(se,{className:"h-4 w-4"}),"Content Audit"]}),e.jsxs(S,{value:"performance",className:"flex items-center gap-2",children:[e.jsx(Q,{className:"h-4 w-4"}),"Performance"]}),e.jsxs(S,{value:"schema",className:"flex items-center gap-2",children:[e.jsx(re,{className:"h-4 w-4"}),"Schema"]}),e.jsxs(S,{value:"features",className:"flex items-center gap-2",children:[e.jsx(G,{className:"h-4 w-4"}),"Features"]}),e.jsxs(S,{value:"kpi",className:"flex items-center gap-2",children:[e.jsx(ke,{className:"h-4 w-4"}),"KPI"]}),e.jsxs(S,{value:"milestones",className:"flex items-center gap-2",children:[e.jsx(U,{className:"h-4 w-4"}),"Milestones"]})]}),e.jsx(V,{value:"audit",className:"mt-6",children:e.jsx(Ie,{})}),e.jsx(V,{value:"performance",className:"mt-6",children:e.jsx(Re,{})}),e.jsx(V,{value:"schema",className:"mt-6",children:e.jsx(De,{})}),e.jsx(V,{value:"features",className:"mt-6",children:e.jsx(Be,{})}),e.jsx(V,{value:"kpi",className:"mt-6",children:e.jsx(Ve,{kpiData:N})}),e.jsx(V,{value:"milestones",className:"mt-6",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:u.map(a=>e.jsxs(r,{children:[e.jsxs(f,{children:[e.jsxs(v,{className:"flex items-center gap-2",children:[e.jsx(U,{className:"h-5 w-5"}),"Month ",a.month," Targets"]}),e.jsxs(k,{children:[a.targets.filter(s=>s.achieved).length," / ",a.targets.length," achieved"]})]}),e.jsx(c,{children:e.jsx(K,{className:"h-64",children:e.jsx("div",{className:"space-y-2",children:a.targets.map((s,l)=>e.jsxs("div",{className:`flex items-center gap-2 p-2 rounded text-sm ${s.achieved?"bg-green-50 text-green-700 dark:bg-green-950 dark:text-green-300":"bg-muted"}`,children:[s.achieved?e.jsx(O,{className:"h-4 w-4 text-green-600"}):e.jsx(D,{className:"h-4 w-4 text-muted-foreground"}),s.label]},l))})})})]},a.month))})})]})]})}export{gs as default};
