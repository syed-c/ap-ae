import{j as e}from"./chunk-CPh6voF3.js";import{r as E}from"./chunk-CffrGP6S.js";import{C as F,d as L,a as q,b as I,c as K}from"./chunk-Dwq_v72W.js";import{f as Y,u as M,a9 as Z,aa as W,ab as J,y as z,ac as Q,ad as X,L as A,l as b,i as u,n as ee,aK as se,B as p,Y as B,o as D,Z as te,q as R}from"./index-DflORfjh.js";import{b as re,u as T,g as _}from"./chunk-Dq1MrkKO.js";import{u as ae}from"./chunk-CyKl6YHG.js";import{g as ie}from"./chunk-BvZfqwfW.js";import{a as G}from"./chunk-Drd-rt-S.js";import{P as ne}from"./chunk-B46JjdBY.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=Y("Rocket",[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]]),oe=[{id:"verified_presence",slug:"verified_presence",name:"Verified Presence",price_monthly:99,description:"Establish trust and control your online presence",features:[{feature_key:"verified_badge",is_enabled:!0},{feature_key:"claimed_profile",is_enabled:!0},{feature_key:"enhanced_profile",is_enabled:!0},{feature_key:"review_display",is_enabled:!0},{feature_key:"basic_analytics",is_enabled:!0}]},{id:"growth_engine",slug:"growth_engine",name:"Growth Engine",price_monthly:299,description:"Drive patient demand and visibility",popular:!0,features:[{feature_key:"reputation_suite",is_enabled:!0},{feature_key:"review_funnels",is_enabled:!0},{feature_key:"lead_intelligence",is_enabled:!0},{feature_key:"seo_optimization",is_enabled:!0},{feature_key:"ai_reply_drafts",is_enabled:!0}]},{id:"autopilot_growth",slug:"autopilot_growth",name:"Autopilot Growth",price_monthly:499,description:"Hands-off growth infrastructure",features:[{feature_key:"dental_website",is_enabled:!0},{feature_key:"gmb_optimization",is_enabled:!0},{feature_key:"ai_blog_drafts",is_enabled:!0},{feature_key:"dedicated_support",is_enabled:!0},{feature_key:"priority_ranking",is_enabled:!0}]}],ce={verified_badge:"Verified Badge",claimed_profile:"Claimed Profile",enhanced_profile:"Enhanced Profile",review_display:"Public Reviews Display",basic_analytics:"Basic Analytics",reputation_suite:"Full Reputation Suite",review_funnels:"Review Collection Funnels",lead_intelligence:"Lead Intelligence Dashboard",seo_optimization:"SEO Optimization",ai_reply_drafts:"AI Reply Drafts",dental_website:"Custom Dental Website",gmb_optimization:"GMB Optimization",ai_blog_drafts:"AI Blog Drafts",dedicated_support:"Dedicated Support",priority_ranking:"Priority Search Ranking",profile_listing:"Profile Listing",appointment_booking:"Appointment Booking",email_support:"Email Support",priority_listing:"Priority Search Ranking",reputation_management:"Reputation Management",sms_reminders:"SMS Reminders",gmb_sync:"Google Business Sync",unlimited_listings:"Unlimited Listings",dedicated_manager:"Dedicated Account Manager",api_access:"API Access",custom_branding:"Custom Branding",phone_support:"24/7 Phone Support"};function U({open:r,onOpenChange:a,clinicId:l,featureName:i,requiredPlan:y}){const n=G(),{user:j}=M(),{data:g,isLoading:x}=re(),{data:d}=T(l),o=ae(),[h,N]=E.useState(null),O=(g?.filter(s=>s.slug!=="free"&&s.is_active)||[]).length>0?g.filter(s=>s.slug!=="free"&&s.is_active):oe,w=d?.plan?.slug||"free",H=s=>{switch(s){case"autopilot_growth":return le;case"growth_engine":return te;case"verified_presence":return D;default:return D}},V=s=>{if(!j){n("/auth?redirect=/pricing"),a(!1);return}if(!l){n("/list-your-practice"),a(!1);return}N(s),o.mutate({planSlug:s,clinicId:l,successUrl:`${window.location.origin}/dashboard?tab=my-dashboard&subscription=success`,cancelUrl:`${window.location.origin}/dashboard?tab=my-dashboard&subscription=cancelled`},{onSettled:()=>N(null),onError:()=>N(null)})},$=s=>{const k=_(s),t=_(w);return k>t};return e.jsx(Z,{open:r,onOpenChange:a,children:e.jsxs(W,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(J,{className:"text-center pb-4",children:[e.jsx("div",{className:"mx-auto mb-3 h-14 w-14 rounded-2xl bg-gradient-to-br from-primary to-teal flex items-center justify-center",children:e.jsx(z,{className:"h-7 w-7 text-white"})}),e.jsx(Q,{className:"text-2xl font-display",children:i?`Upgrade to access ${i}`:"Choose Your Growth Plan"}),e.jsx(X,{className:"text-base",children:"Monthly plans designed for dental practice growth. Cancel anytime."}),e.jsxs("div",{className:"mt-4 inline-flex items-center gap-2 px-4 py-2 rounded-full bg-gradient-to-r from-red-500/10 to-orange-500/10 border border-red-500/30 mx-auto",children:[e.jsx(ne,{className:"h-4 w-4 text-red-500"}),e.jsx("span",{className:"text-sm font-bold text-red-600",children:"ðŸŽ‰ 50% OFF All Plans - Limited Time!"})]})]}),x?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(A,{className:"h-8 w-8 animate-spin text-primary"})}):e.jsx("div",{className:"grid md:grid-cols-3 gap-4 mt-4",children:O.map(s=>{const k=H(s.slug||s.id),t=s.popular||s.slug==="growth_engine",c=w===(s.slug||s.id),v=$(s.slug||s.id),m=y===(s.slug||s.id),P=_(s.slug||s.id)<_(w),C=h===(s.slug||s.id),S=s.price_monthly||s.price_aed||0;return e.jsxs(F,{className:b("relative transition-all hover:shadow-lg cursor-pointer",t&&"border-primary ring-2 ring-primary/20",m&&"border-teal ring-2 ring-teal/30",c&&"border-teal bg-teal/5"),children:[t&&!m&&!c&&e.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2",children:e.jsxs(u,{className:"bg-primary text-primary-foreground px-3 shadow",children:[e.jsx(ee,{className:"h-3 w-3 mr-1"}),"Most Popular"]})}),m&&!c&&e.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2",children:e.jsx(u,{className:"bg-teal text-white px-3 shadow",children:"Recommended"})}),c&&e.jsx("div",{className:"absolute -top-3 left-1/2 -translate-x-1/2",children:e.jsx(u,{variant:"outline",className:"bg-background border-teal text-teal px-3",children:"Current Plan"})}),e.jsxs(L,{className:"pt-8 pb-6",children:[e.jsxs("div",{className:"text-center mb-4",children:[e.jsx("div",{className:b("mx-auto h-12 w-12 rounded-xl flex items-center justify-center mb-3",t?"bg-primary/10":"bg-muted"),children:e.jsx(k,{className:b("h-6 w-6",t?"text-primary":"text-muted-foreground")})}),e.jsx("h3",{className:"font-display text-lg font-semibold",children:s.name}),e.jsxs("div",{className:"mt-2",children:[e.jsxs("div",{className:"flex items-baseline gap-1 justify-center",children:[e.jsxs("span",{className:"text-3xl font-bold text-red-600",children:[ie(S).discounted," AED"]}),e.jsx("span",{className:"text-muted-foreground",children:"/month"})]}),e.jsxs("div",{className:"flex items-center gap-2 justify-center mt-1",children:[e.jsxs("span",{className:"text-sm text-muted-foreground line-through",children:[S," AED"]}),e.jsx(u,{className:"bg-red-500 text-white border-0 text-xs",children:"50% OFF"})]})]}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:s.description})]}),e.jsx("ul",{className:"space-y-2 mb-6",children:(s.features||[]).slice(0,5).map(f=>f.is_enabled&&e.jsxs("li",{className:"flex items-center gap-2 text-sm",children:[e.jsx(se,{className:"h-4 w-4 text-teal flex-shrink-0"}),e.jsx("span",{children:ce[f.feature_key]||f.feature_key.replace(/_/g," ")})]},f.feature_key))}),e.jsx(p,{className:b("w-full gap-2",v&&(t||m)?"bg-gradient-to-r from-primary to-primary/80":""),variant:v&&(t||m)?"default":"outline",disabled:c||P||C||o.isPending,onClick:()=>V(s.slug||s.id),children:C?e.jsxs(e.Fragment,{children:[e.jsx(A,{className:"h-4 w-4 animate-spin"}),"Redirecting..."]}):c?"Current Plan":P?"Contact Support":e.jsxs(e.Fragment,{children:["Upgrade Now",e.jsx(B,{className:"h-4 w-4"})]})})]})]},s.id)})}),e.jsxs("div",{className:"mt-6 text-center",children:[e.jsxs("p",{className:"text-sm text-muted-foreground mb-3",children:["Need help choosing?"," ",e.jsx(p,{variant:"link",className:"p-0 h-auto",onClick:()=>{a(!1),n("/pricing")},children:"View full comparison"})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Secure payment powered by Stripe â€¢ Cancel anytime â€¢ No long-term contracts"})]})]})})}function _e({featureName:r,featureDescription:a,requiredPlan:l="professional",clinicId:i,compact:y=!1}){const n=G(),{user:j}=M(),{data:g}=T(i),[x,d]=E.useState(!1),o=g?.plan?.slug,h=()=>{if(!j){n("/auth?redirect=/pricing");return}if(!i){n("/pricing");return}d(!0)};return y?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-3 p-4 rounded-xl bg-gradient-to-r from-primary/10 to-gold/10 border border-primary/20",children:[e.jsx("div",{className:"h-10 w-10 rounded-lg bg-primary/20 flex items-center justify-center flex-shrink-0",children:e.jsx(R,{className:"h-5 w-5 text-primary"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("p",{className:"font-medium text-sm",children:[r," requires upgrade"]}),e.jsx("p",{className:"text-xs text-muted-foreground truncate",children:"Upgrade your plan to use this feature"})]}),e.jsx(p,{size:"sm",onClick:h,children:"Upgrade"})]}),e.jsx(U,{open:x,onOpenChange:d,clinicId:i,featureName:r,requiredPlan:l})]}):e.jsxs(e.Fragment,{children:[e.jsxs(F,{className:"border-2 border-dashed border-primary/30 bg-gradient-to-br from-primary/5 via-background to-gold/5",children:[e.jsxs(q,{className:"text-center pb-4",children:[e.jsx("div",{className:"mx-auto mb-4 h-16 w-16 rounded-2xl bg-gradient-to-br from-primary to-gold flex items-center justify-center shadow-lg",children:e.jsx(R,{className:"h-8 w-8 text-white"})}),e.jsx(I,{className:"text-xl",children:r}),a&&e.jsx(K,{children:a})]}),e.jsxs(L,{className:"space-y-6",children:[o&&e.jsx("div",{className:"text-center",children:e.jsxs(u,{variant:"outline",className:"mb-2",children:["Current Plan: ",o.charAt(0).toUpperCase()+o.slice(1)]})}),e.jsx("div",{className:"text-center p-4 rounded-xl bg-muted/50",children:e.jsxs("p",{className:"text-sm text-muted-foreground mb-3",children:["Upgrade your plan to unlock ",r," and many more premium features"]})}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs(p,{size:"lg",className:"w-full gap-2 bg-gradient-to-r from-primary to-primary/80",onClick:h,children:[e.jsx(z,{className:"h-4 w-4"}),"View Plans & Upgrade",e.jsx(B,{className:"h-4 w-4"})]}),e.jsx(p,{variant:"ghost",size:"sm",onClick:()=>n("/pricing"),children:"Compare all plans"})]}),e.jsx("p",{className:"text-xs text-center text-muted-foreground",children:"30-day money-back guarantee. Cancel anytime."})]})]}),e.jsx(U,{open:x,onOpenChange:d,clinicId:i,featureName:r,requiredPlan:l})]})}export{_e as U};
