import{b as ke,u as he,c as xe,j as e}from"./chunk-CPh6voF3.js";import{r as w}from"./chunk-CffrGP6S.js";import{G as ee,B as l,a as d,I as o,al as Pe,X as ge,a8 as je,i as p,y as Ae,S as ve,p as se,w as fe,x as G,b as A,s as k}from"./index-DflORfjh.js";import{C as h,a as N,b,c as S,d as x}from"./chunk-Dwq_v72W.js";import{T as Fe,a as Le,b as R,c as D}from"./chunk-k8HiDHrE.js";import{S as V}from"./chunk-DfjE-bP6.js";import{C as ae}from"./chunk-ByjWEnRc.js";import{S as Y}from"./chunk-C2VW2Ml6.js";import{C as Q}from"./chunk-f2aNMA4v.js";import{R as O}from"./chunk-BOvFDp2b.js";import{S as ue}from"./chunk-C7BdFRQZ.js";import{L as ze}from"./chunk-CG1o0-Xj.js";import{P as pe}from"./chunk-HAC-i_a2.js";import{C as Te}from"./chunk-BFhD_ct7.js";import{E as P}from"./chunk-CbETxTmt.js";import{C as Ne}from"./chunk-CbEmr7WL.js";import{T as te}from"./chunk-DbdCK11k.js";import{F as ie}from"./chunk-BaL04tya.js";import"./chunk-B8auUmee.js";import"./chunk-DK8nT4cj.js";import"./chunk-Drd-rt-S.js";import"./chunk-BEQ5VEiB.js";import"./chunk-yff5u8mE.js";import"./chunk-xExVBHTi.js";const Z=[{id:"homepage",label:"Homepage",icon:ee,schemaTypes:["Organization"]},{id:"clinic",label:"Clinics",icon:fe,schemaTypes:["LocalBusiness","Dentist","Breadcrumb"]},{id:"dentist",label:"Dentists",icon:je,schemaTypes:["Person","Breadcrumb"]},{id:"city",label:"City Pages",icon:G,schemaTypes:["Breadcrumb","FAQPage"]},{id:"state",label:"State Pages",icon:G,schemaTypes:["Breadcrumb","FAQPage"]},{id:"service",label:"Service Pages",icon:ie,schemaTypes:["Service","FAQPage"]},{id:"service-location",label:"Service+Location",icon:G,schemaTypes:["Service","Breadcrumb","FAQPage"]},{id:"blog",label:"Blog Posts",icon:ie,schemaTypes:["Article","Breadcrumb"]}],Be={homepage:["Organization","WebSite","SearchAction"],clinic:["LocalBusiness","Dentist","MedicalBusiness","AggregateRating","BreadcrumbList","GeoCoordinates"],dentist:["Dentist","Person","BreadcrumbList"],city:["Place","BreadcrumbList","FAQPage","ItemList"],state:["BreadcrumbList","FAQPage"],service:["MedicalProcedure","FAQPage","BreadcrumbList"],"service-location":["MedicalProcedure","Place","ItemList","BreadcrumbList","FAQPage"],blog:["Article","BreadcrumbList"]};function Re({samplePages:W}){const[g,F]=w.useState([]),[v,y]=w.useState(!1),H=()=>{y(!0);const n=Object.entries(Be).map(([r,L])=>{const M=(W?.[r]||[]).length,$={homepage:["Organization","WebSite","SearchAction"],clinic:["LocalBusiness","Dentist","MedicalBusiness","AggregateRating","BreadcrumbList","GeoCoordinates"],dentist:["Dentist","Person","BreadcrumbList"],city:["Place","BreadcrumbList","FAQPage","ItemList"],state:["BreadcrumbList","FAQPage"],service:["MedicalProcedure","BreadcrumbList"],"service-location":["MedicalProcedure","BreadcrumbList","FAQPage"],blog:["Article","BreadcrumbList"]}[r]||[],E=L.filter(K=>!$.includes(K)),C=L.length>0?(L.length-E.length)/L.length*100:100;return{pageType:r,sampleCount:M,expectedSchemas:L,coverage:C,missing:E,status:C>=100?"pass":C>=60?"warn":"fail"}});setTimeout(()=>{F(n),y(!1),A.success("Schema validation complete")},800)},_=g.length>0?g.reduce((n,r)=>n+r.coverage,0)/g.length:0;return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Schema Coverage Validation"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Scan all page types to verify required Schema.org markup is deployed"})]}),e.jsxs(l,{onClick:H,disabled:v,children:[v?e.jsx(O,{className:"h-4 w-4 mr-2 animate-spin"}):e.jsx(se,{className:"h-4 w-4 mr-2"}),v?"Scanning...":"Run Validation"]})]}),g.length>0&&e.jsxs(e.Fragment,{children:[e.jsx(h,{className:"bg-gradient-to-r from-slate-900 via-slate-800 to-slate-900 text-white border-0",children:e.jsx(x,{className:"p-5",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-white/60 text-sm",children:"Overall Schema Coverage"}),e.jsxs("p",{className:"text-4xl font-display font-black mt-1",children:[Math.round(_),"%"]})]}),e.jsxs("div",{className:"flex gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-green-400",children:g.filter(n=>n.status==="pass").length}),e.jsx("p",{className:"text-white/50 text-xs",children:"Pass"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-yellow-400",children:g.filter(n=>n.status==="warn").length}),e.jsx("p",{className:"text-white/50 text-xs",children:"Warn"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-red-400",children:g.filter(n=>n.status==="fail").length}),e.jsx("p",{className:"text-white/50 text-xs",children:"Fail"})]})]})]})})}),e.jsx(h,{children:e.jsx(x,{className:"p-0",children:e.jsx(ve,{className:"h-[500px]",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"sticky top-0 bg-muted/80 backdrop-blur",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left p-3 text-xs font-semibold",children:"Page Type"}),e.jsx("th",{className:"text-left p-3 text-xs font-semibold",children:"Pages"}),e.jsx("th",{className:"text-left p-3 text-xs font-semibold",children:"Expected Schemas"}),e.jsx("th",{className:"text-left p-3 text-xs font-semibold",children:"Missing"}),e.jsx("th",{className:"text-right p-3 text-xs font-semibold",children:"Coverage"}),e.jsx("th",{className:"text-right p-3 text-xs font-semibold",children:"Status"})]})}),e.jsx("tbody",{children:g.map(n=>e.jsxs("tr",{className:"border-t",children:[e.jsx("td",{className:"p-3 font-medium text-sm capitalize",children:n.pageType}),e.jsx("td",{className:"p-3 text-sm text-muted-foreground",children:n.sampleCount}),e.jsx("td",{className:"p-3",children:e.jsx("div",{className:"flex flex-wrap gap-1",children:n.expectedSchemas.map(r=>e.jsx(p,{variant:"outline",className:"text-[10px]",children:r},r))})}),e.jsx("td",{className:"p-3",children:n.missing.length>0?e.jsx("div",{className:"flex flex-wrap gap-1",children:n.missing.map(r=>e.jsx(p,{variant:"destructive",className:"text-[10px]",children:r},r))}):e.jsx("span",{className:"text-teal text-xs",children:"All covered ✓"})}),e.jsx("td",{className:"p-3 text-right",children:e.jsxs(p,{className:n.coverage>=100?"bg-teal/20 text-teal border-teal/30":n.coverage>=60?"bg-gold/20 text-gold border-gold/30":"bg-destructive/20 text-destructive border-destructive/30",children:[Math.round(n.coverage),"%"]})}),e.jsxs("td",{className:"p-3 text-right",children:[n.status==="pass"&&e.jsx(Q,{className:"h-5 w-5 text-teal inline"}),n.status==="warn"&&e.jsx(te,{className:"h-5 w-5 text-gold inline"}),n.status==="fail"&&e.jsx(Ne,{className:"h-5 w-5 text-destructive inline"})]})]},n.pageType))})]})})})})]}),g.length===0&&!v&&e.jsx(h,{children:e.jsxs(x,{className:"p-12 text-center",children:[e.jsx(ae,{className:"h-12 w-12 mx-auto text-muted-foreground mb-3"}),e.jsx("p",{className:"text-muted-foreground",children:'Click "Run Validation" to scan all page types for schema coverage'})]})})]})}function ns(){const[W,g]=w.useState("settings"),[F,v]=w.useState(""),[y,H]=w.useState(null),[_,n]=w.useState(!1),[r,L]=w.useState(null),[q,M]=w.useState(""),[U,$]=w.useState(""),E=ke(),{data:C,isLoading:K}=he({queryKey:["schema-settings"],queryFn:async()=>{const{data:s,error:t}=await k.from("schema_settings").select("*");if(t)throw t;const f={};return s?.forEach(u=>{f[u.setting_key]=u.setting_value}),f}}),[a,c]=w.useState(null),[j,z]=w.useState(null);w.useEffect(()=>{C?.organization&&c(C.organization),C?.sitewide&&z(C.sitewide)},[C]);const X=xe({mutationFn:async s=>{const{error:t}=await k.from("schema_settings").update({setting_value:s,updated_at:new Date().toISOString()}).eq("setting_key","organization");if(t)throw t},onSuccess:()=>{E.invalidateQueries({queryKey:["schema-settings"]}),A.success("Organization schema settings saved")},onError:s=>{A.error("Failed to save settings: "+s.message)}}),J=xe({mutationFn:async s=>{const{error:t}=await k.from("schema_settings").update({setting_value:s,updated_at:new Date().toISOString()}).eq("setting_key","sitewide");if(t)throw t},onSuccess:()=>{E.invalidateQueries({queryKey:["schema-settings"]}),A.success("Sitewide schema settings saved")},onError:s=>{A.error("Failed to save settings: "+s.message)}}),{data:m,isLoading:De}=he({queryKey:["schema-sample-pages"],queryFn:async()=>{const s={},{data:t}=await k.from("clinics").select("slug, name").eq("is_active",!0).limit(5);s.clinic=t?.map(i=>({slug:`/clinic/${i.slug}`,name:i.name}))||[];const{data:f}=await k.from("dentists").select("slug, name").eq("is_active",!0).limit(5);s.dentist=f?.map(i=>({slug:`/dentist/${i.slug}`,name:i.name}))||[];const{data:u}=await k.from("cities").select("slug, name, states(slug)").eq("is_active",!0).limit(5);s.city=u?.map(i=>({slug:`/${(Array.isArray(i.states)?i.states[0]:i.states)?.slug}/${i.slug}`,name:i.name}))||[];const{data:B}=await k.from("states").select("slug, name").eq("is_active",!0).limit(5);s.state=B?.map(i=>({slug:`/${i.slug}`,name:i.name}))||[];const{data:I}=await k.from("treatments").select("slug, name").eq("is_active",!0).limit(5);s.service=I?.map(i=>({slug:`/services/${i.slug}`,name:i.name}))||[];const{data:Ce}=await k.from("blog_posts").select("slug, title").eq("status","published").limit(5);if(s.blog=Ce?.map(i=>({slug:`/blog/${i.slug}`,name:i.title}))||[],s.homepage=[{slug:"/",name:"Homepage"}],s.city?.[0]&&s.service?.[0]){const i=u?.[0],oe=Array.isArray(i?.states)?i.states[0]:i?.states;s["service-location"]=I?.slice(0,3).map(me=>({slug:`/${oe?.slug}/${i?.slug}/${me.slug}`,name:`${me.name} in ${i?.name}`}))||[]}return s}}),T=async s=>{n(!0);try{const t=s.startsWith("http")?s:`https://www.appointpanda.ae${s}`,f=be(s),u=Z.find(I=>I.id===f)?.schemaTypes||[],B={url:t,schemaTypes:u,valid:u.length>0,errors:[],warnings:[],rawSchema:[]};!u.includes("Breadcrumb")&&f!=="homepage"&&B.warnings.push("Missing BreadcrumbList schema - recommended for navigation"),f==="clinic"&&!u.includes("LocalBusiness")&&B.errors.push("Clinic pages must have LocalBusiness schema"),(f==="city"||f==="service")&&!u.includes("FAQPage")&&B.warnings.push("Consider adding FAQPage schema for better SERP features"),H(B),A.success("Schema analysis complete")}catch{A.error("Failed to analyze schema")}finally{n(!1)}},be=s=>{if(s==="/"||s==="")return"homepage";if(s.startsWith("/clinic/"))return"clinic";if(s.startsWith("/dentist/"))return"dentist";if(s.startsWith("/services/"))return"service";if(s.startsWith("/blog/"))return"blog";const t=s.split("/").filter(Boolean);return t.length===3?"service-location":t.length===2?"city":t.length===1?"state":"unknown"},we=s=>{navigator.clipboard.writeText(s),A.success("Copied to clipboard")},le=s=>{const t=s.startsWith("http")?s:`https://www.appointpanda.ae${s}`;window.open(`https://search.google.com/test/rich-results?url=${encodeURIComponent(t)}`,"_blank")},ne=s=>{const t=s.startsWith("http")?s:`https://www.appointpanda.ae${s}`;window.open(`https://validator.schema.org/?url=${encodeURIComponent(t)}`,"_blank")},re=()=>{q&&a&&(c({...a,socialProfiles:[...a.socialProfiles||[],q]}),M(""))},ye=s=>{if(a){const t=[...a.socialProfiles||[]];t.splice(s,1),c({...a,socialProfiles:t})}},ce=()=>{U&&a&&(c({...a,founders:[...a.founders||[],U]}),$(""))},Se=s=>{if(a){const t=[...a.founders||[]];t.splice(s,1),c({...a,founders:t})}},de=()=>a?{"@context":"https://schema.org","@type":"Organization",name:a.name,url:a.url,logo:a.logo,description:a.description,email:a.email||void 0,telephone:a.phone||void 0,foundingDate:a.foundingDate||void 0,founder:a.founders?.length?a.founders.map(s=>({"@type":"Person",name:s})):void 0,address:a.address?.streetAddress?{"@type":"PostalAddress",streetAddress:a.address.streetAddress,addressLocality:a.address.addressLocality,addressRegion:a.address.addressRegion,postalCode:a.address.postalCode,addressCountry:a.address.addressCountry}:void 0,sameAs:a.socialProfiles?.length?a.socialProfiles:void 0}:{};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-12 w-12 rounded-xl bg-gradient-to-br from-primary to-teal flex items-center justify-center shadow-lg",children:e.jsx(ae,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-display font-bold",children:"Structured Data Management"}),e.jsx("p",{className:"text-muted-foreground",children:"Configure, test, and monitor JSON-LD schema markup across all pages"})]})]}),e.jsxs(Fe,{value:W,onValueChange:g,children:[e.jsxs(Le,{className:"grid w-full grid-cols-6",children:[e.jsxs(R,{value:"settings",children:[e.jsx(Y,{className:"h-4 w-4 mr-2"}),"Settings"]}),e.jsxs(R,{value:"validation",children:[e.jsx(Q,{className:"h-4 w-4 mr-2"}),"Validation"]}),e.jsx(R,{value:"overview",children:"Overview"}),e.jsx(R,{value:"test",children:"Test"}),e.jsx(R,{value:"templates",children:"Templates"}),e.jsx(R,{value:"issues",children:"Issues"})]}),e.jsx(D,{value:"settings",className:"space-y-6 mt-6",children:K?e.jsx("div",{className:"flex items-center justify-center p-12",children:e.jsx(O,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(h,{className:"lg:col-span-2",children:[e.jsxs(N,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ee,{className:"h-5 w-5 text-primary"}),e.jsx(b,{children:"Organization Schema Settings"})]}),e.jsxs(l,{onClick:()=>a&&X.mutate(a),disabled:X.isPending,children:[X.isPending?e.jsx(O,{className:"h-4 w-4 mr-2 animate-spin"}):e.jsx(ue,{className:"h-4 w-4 mr-2"}),"Save Changes"]})]}),e.jsx(S,{children:"Configure your organization's structured data that appears on the homepage and is referenced across all pages. These settings help Google understand your business entity."})]}),e.jsx(x,{className:"space-y-6",children:a&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"org-name",children:"Organization Name *"}),e.jsx(o,{id:"org-name",value:a.name,onChange:s=>c({...a,name:s.target.value}),placeholder:"AppointPanda"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"org-url",children:"Website URL *"}),e.jsx(o,{id:"org-url",value:a.url,onChange:s=>c({...a,url:s.target.value}),placeholder:"https://www.appointpanda.ae"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"org-logo",children:"Logo URL *"}),e.jsx(o,{id:"org-logo",value:a.logo,onChange:s=>c({...a,logo:s.target.value}),placeholder:"https://www.appointpanda.ae/logo.png"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Recommended: 112x112 to 600x600 pixels"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"org-founding",children:"Founding Date"}),e.jsx(o,{id:"org-founding",type:"date",value:a.foundingDate,onChange:s=>c({...a,foundingDate:s.target.value})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"org-desc",children:"Description *"}),e.jsx(Pe,{id:"org-desc",value:a.description,onChange:s=>c({...a,description:s.target.value}),placeholder:"Describe your organization...",rows:3}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Appears in search results. Keep under 160 characters for best display."})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("h4",{className:"font-medium mb-3",children:"Contact Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"org-email",children:"Contact Email"}),e.jsx(o,{id:"org-email",type:"email",value:a.email,onChange:s=>c({...a,email:s.target.value}),placeholder:"contact@appointpanda.ae"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"org-phone",children:"Contact Phone"}),e.jsx(o,{id:"org-phone",value:a.phone,onChange:s=>c({...a,phone:s.target.value}),placeholder:"+971 4 123 4567"})]})]})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("h4",{className:"font-medium mb-3",children:"Business Address (Optional)"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2 md:col-span-2",children:[e.jsx(d,{htmlFor:"org-street",children:"Street Address"}),e.jsx(o,{id:"org-street",value:a.address?.streetAddress||"",onChange:s=>c({...a,address:{...a.address,streetAddress:s.target.value}}),placeholder:"123 Main St"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"org-city",children:"City"}),e.jsx(o,{id:"org-city",value:a.address?.addressLocality||"",onChange:s=>c({...a,address:{...a.address,addressLocality:s.target.value}}),placeholder:"San Francisco"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"org-region",children:"State/Region"}),e.jsx(o,{id:"org-region",value:a.address?.addressRegion||"",onChange:s=>c({...a,address:{...a.address,addressRegion:s.target.value}}),placeholder:"CA"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"org-postal",children:"Postal Code"}),e.jsx(o,{id:"org-postal",value:a.address?.postalCode||"",onChange:s=>c({...a,address:{...a.address,postalCode:s.target.value}}),placeholder:"94102"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{htmlFor:"org-country",children:"Country"}),e.jsx(o,{id:"org-country",value:a.address?.addressCountry||"US",onChange:s=>c({...a,address:{...a.address,addressCountry:s.target.value}}),placeholder:"US"})]})]})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("h4",{className:"font-medium mb-3",children:"Social Profiles (sameAs)"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Add your official social media profile URLs. These help Google verify your organization."}),e.jsxs("div",{className:"space-y-2",children:[(a.socialProfiles||[]).map((s,t)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ze,{className:"h-4 w-4 text-muted-foreground"}),e.jsx(o,{value:s,disabled:!0,className:"flex-1"}),e.jsx(l,{variant:"ghost",size:"icon",onClick:()=>ye(t),children:e.jsx(ge,{className:"h-4 w-4"})})]},t)),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(o,{value:q,onChange:s=>M(s.target.value),placeholder:"https://facebook.com/appointpanda",onKeyDown:s=>s.key==="Enter"&&re()}),e.jsxs(l,{variant:"outline",onClick:re,children:[e.jsx(pe,{className:"h-4 w-4 mr-1"}),"Add"]})]})]})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("h4",{className:"font-medium mb-3",children:"Founders (Optional)"}),e.jsxs("div",{className:"space-y-2",children:[(a.founders||[]).map((s,t)=>e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(je,{className:"h-4 w-4 text-muted-foreground"}),e.jsx(o,{value:s,disabled:!0,className:"flex-1"}),e.jsx(l,{variant:"ghost",size:"icon",onClick:()=>Se(t),children:e.jsx(ge,{className:"h-4 w-4"})})]},t)),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(o,{value:U,onChange:s=>$(s.target.value),placeholder:"John Doe",onKeyDown:s=>s.key==="Enter"&&ce()}),e.jsxs(l,{variant:"outline",onClick:ce,children:[e.jsx(pe,{className:"h-4 w-4 mr-1"}),"Add"]})]})]})]})]})})]}),e.jsxs(h,{children:[e.jsxs(N,{children:[e.jsxs(b,{className:"flex items-center gap-2",children:[e.jsx(ae,{className:"h-5 w-5"}),"Organization Schema Preview"]}),e.jsx(S,{children:"This is how your organization schema will appear on the homepage"})]}),e.jsxs(x,{children:[e.jsx("pre",{className:"p-4 rounded-lg bg-muted text-xs overflow-x-auto max-h-96",children:JSON.stringify(de(),null,2)}),e.jsxs(l,{variant:"outline",size:"sm",className:"mt-2",onClick:()=>we(JSON.stringify(de(),null,2)),children:[e.jsx(Te,{className:"h-3 w-3 mr-1"}),"Copy Schema"]})]})]}),e.jsxs(h,{children:[e.jsxs(N,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Y,{className:"h-5 w-5 text-primary"}),e.jsx(b,{children:"Sitewide Schema Settings"})]}),e.jsxs(l,{size:"sm",onClick:()=>j&&J.mutate(j),disabled:J.isPending,children:[J.isPending?e.jsx(O,{className:"h-4 w-4 mr-2 animate-spin"}):e.jsx(ue,{className:"h-4 w-4 mr-2"}),"Save"]})]}),e.jsx(S,{children:"Enable or disable schema types across all pages"})]}),e.jsx(x,{className:"space-y-4",children:j&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(d,{children:"Enable Breadcrumb Schema"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Show breadcrumb navigation in search results"})]}),e.jsx(V,{checked:j.enableBreadcrumbs,onCheckedChange:s=>z({...j,enableBreadcrumbs:s})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(d,{children:"Enable FAQ Schema"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Show FAQ dropdowns in search results"})]}),e.jsx(V,{checked:j.enableFAQSchema,onCheckedChange:s=>z({...j,enableFAQSchema:s})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(d,{children:"Enable Review/Rating Schema"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Show star ratings in search results"})]}),e.jsx(V,{checked:j.enableReviewSchema,onCheckedChange:s=>z({...j,enableReviewSchema:s})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(d,{children:"Enable LocalBusiness Schema"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Rich business info for clinic pages"})]}),e.jsx(V,{checked:j.enableLocalBusinessSchema,onCheckedChange:s=>z({...j,enableLocalBusinessSchema:s})})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx(d,{htmlFor:"default-rating",children:"Default Rating (for clinics without reviews)"}),e.jsx(o,{id:"default-rating",type:"number",min:1,max:5,step:.1,value:j.defaultRating,onChange:s=>z({...j,defaultRating:parseFloat(s.target.value)||4.5}),className:"mt-2 w-24"})]})]})})]})]})}),e.jsxs(D,{value:"overview",className:"space-y-6 mt-6",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:Z.map(s=>{const t=s.icon,f=m?.[s.id]||[];return e.jsxs(h,{className:`cursor-pointer transition-all hover:shadow-md ${r===s.id?"ring-2 ring-primary":""}`,onClick:()=>L(r===s.id?null:s.id),children:[e.jsx(N,{className:"pb-2",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(t,{className:"h-5 w-5 text-primary"}),e.jsx(b,{className:"text-base",children:s.label})]})}),e.jsxs(x,{children:[e.jsx("div",{className:"flex flex-wrap gap-1 mb-2",children:s.schemaTypes.map(u=>e.jsx(p,{variant:"secondary",className:"text-xs",children:u},u))}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[f.length," sample pages available"]})]})]},s.id)})}),r&&e.jsxs(h,{children:[e.jsxs(N,{children:[e.jsxs(b,{className:"flex items-center gap-2",children:[e.jsx(Ae,{className:"h-5 w-5"}),Z.find(s=>s.id===r)?.label," Schema Details"]}),e.jsx(S,{children:"Sample pages and quick validation links"})]}),e.jsx(x,{children:e.jsx(ve,{className:"h-[300px]",children:e.jsx("div",{className:"space-y-2",children:(m?.[r]||[]).map((s,t)=>e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-card hover:bg-muted/50",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium truncate",children:s.name}),e.jsx("p",{className:"text-xs text-muted-foreground truncate",children:s.slug})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(l,{size:"sm",variant:"outline",onClick:()=>le(s.slug),children:[e.jsx(P,{className:"h-3 w-3 mr-1"}),"Rich Results"]}),e.jsxs(l,{size:"sm",variant:"outline",onClick:()=>ne(s.slug),children:[e.jsx(Q,{className:"h-3 w-3 mr-1"}),"Validate"]}),e.jsx(l,{size:"sm",variant:"ghost",onClick:()=>{v(s.slug),g("test")},children:e.jsx(se,{className:"h-3 w-3"})})]})]},t))})})})]})]}),e.jsxs(D,{value:"test",className:"space-y-6 mt-6",children:[e.jsxs(h,{children:[e.jsxs(N,{children:[e.jsx(b,{children:"Test Page Schema"}),e.jsx(S,{children:"Enter a URL to analyze its structured data implementation"})]}),e.jsxs(x,{className:"space-y-4",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(o,{placeholder:"Enter URL path (e.g., /clinic/bright-smile-dental)",value:F,onChange:s=>v(s.target.value),className:"flex-1"}),e.jsxs(l,{onClick:()=>T(F),disabled:_||!F,children:[_?e.jsx(O,{className:"h-4 w-4 mr-2 animate-spin"}):e.jsx(se,{className:"h-4 w-4 mr-2"}),"Analyze"]})]}),y&&e.jsxs("div",{className:"space-y-4 pt-4 border-t",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:"Analysis Results"}),e.jsx("p",{className:"text-sm text-muted-foreground truncate max-w-md",children:y.url})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(l,{size:"sm",variant:"outline",onClick:()=>le(F),children:[e.jsx(P,{className:"h-3 w-3 mr-1"}),"Google Rich Results Test"]}),e.jsxs(l,{size:"sm",variant:"outline",onClick:()=>ne(F),children:[e.jsx(P,{className:"h-3 w-3 mr-1"}),"Schema.org Validator"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 rounded-lg border",children:[e.jsxs("h5",{className:"font-medium mb-2 flex items-center gap-2",children:[e.jsx(Q,{className:"h-4 w-4 text-green-500"}),"Expected Schemas"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:y.schemaTypes.map(s=>e.jsx(p,{variant:"default",children:s},s))})]}),y.errors.length>0&&e.jsxs("div",{className:"p-4 rounded-lg border border-destructive/50 bg-destructive/5",children:[e.jsxs("h5",{className:"font-medium mb-2 flex items-center gap-2 text-destructive",children:[e.jsx(Ne,{className:"h-4 w-4"}),"Errors"]}),e.jsx("ul",{className:"text-sm space-y-1",children:y.errors.map((s,t)=>e.jsx("li",{children:s},t))})]}),y.warnings.length>0&&e.jsxs("div",{className:"p-4 rounded-lg border border-yellow-500/50 bg-yellow-500/5",children:[e.jsxs("h5",{className:"font-medium mb-2 flex items-center gap-2 text-yellow-600",children:[e.jsx(te,{className:"h-4 w-4"}),"Warnings"]}),e.jsx("ul",{className:"text-sm space-y-1",children:y.warnings.map((s,t)=>e.jsx("li",{children:s},t))})]})]})]})]})]}),e.jsxs(h,{children:[e.jsxs(N,{children:[e.jsx(b,{children:"Quick Test"}),e.jsx(S,{children:"Test common page types"})]}),e.jsx(x,{children:e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx(l,{variant:"outline",size:"sm",onClick:()=>{v("/"),T("/")},children:"Homepage"}),m?.clinic?.[0]&&e.jsx(l,{variant:"outline",size:"sm",onClick:()=>{v(m.clinic[0].slug),T(m.clinic[0].slug)},children:"Sample Clinic"}),m?.dentist?.[0]&&e.jsx(l,{variant:"outline",size:"sm",onClick:()=>{v(m.dentist[0].slug),T(m.dentist[0].slug)},children:"Sample Dentist"}),m?.city?.[0]&&e.jsx(l,{variant:"outline",size:"sm",onClick:()=>{v(m.city[0].slug),T(m.city[0].slug)},children:"Sample City"}),m?.service?.[0]&&e.jsx(l,{variant:"outline",size:"sm",onClick:()=>{v(m.service[0].slug),T(m.service[0].slug)},children:"Sample Service"})]})})]})]}),e.jsx(D,{value:"templates",className:"space-y-6 mt-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(h,{children:[e.jsxs(N,{children:[e.jsxs(b,{className:"flex items-center gap-2",children:[e.jsx(ee,{className:"h-5 w-5"}),"Organization Schema"]}),e.jsx(S,{children:"Used on homepage - configured in Schema Settings tab"})]}),e.jsxs(x,{children:[e.jsx("pre",{className:"p-4 rounded-lg bg-muted text-xs overflow-x-auto",children:`{
  "@context": "https://schema.org",
  "@type": "Organization",
  "name": "{{organization.name}}",
  "url": "{{organization.url}}",
  "logo": "{{organization.logo}}",
  "description": "{{organization.description}}",
  "address": { ... },
  "sameAs": [...]
}`}),e.jsx(l,{variant:"link",size:"sm",className:"mt-2 p-0",onClick:()=>g("settings"),children:"Configure in Settings →"})]})]}),e.jsxs(h,{children:[e.jsxs(N,{children:[e.jsxs(b,{className:"flex items-center gap-2",children:[e.jsx(fe,{className:"h-5 w-5"}),"LocalBusiness/Dentist Schema"]}),e.jsx(S,{children:"Auto-generated from clinic data"})]}),e.jsx(x,{children:e.jsx("pre",{className:"p-4 rounded-lg bg-muted text-xs overflow-x-auto",children:`{
  "@context": "https://schema.org",
  "@type": ["Dentist", "LocalBusiness"],
  "name": "{{clinic.name}}",
  "url": "{{clinic.url}}",
  "telephone": "{{clinic.phone}}",
  "address": {
    "@type": "PostalAddress",
    "streetAddress": "{{clinic.address}}",
    "addressLocality": "{{clinic.city}}",
    "addressCountry": "US"
  },
  "aggregateRating": {
    "@type": "AggregateRating",
    "ratingValue": "{{clinic.rating}}",
    "reviewCount": "{{clinic.reviewCount}}"
  }
}`})})]}),e.jsxs(h,{children:[e.jsxs(N,{children:[e.jsxs(b,{className:"flex items-center gap-2",children:[e.jsx(G,{className:"h-5 w-5"}),"BreadcrumbList Schema"]}),e.jsx(S,{children:"Auto-generated based on page hierarchy"})]}),e.jsx(x,{children:e.jsx("pre",{className:"p-4 rounded-lg bg-muted text-xs overflow-x-auto",children:`{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position": 1,
      "name": "Home",
      "item": "https://www.appointpanda.ae"
    },
    {
      "@type": "ListItem",
      "position": 2,
      "name": "{{page.name}}",
      "item": "{{page.url}}"
    }
  ]
}`})})]}),e.jsxs(h,{children:[e.jsxs(N,{children:[e.jsxs(b,{className:"flex items-center gap-2",children:[e.jsx(ie,{className:"h-5 w-5"}),"FAQPage Schema"]}),e.jsx(S,{children:"Auto-generated from FAQ content on pages"})]}),e.jsx(x,{children:e.jsx("pre",{className:"p-4 rounded-lg bg-muted text-xs overflow-x-auto",children:`{
  "@context": "https://schema.org",
  "@type": "FAQPage",
  "mainEntity": [
    {
      "@type": "Question",
      "name": "{{faq.question}}",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "{{faq.answer}}"
      }
    }
  ]
}`})})]})]})}),e.jsx(D,{value:"issues",className:"space-y-6 mt-6",children:e.jsxs(h,{children:[e.jsx(N,{children:e.jsxs(b,{className:"flex items-center gap-2",children:[e.jsx(te,{className:"h-5 w-5 text-yellow-500"}),"Common Schema Issues & How to Fix Them"]})}),e.jsxs(x,{className:"space-y-4",children:[e.jsx("div",{className:"p-4 rounded-lg border bg-green-500/5 border-green-500/30",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Q,{className:"h-5 w-5 text-green-500 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-green-700",children:"Missing Organization Details"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Organization schema fields like email, phone, address, and social profiles are now configurable."}),e.jsxs(l,{variant:"outline",size:"sm",className:"mt-2",onClick:()=>g("settings"),children:[e.jsx(Y,{className:"h-3 w-3 mr-1"}),"Configure Organization Schema"]})]})]})}),e.jsxs("div",{className:"p-4 rounded-lg border",children:[e.jsx("h4",{className:"font-medium mb-2",children:'Google Search Console: "Temporary processing error"'}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"This typically occurs when Google cannot access your sitemap or when the XML is malformed."}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(p,{variant:"outline",className:"bg-green-500/10",children:"✓ Sitemap is accessible and returns valid XML"}),e.jsx(p,{variant:"outline",className:"bg-green-500/10",children:"✓ Child sitemaps are properly linked"}),e.jsx(p,{variant:"outline",className:"bg-green-500/10",children:"✓ Content-Type header is application/xml"}),e.jsx(p,{variant:"outline",className:"bg-green-500/10",children:"✓ Empty slugs are filtered out"})]}),e.jsxs("div",{className:"mt-4 flex gap-2",children:[e.jsxs(l,{variant:"outline",size:"sm",onClick:()=>window.open("https://www.appointpanda.ae/sitemap.xml","_blank"),children:[e.jsx(P,{className:"h-3 w-3 mr-1"}),"View Live Sitemap"]}),e.jsxs(l,{variant:"outline",size:"sm",onClick:()=>window.open("https://search.google.com/search-console","_blank"),children:[e.jsx(P,{className:"h-3 w-3 mr-1"}),"Resubmit in Search Console"]})]})]}),e.jsxs("div",{className:"p-4 rounded-lg border",children:[e.jsx("h4",{className:"font-medium mb-2",children:"Missing Required Fields by Schema Type"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:"Ensure all required schema properties are present:"}),e.jsxs("ul",{className:"text-sm space-y-2",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(p,{variant:"outline",className:"shrink-0",children:"Organization"}),e.jsx("span",{children:"name, url (configurable in Settings)"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(p,{variant:"outline",className:"shrink-0",children:"LocalBusiness"}),e.jsx("span",{children:"name, address (auto-filled from clinic data)"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(p,{variant:"outline",className:"shrink-0",children:"Person"}),e.jsx("span",{children:"name (auto-filled from dentist data)"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(p,{variant:"outline",className:"shrink-0",children:"Article"}),e.jsx("span",{children:"headline, author, datePublished (auto-filled from blog post)"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(p,{variant:"outline",className:"shrink-0",children:"FAQPage"}),e.jsx("span",{children:"mainEntity with Question/Answer pairs (auto-generated)"})]})]})]}),e.jsxs("div",{className:"p-4 rounded-lg border",children:[e.jsx("h4",{className:"font-medium mb-2",children:"Schema Validation Tools"}),e.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[e.jsxs(l,{variant:"outline",size:"sm",onClick:()=>window.open("https://search.google.com/test/rich-results","_blank"),children:[e.jsx(P,{className:"h-3 w-3 mr-1"}),"Google Rich Results Test"]}),e.jsxs(l,{variant:"outline",size:"sm",onClick:()=>window.open("https://validator.schema.org/","_blank"),children:[e.jsx(P,{className:"h-3 w-3 mr-1"}),"Schema.org Validator"]}),e.jsxs(l,{variant:"outline",size:"sm",onClick:()=>window.open("https://search.google.com/search-console","_blank"),children:[e.jsx(P,{className:"h-3 w-3 mr-1"}),"Google Search Console"]})]})]})]})]})}),e.jsx(D,{value:"validation",className:"space-y-6 mt-6",children:e.jsx(Re,{samplePages:m})})]})]})}export{ns as default};
