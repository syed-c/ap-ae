import{b as V,u as J,c as R,j as e}from"./chunk-CPh6voF3.js";import{r as x}from"./chunk-CffrGP6S.js";import{B as S,G as p,A as T,P as A,x as E,a as t,I as l,ap as L,w as W,b4 as q,bf as P,b5 as F,b6 as I,bJ as M,i as X,C as Z,s as u,b as D}from"./index-DflORfjh.js";import{C as h,d as g,a as j,b as N,c as f}from"./chunk-Dwq_v72W.js";import{T as $,a as ee,b as v,c as y}from"./chunk-k8HiDHrE.js";import{S as B}from"./chunk-CzOt8Wyl.js";import{c as se}from"./chunk-BSjc5zjM.js";import{S as O}from"./chunk-C7BdFRQZ.js";import{H as z}from"./chunk-DKBZeOHc.js";import{M as U}from"./chunk-B7d2qnKb.js";import"./chunk-B8auUmee.js";import"./chunk-DK8nT4cj.js";import"./chunk-Drd-rt-S.js";import"./chunk-BEQ5VEiB.js";import"./chunk-yff5u8mE.js";import"./chunk-xExVBHTi.js";const H={support_email:"",booking_email:"",sales_email:"",partnerships_email:"",support_phone:"",booking_phone:"",sales_phone:"",address_line1:"",address_line2:"",city:"",state:"",zip_code:"",country:"United Arab Emirates"},Q={facebook:"",instagram:"",twitter:"",linkedin:"",youtube:"",tiktok:"",website:""};function Ne(){const w=V(),[G,K]=x.useState("emails"),[a,C]=x.useState(H),[c,_]=x.useState(Q),[k,b]=x.useState(!1),{data:d,isLoading:Y}=J({queryKey:["contact-settings"],queryFn:async()=>{const{data:s,error:r}=await u.from("global_settings").select("key, value").in("key",["contact_details","social_links"]);if(r)throw r;return s||[]}});x.useEffect(()=>{if(d){const s=d.find(n=>n.key==="contact_details"),r=d.find(n=>n.key==="social_links");s?.value&&C({...H,...s.value}),r?.value&&_({...Q,...r.value})}},[d]);const o=R({mutationFn:async()=>{d?.find(n=>n.key==="contact_details")?await u.from("global_settings").update({value:a,updated_at:new Date().toISOString()}).eq("key","contact_details"):await u.from("global_settings").insert({key:"contact_details",value:a,description:"Platform contact information"}),d?.find(n=>n.key==="social_links")?await u.from("global_settings").update({value:c,updated_at:new Date().toISOString()}).eq("key","social_links"):await u.from("global_settings").insert({key:"social_links",value:c,description:"Social media links"}),await se({action:"UPDATE_CONTACT_SETTINGS",entityType:"global_settings",entityId:"contact_details",newValues:{contactDetails:a,socialLinks:c}})},onSuccess:()=>{w.invalidateQueries({queryKey:["contact-settings"]}),w.invalidateQueries({queryKey:["site-settings"]}),D.success("Contact details saved successfully!"),b(!1)},onError:s=>D.error("Failed to save: "+s.message)}),i=(s,r)=>{C(n=>({...n,[s]:r})),b(!0)},m=(s,r)=>{_(n=>({...n,[s]:r})),b(!0)};return Y?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-display font-bold text-foreground",children:"Contact Details"}),e.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage contact information displayed across the website"})]}),k&&e.jsxs(S,{onClick:()=>o.mutate(),disabled:o.isPending,className:"gap-2 bg-teal hover:bg-teal/90",children:[e.jsx(O,{className:"h-4 w-4"}),o.isPending?"Saving...":"Save All Changes"]})]}),e.jsx(h,{className:"bg-gradient-to-r from-primary/10 to-primary/5 border-primary/20",children:e.jsxs(g,{className:"p-4 flex items-center gap-4",children:[e.jsx("div",{className:"h-12 w-12 rounded-xl bg-primary/20 flex items-center justify-center flex-shrink-0",children:e.jsx(p,{className:"h-6 w-6 text-primary"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-primary",children:"Site-Wide Settings"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"These details will appear in the header, footer, and contact page across the entire website."})]})]})}),e.jsxs($,{value:G,onValueChange:K,children:[e.jsxs(ee,{className:"grid w-full grid-cols-4 rounded-xl",children:[e.jsxs(v,{value:"emails",className:"rounded-xl gap-2",children:[e.jsx(T,{className:"h-4 w-4"}),"Email Addresses"]}),e.jsxs(v,{value:"phones",className:"rounded-xl gap-2",children:[e.jsx(A,{className:"h-4 w-4"}),"Phone Numbers"]}),e.jsxs(v,{value:"address",className:"rounded-xl gap-2",children:[e.jsx(E,{className:"h-4 w-4"}),"Address"]}),e.jsxs(v,{value:"social",className:"rounded-xl gap-2",children:[e.jsx(p,{className:"h-4 w-4"}),"Social Media"]})]}),e.jsx(y,{value:"emails",className:"mt-4",children:e.jsxs(h,{className:"rounded-2xl",children:[e.jsxs(j,{children:[e.jsxs(N,{className:"text-lg flex items-center gap-2",children:[e.jsx(T,{className:"h-5 w-5 text-primary"}),"Email Addresses"]}),e.jsx(f,{children:"Configure different email addresses for various departments"})]}),e.jsx(g,{className:"space-y-6",children:e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(t,{className:"flex items-center gap-2",children:[e.jsx(z,{className:"h-4 w-4 text-muted-foreground"}),"Customer Support Email"]}),e.jsx(l,{type:"email",value:a.support_email,onChange:s=>i("support_email",s.target.value),placeholder:"support@appointpanda.ae"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"For customer inquiries and help requests"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(t,{className:"flex items-center gap-2",children:[e.jsx(U,{className:"h-4 w-4 text-muted-foreground"}),"Booking Inquiries Email"]}),e.jsx(l,{type:"email",value:a.booking_email,onChange:s=>i("booking_email",s.target.value),placeholder:"bookings@appointpanda.ae"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"For appointment-related questions"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(t,{className:"flex items-center gap-2",children:[e.jsx(L,{className:"h-4 w-4 text-muted-foreground"}),"Sales Email"]}),e.jsx(l,{type:"email",value:a.sales_email,onChange:s=>i("sales_email",s.target.value),placeholder:"sales@appointpanda.ae"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"For pricing and subscription inquiries"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(t,{className:"flex items-center gap-2",children:[e.jsx(W,{className:"h-4 w-4 text-muted-foreground"}),"Partnerships Email"]}),e.jsx(l,{type:"email",value:a.partnerships_email,onChange:s=>i("partnerships_email",s.target.value),placeholder:"partners@appointpanda.ae"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"For business partnerships and collaborations"})]})]})})]})}),e.jsx(y,{value:"phones",className:"mt-4",children:e.jsxs(h,{className:"rounded-2xl",children:[e.jsxs(j,{children:[e.jsxs(N,{className:"text-lg flex items-center gap-2",children:[e.jsx(A,{className:"h-5 w-5 text-primary"}),"Phone Numbers"]}),e.jsx(f,{children:"Configure phone numbers for different departments"})]}),e.jsx(g,{className:"space-y-6",children:e.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(t,{className:"flex items-center gap-2",children:[e.jsx(z,{className:"h-4 w-4 text-muted-foreground"}),"Support Hotline"]}),e.jsx(l,{type:"tel",value:a.support_phone,onChange:s=>i("support_phone",s.target.value),placeholder:"1-800-555-1234"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Main customer support line"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(t,{className:"flex items-center gap-2",children:[e.jsx(U,{className:"h-4 w-4 text-muted-foreground"}),"Booking Line"]}),e.jsx(l,{type:"tel",value:a.booking_phone,onChange:s=>i("booking_phone",s.target.value),placeholder:"1-800-555-5678"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"For appointment scheduling"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(t,{className:"flex items-center gap-2",children:[e.jsx(L,{className:"h-4 w-4 text-muted-foreground"}),"Sales Line"]}),e.jsx(l,{type:"tel",value:a.sales_phone,onChange:s=>i("sales_phone",s.target.value),placeholder:"1-800-555-9012"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"For sales inquiries"})]})]})})]})}),e.jsx(y,{value:"address",className:"mt-4",children:e.jsxs(h,{className:"rounded-2xl",children:[e.jsxs(j,{children:[e.jsxs(N,{className:"text-lg flex items-center gap-2",children:[e.jsx(E,{className:"h-5 w-5 text-primary"}),"Business Address"]}),e.jsx(f,{children:"Your company's physical address for the website footer and contact page"})]}),e.jsxs(g,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{children:"Address Line 1"}),e.jsx(l,{value:a.address_line1,onChange:s=>i("address_line1",s.target.value),placeholder:"123 Main Street"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{children:"Address Line 2 (Optional)"}),e.jsx(l,{value:a.address_line2,onChange:s=>i("address_line2",s.target.value),placeholder:"Suite 100"})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{children:"City"}),e.jsx(l,{value:a.city,onChange:s=>i("city",s.target.value),placeholder:"Los Angeles"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{children:"State"}),e.jsx(l,{value:a.state,onChange:s=>i("state",s.target.value),placeholder:"CA"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{children:"ZIP Code"}),e.jsx(l,{value:a.zip_code,onChange:s=>i("zip_code",s.target.value),placeholder:"90001"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(t,{children:"Country"}),e.jsx(l,{value:a.country,onChange:s=>i("country",s.target.value),placeholder:"United Arab Emirates"})]})]})]}),e.jsx(B,{}),e.jsxs("div",{children:[e.jsx(t,{className:"text-muted-foreground",children:"Preview"}),e.jsxs("div",{className:"mt-2 p-4 rounded-xl bg-slate-50 dark:bg-slate-800/50",children:[e.jsxs("p",{className:"font-medium",children:[a.address_line1||"123 Main Street",a.address_line2&&`, ${a.address_line2}`]}),e.jsxs("p",{className:"text-muted-foreground",children:[a.city||"City",", ",a.state||"ST"," ",a.zip_code||"00000"]}),e.jsx("p",{className:"text-muted-foreground",children:a.country||"United Arab Emirates"})]})]})]})]})}),e.jsx(y,{value:"social",className:"mt-4",children:e.jsxs(h,{className:"rounded-2xl",children:[e.jsxs(j,{children:[e.jsxs(N,{className:"text-lg flex items-center gap-2",children:[e.jsx(p,{className:"h-5 w-5 text-primary"}),"Social Media Links"]}),e.jsx(f,{children:"Add your social media profiles to display in the website footer"})]}),e.jsxs(g,{className:"space-y-6",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(t,{className:"flex items-center gap-2",children:[e.jsx(q,{className:"h-4 w-4 text-blue-600"}),"Facebook"]}),e.jsx(l,{value:c.facebook,onChange:s=>m("facebook",s.target.value),placeholder:"https://facebook.com/appointpanda"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(t,{className:"flex items-center gap-2",children:[e.jsx(P,{className:"h-4 w-4 text-pink-600"}),"Instagram"]}),e.jsx(l,{value:c.instagram,onChange:s=>m("instagram",s.target.value),placeholder:"https://instagram.com/appointpanda"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(t,{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-4 w-4 text-sky-500"}),"Twitter / X"]}),e.jsx(l,{value:c.twitter,onChange:s=>m("twitter",s.target.value),placeholder:"https://twitter.com/appointpanda"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(t,{className:"flex items-center gap-2",children:[e.jsx(I,{className:"h-4 w-4 text-blue-700"}),"LinkedIn"]}),e.jsx(l,{value:c.linkedin,onChange:s=>m("linkedin",s.target.value),placeholder:"https://linkedin.com/company/appointpanda"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(t,{className:"flex items-center gap-2",children:[e.jsx(M,{className:"h-4 w-4 text-red-600"}),"YouTube"]}),e.jsx(l,{value:c.youtube,onChange:s=>m("youtube",s.target.value),placeholder:"https://youtube.com/@appointpanda"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(t,{className:"flex items-center gap-2",children:[e.jsx(p,{className:"h-4 w-4 text-muted-foreground"}),"TikTok"]}),e.jsx(l,{value:c.tiktok,onChange:s=>m("tiktok",s.target.value),placeholder:"https://tiktok.com/@appointpanda"})]})]}),e.jsx(B,{}),e.jsxs("div",{children:[e.jsx(t,{className:"text-muted-foreground",children:"Active Social Links"}),e.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[Object.entries(c).map(([s,r])=>{if(!r)return null;const n=s==="facebook"?q:s==="instagram"?P:s==="twitter"?F:s==="linkedin"?I:s==="youtube"?M:p;return e.jsxs(X,{variant:"secondary",className:"gap-1 capitalize",children:[e.jsx(n,{className:"h-3 w-3"}),s,e.jsx(Z,{className:"h-3 w-3 text-teal ml-1"})]},s)}),!Object.values(c).some(s=>s)&&e.jsx("p",{className:"text-sm text-muted-foreground",children:"No social links configured"})]})]})]})]})})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs(S,{onClick:()=>o.mutate(),disabled:o.isPending||!k,size:"lg",className:"gap-2",children:[e.jsx(O,{className:"h-4 w-4"}),o.isPending?"Saving...":"Save All Changes"]})})]})}export{Ne as default};
