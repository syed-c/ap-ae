const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-DflORfjh.js","assets/chunk-CPh6voF3.js","assets/chunk-CffrGP6S.js","assets/chunk-B8auUmee.js","assets/chunk-DK8nT4cj.js","assets/chunk-Drd-rt-S.js","assets/chunk-BEQ5VEiB.js","assets/chunk-yff5u8mE.js","assets/chunk-xExVBHTi.js","assets/index-CigGl4-1.css"])))=>i.map(i=>d[i]);
import{f as te,i as N,C as F,B as l,L as $,I as A,s as d,b as i,be as ie,m as ne,Q as re,u as le,a8 as ce,G as Y,a as q,bf as oe,b4 as de,b5 as me,q as xe,o as he,_ as ue}from"./index-DflORfjh.js";import{b as K,j as e,u as z,c as ge}from"./chunk-CPh6voF3.js";import{r as o}from"./chunk-CffrGP6S.js";import{C as b,a as v,b as _,c as C,d as k}from"./chunk-Dwq_v72W.js";import{S as R}from"./chunk-DfjE-bP6.js";import{S as D}from"./chunk-CzOt8Wyl.js";import{S}from"./chunk-CQtADEjB.js";import{C as X}from"./chunk-GLPyMM0F.js";import{R as O}from"./chunk-BOvFDp2b.js";import{E as I}from"./chunk-CbETxTmt.js";import{S as pe,B as je}from"./chunk-C2VW2Ml6.js";import{L as H}from"./chunk-B0x3dbdo.js";import{I as fe}from"./chunk-I1o_Hd8I.js";import{A as we,a as ye,b as Ne,c as be,d as ve,e as ke,f as _e,g as Ce}from"./chunk--UsBvJF_.js";import{L as V}from"./chunk-CG1o0-Xj.js";import{T as Se}from"./chunk-DbdCK11k.js";import{E as Ge}from"./chunk-Dfi7JVLs.js";import{E as Pe}from"./chunk-CcezodbN.js";import{K as Be}from"./chunk-B7tIy7xU.js";import"./chunk-B8auUmee.js";import"./chunk-DK8nT4cj.js";import"./chunk-Drd-rt-S.js";import"./chunk-BEQ5VEiB.js";import"./chunk-yff5u8mE.js";import"./chunk-xExVBHTi.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=te("Unlink",[["path",{d:"m18.84 12.25 1.72-1.71h-.02a5.004 5.004 0 0 0-.12-7.07 5.006 5.006 0 0 0-6.95 0l-1.72 1.71",key:"yqzxt4"}],["path",{d:"m5.17 11.75-1.71 1.71a5.004 5.004 0 0 0 .12 7.07 5.006 5.006 0 0 0 6.95 0l1.71-1.71",key:"4qinb0"}],["line",{x1:"8",x2:"8",y1:"2",y2:"5",key:"1041cp"}],["line",{x1:"2",x2:"5",y1:"8",y2:"8",key:"14m1p5"}],["line",{x1:"16",x2:"16",y1:"19",y2:"22",key:"rzdirn"}],["line",{x1:"19",x2:"22",y1:"16",y2:"16",key:"ox905f"}]]);function Le({clinicId:n,clinicName:Q,googlePlaceId:x,lastSyncAt:p,onConnect:G,showManualEntry:u=!0}){const c=K(),[w,g]=o.useState(!1),[y,j]=o.useState(!1),[r,m]=o.useState(""),[P,t]=o.useState(!1),B=!!x,T=async()=>{g(!0);try{const{data:{session:a}}=await d.auth.getSession();if(!a?.user){i.error("Please sign in first");return}ie(a.access_token,a.refresh_token||"",a.user.id),localStorage.setItem("gmb_relink_flow","true"),localStorage.setItem("gmb_restore_session","true");const U=`${window.location.origin}/auth/callback?relink=true`;console.log("[GMB] Starting OAuth for GMB connection, redirect:",U);const{error:E}=await d.auth.signInWithOAuth({provider:"google",options:{scopes:"openid email profile https://www.googleapis.com/auth/business.manage",redirectTo:U,queryParams:{access_type:"offline",prompt:"consent select_account"}}});if(E)throw E}catch(a){i.error(a.message||"Failed to connect with Google")}finally{g(!1)}},h=async()=>{if(x){j(!0);try{const{error:a}=await d.functions.invoke("gmb-import",{body:{placeId:x,clinicId:n,syncOnly:!0}});if(a)throw a;i.success("Profile synced with Google Business"),c.invalidateQueries({queryKey:["dentist-clinic"]}),c.invalidateQueries({queryKey:["google-reviews",n]})}catch(a){i.error(a.message||"Failed to sync")}finally{j(!1)}}},L=async()=>{if(r.trim())try{const{error:a}=await d.from("clinics").update({google_place_id:r.trim(),updated_at:new Date().toISOString()}).eq("id",n);if(a)throw a;i.success("Google Place ID saved"),m(""),t(!1),c.invalidateQueries({queryKey:["dentist-clinic"]})}catch(a){i.error(a.message||"Failed to save")}};return e.jsxs(b,{className:`card-modern ${B?"border-teal/30 bg-teal/5":"border-gold/30 bg-gold/5"}`,children:[e.jsxs(v,{className:"pb-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(_,{className:"text-lg flex items-center gap-2",children:[e.jsx("img",{src:"https://www.gstatic.com/images/branding/product/2x/googleg_48dp.png",alt:"Google",className:"h-5 w-5"}),"Google Business Profile"]}),B?e.jsxs(N,{className:"bg-teal/20 text-teal border-0",children:[e.jsx(F,{className:"h-3 w-3 mr-1"}),"Connected"]}):e.jsxs(N,{className:"bg-gold/20 text-gold border-0",children:[e.jsx(X,{className:"h-3 w-3 mr-1"}),"Not Connected"]})]}),e.jsx(C,{children:B?"Sync reviews, hours, and photos from your Google Business Profile":"Connect your Google Business Profile to sync reviews and manage your online presence"})]}),e.jsx(k,{className:"space-y-4",children:B?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Place ID"}),e.jsx("code",{className:"bg-muted px-2 py-1 rounded text-xs",children:x})]}),p&&e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Last synced"}),e.jsx("span",{children:new Date(p).toLocaleDateString()})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(l,{onClick:h,disabled:y,className:"flex-1",children:[y?e.jsx($,{className:"h-4 w-4 mr-2 animate-spin"}):e.jsx(O,{className:"h-4 w-4 mr-2"}),"Sync Now"]}),e.jsx(l,{variant:"outline",asChild:!0,children:e.jsx("a",{href:`https://business.google.com/dashboard/l/${x}`,target:"_blank",rel:"noopener noreferrer",children:e.jsx(I,{className:"h-4 w-4"})})})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs(l,{onClick:T,disabled:w,className:"w-full bg-white hover:bg-gray-50 text-gray-800 border border-gray-300",children:[w?e.jsx($,{className:"h-4 w-4 mr-2 animate-spin"}):e.jsx("img",{src:"https://www.gstatic.com/images/branding/product/2x/googleg_48dp.png",alt:"Google",className:"h-5 w-5 mr-2"}),"Sign in with Google"]}),u&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx("span",{className:"w-full border-t"})}),e.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:e.jsx("span",{className:"bg-card px-2 text-muted-foreground",children:"Or"})})]}),P?e.jsxs("div",{className:"space-y-2",children:[e.jsx(A,{placeholder:"Enter Google Place ID",value:r,onChange:a=>m(a.target.value)}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(l,{size:"sm",onClick:L,disabled:!r.trim(),children:"Save"}),e.jsx(l,{size:"sm",variant:"ghost",onClick:()=>t(!1),children:"Cancel"})]})]}):e.jsxs(l,{variant:"ghost",className:"w-full",onClick:()=>t(!0),children:[e.jsx(pe,{className:"h-4 w-4 mr-2"}),"Enter Place ID Manually"]})]})]})})]})}function Me({clinicId:n,clinicSlug:Q,isGmbConnected:x}){const p=K(),[G,u]=o.useState(!1),{data:c,isLoading:w}=z({queryKey:["gmb-booking-link-status",n],queryFn:async()=>{const{data:r}=await d.from("clinic_oauth_tokens").select("gmb_booking_link_enabled, gmb_booking_link_id, gmb_booking_link_set_at").eq("clinic_id",n).single();return{enabled:r?.gmb_booking_link_enabled??!1,linkId:r?.gmb_booking_link_id,setAt:r?.gmb_booking_link_set_at}},enabled:!!n&&x}),g=ge({mutationFn:async r=>{const{data:m,error:P}=await d.functions.invoke("gmb-booking-link",{body:{action:r,clinicId:n}});if(P)throw P;if(!m.success)throw new Error(m.error);return m},onSuccess:(r,m)=>{p.invalidateQueries({queryKey:["gmb-booking-link-status",n]}),p.invalidateQueries({queryKey:["clinic-oauth-tokens",n]}),m==="set"?i.success("Booking link added to your Google Business Profile!",{description:"Patients can now book directly from Google Maps."}):i.success("Booking link removed from Google Business Profile")},onError:r=>{i.error("Failed to update booking link",{description:r.message})}}),y=async r=>{u(!0);try{await g.mutateAsync(r?"set":"remove")}finally{u(!1)}},j=`https://www.appointpanda.ae/book/${n}`;return x?w?e.jsxs(b,{className:"card-modern",children:[e.jsxs(v,{children:[e.jsx(S,{className:"h-6 w-48"}),e.jsx(S,{className:"h-4 w-64"})]}),e.jsxs(k,{className:"space-y-4",children:[e.jsx(S,{className:"h-10 w-full"}),e.jsx(S,{className:"h-4 w-3/4"})]})]}):e.jsxs(b,{className:"card-modern",children:[e.jsxs(v,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(_,{className:"text-lg flex items-center gap-2",children:[e.jsx(H,{className:"h-5 w-5 text-primary"}),"GMB Booking Link"]}),c?.enabled&&e.jsxs(N,{className:"bg-teal/20 text-teal border-0",children:[e.jsx(F,{className:"h-3 w-3 mr-1"}),"Active"]})]}),e.jsx(C,{children:'Add a "Book Appointment" button to your Google Business Profile'})]}),e.jsxs(k,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg bg-muted/50 border",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ne,{className:"h-5 w-5 text-primary"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm",children:"Enable Booking Button"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Shows on your Google Maps listing"})]})]}),e.jsx(R,{checked:c?.enabled??!1,onCheckedChange:y,disabled:G||g.isPending})]}),c?.enabled&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"p-3 rounded-lg bg-primary/5 border border-primary/20",children:[e.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Your booking URL:"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("code",{className:"text-xs bg-muted px-2 py-1 rounded flex-1 truncate",children:j}),e.jsx(l,{variant:"ghost",size:"sm",onClick:()=>{navigator.clipboard.writeText(j),i.success("Booking URL copied!")},children:"Copy"}),e.jsx(l,{variant:"ghost",size:"sm",onClick:()=>window.open(j,"_blank"),children:e.jsx(I,{className:"h-4 w-4"})})]})]}),c.setAt&&e.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[e.jsx("span",{children:"Last synced to GMB:"}),e.jsx("span",{children:re(new Date(c.setAt),"MMM d, yyyy h:mm a")})]}),e.jsx(l,{variant:"outline",size:"sm",className:"w-full",onClick:()=>y(!0),disabled:G||g.isPending,children:G||g.isPending?e.jsxs(e.Fragment,{children:[e.jsx(O,{className:"h-4 w-4 mr-2 animate-spin"}),"Syncing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(O,{className:"h-4 w-4 mr-2"}),"Refresh GMB Link"]})})]}),!c?.enabled&&e.jsx("div",{className:"p-3 rounded-lg bg-amber/10 border border-amber/20",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(X,{className:"h-4 w-4 text-amber shrink-0 mt-0.5"}),e.jsxs("div",{className:"text-xs",children:[e.jsx("p",{className:"font-medium text-foreground",children:"Why enable this?"}),e.jsxs("ul",{className:"mt-1 text-muted-foreground space-y-1",children:[e.jsx("li",{children:"• Patients can book directly from Google Maps"}),e.jsx("li",{children:"• Increases appointment requests by up to 40%"}),e.jsx("li",{children:"• Link persists until you disable it"})]})]})]})})]})]}):e.jsxs(b,{className:"card-modern border-dashed opacity-75",children:[e.jsxs(v,{children:[e.jsxs(_,{className:"text-lg flex items-center gap-2",children:[e.jsx(H,{className:"h-5 w-5 text-muted-foreground"}),"GMB Booking Link"]}),e.jsx(C,{children:"Connect your Google Business Profile first to enable this feature"})]}),e.jsx(k,{children:e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(fe,{className:"h-4 w-4"}),e.jsx("span",{children:"Requires active GMB connection"})]})})]})}function ns(){const{user:n,session:Q}=le(),x=K(),[p,G]=o.useState(!1),[u,c]=o.useState(""),[w,g]=o.useState(""),[y,j]=o.useState(!1);o.useState(!1);const[r,m]=o.useState(!1),P=n?.app_metadata?.provider==="google"||n?.app_metadata?.providers?.includes("google"),{data:t,isLoading:B}=z({queryKey:["dentist-clinic-settings",n?.id],queryFn:async()=>{const{data:s,error:f}=await d.from("clinics").select("id, name, slug, google_place_id, website, gmb_connected, verification_status").eq("claimed_by",n?.id).limit(1).single();if(f&&f.code!=="PGRST116")throw f;return s},enabled:!!n?.id}),{data:T}=z({queryKey:["clinic-oauth-tokens",t?.id],queryFn:async()=>{const{data:s,error:f}=await d.from("clinic_oauth_tokens").select("gmb_connected, gmb_last_sync_at, gmb_data").eq("clinic_id",t?.id).single();if(f&&f.code!=="PGRST116")throw f;return s},enabled:!!t?.id}),[h,L]=o.useState({instagram:"",facebook:"",twitter:""}),[a,M]=o.useState({emailReviewAlerts:!0,emailAppointments:!0,smsReminders:!1,weeklyDigest:!0}),U=async()=>{if(u!==w){i.error("Passwords do not match");return}if(u.length<8){i.error("Password must be at least 8 characters");return}j(!0);try{const{error:s}=await d.auth.updateUser({password:u});if(s)throw s;i.success("Password updated successfully"),c(""),g("")}catch(s){i.error(s.message||"Failed to update password")}finally{j(!1)}},E=async()=>{i.success("Social links saved")},J=async()=>{if(t?.id)try{await d.from("clinic_oauth_tokens").delete().eq("clinic_id",t.id);const{error:s}=await d.from("clinics").update({google_place_id:null,gmb_connected:!1}).eq("id",t.id);if(s)throw s;i.success("GMB disconnected. Review sync has been disabled."),x.invalidateQueries({queryKey:["dentist-clinic-settings"]}),x.invalidateQueries({queryKey:["clinic-oauth-tokens"]}),m(!1)}catch(s){i.error(s.message||"Failed to disconnect GMB")}},Z=async()=>{if(t?.id)try{const{data:{session:s}}=await d.auth.getSession();if(!s?.user){i.error("Please sign in first");return}const{storeOriginalSession:f}=await ue(async()=>{const{storeOriginalSession:se}=await import("./index-DflORfjh.js").then(ae=>ae.bO);return{storeOriginalSession:se}},__vite__mapDeps([0,1,2,3,4,5,6,7,8,9]));f(s.access_token,s.refresh_token||"",s.user.id),localStorage.setItem("gmb_relink_flow","true"),localStorage.setItem("gmb_restore_session","true");const ee="https://www.appointpanda.ae/auth/callback?relink=true",{error:W}=await d.auth.signInWithOAuth({provider:"google",options:{scopes:"openid email profile https://www.googleapis.com/auth/business.manage",redirectTo:ee,queryParams:{access_type:"offline",prompt:"consent select_account"}}});if(W)throw W}catch(s){i.error(s.message||"Failed to initiate GMB connection")}};return B?e.jsxs("div",{className:"space-y-6",children:[e.jsx(S,{className:"h-12 w-64"}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[e.jsx(S,{className:"h-64"}),e.jsx(S,{className:"h-64"})]})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-display font-bold text-foreground",children:"Settings"}),e.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage your practice settings and connections"})]}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[e.jsxs(b,{className:"card-modern",children:[e.jsxs(v,{children:[e.jsxs(_,{className:"text-lg flex items-center gap-2",children:[e.jsx(ce,{className:"h-5 w-5 text-primary"}),"Connected Accounts"]}),e.jsx(C,{children:"Manage your linked accounts and sign-in methods"})]}),e.jsxs(k,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border bg-muted/30",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 rounded-full bg-white flex items-center justify-center shadow-sm",children:e.jsx(Y,{className:"h-5 w-5 text-primary"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm",children:"Google Account"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:n?.email})]})]}),P?e.jsxs(N,{className:"bg-teal/20 text-teal border-0",children:[e.jsx(F,{className:"h-3 w-3 mr-1"}),"Connected"]}):e.jsx(N,{variant:"outline",className:"text-muted-foreground",children:"Not Connected"})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border bg-muted/30",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 rounded-full bg-white flex items-center justify-center shadow-sm",children:e.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",fill:"none",children:e.jsx("path",{d:"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm",children:"Google Business Profile"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:t?.google_place_id?t.name:"Not linked"})]})]}),t?.google_place_id?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(N,{className:"bg-teal/20 text-teal border-0",children:[e.jsx(F,{className:"h-3 w-3 mr-1"}),"Connected"]}),e.jsx(l,{variant:"ghost",size:"sm",className:"text-coral hover:text-coral",onClick:()=>m(!0),children:e.jsx(Ae,{className:"h-4 w-4"})})]}):e.jsxs(l,{variant:"outline",size:"sm",onClick:Z,children:[e.jsx(V,{className:"h-4 w-4 mr-1"}),"Connect"]})]}),e.jsx(D,{}),e.jsx("div",{className:"p-3 rounded-lg bg-amber/10 border border-amber/20",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(Se,{className:"h-4 w-4 text-amber shrink-0 mt-0.5"}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:[e.jsx("p",{className:"font-medium text-foreground",children:"De-linking accounts"}),e.jsx("p",{className:"mt-1",children:"Removing GMB connection will disable review sync and automation features. Your account will remain active."})]})]})})]})]}),t&&e.jsx(Le,{clinicId:t.id,clinicName:t.name,googlePlaceId:t.google_place_id,lastSyncAt:T?.gmb_data?.fetched_at||T?.gmb_last_sync_at}),t&&e.jsx(Me,{clinicId:t.id,clinicSlug:t.slug,isGmbConnected:!!t.google_place_id}),e.jsxs(b,{className:"card-modern",children:[e.jsxs(v,{children:[e.jsxs(_,{className:"text-lg flex items-center gap-2",children:[e.jsx(V,{className:"h-5 w-5 text-primary"}),"Social Connections"]}),e.jsx(C,{children:"Link your social media profiles to your practice"})]}),e.jsxs(k,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(q,{className:"flex items-center gap-2",children:[e.jsx(oe,{className:"h-4 w-4 text-pink-500"}),"Instagram"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(A,{placeholder:"https://instagram.com/yourpractice",value:h.instagram,onChange:s=>L({...h,instagram:s.target.value})}),e.jsx(l,{variant:"outline",size:"icon",disabled:!h.instagram,children:e.jsx(I,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(q,{className:"flex items-center gap-2",children:[e.jsx(de,{className:"h-4 w-4 text-blue-600"}),"Facebook"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(A,{placeholder:"https://facebook.com/yourpractice",value:h.facebook,onChange:s=>L({...h,facebook:s.target.value})}),e.jsx(l,{variant:"outline",size:"icon",disabled:!h.facebook,children:e.jsx(I,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(q,{className:"flex items-center gap-2",children:[e.jsx(me,{className:"h-4 w-4 text-sky-500"}),"X (Twitter)"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(A,{placeholder:"https://x.com/yourpractice",value:h.twitter,onChange:s=>L({...h,twitter:s.target.value})}),e.jsx(l,{variant:"outline",size:"icon",disabled:!h.twitter,children:e.jsx(I,{className:"h-4 w-4"})})]})]}),e.jsx(l,{onClick:E,className:"w-full",children:"Save Social Links"})]})]}),e.jsxs(b,{className:"card-modern",children:[e.jsxs(v,{children:[e.jsxs(_,{className:"text-lg flex items-center gap-2",children:[e.jsx(xe,{className:"h-5 w-5 text-primary"}),"Password & Security"]}),e.jsx(C,{children:"Update your password and security settings"})]}),e.jsxs(k,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(q,{children:"New Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(A,{type:p?"text":"password",placeholder:"Enter new password",value:u,onChange:s=>c(s.target.value)}),e.jsx(l,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0",onClick:()=>G(!p),children:p?e.jsx(Ge,{className:"h-4 w-4"}):e.jsx(Pe,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(q,{children:"Confirm Password"}),e.jsx(A,{type:"password",placeholder:"Confirm new password",value:w,onChange:s=>g(s.target.value)})]}),e.jsx(l,{onClick:U,disabled:y||!u||!w,className:"w-full",children:y?e.jsxs(e.Fragment,{children:[e.jsx(O,{className:"h-4 w-4 mr-2 animate-spin"}),"Updating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Be,{className:"h-4 w-4 mr-2"}),"Update Password"]})}),e.jsx(D,{className:"my-4"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"font-medium text-sm",children:"Security Status"}),e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted/50",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(he,{className:"h-4 w-4 text-teal"}),e.jsx("span",{className:"text-sm",children:"Two-Factor Authentication"})]}),e.jsx(N,{variant:"outline",children:"Coming Soon"})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-muted/50",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Y,{className:"h-4 w-4 text-primary"}),e.jsx("span",{className:"text-sm",children:"Google Sign-In"})]}),e.jsxs(N,{className:"bg-teal/20 text-teal border-0",children:[e.jsx(F,{className:"h-3 w-3 mr-1"}),"Enabled"]})]})]})]})]}),e.jsxs(b,{className:"card-modern",children:[e.jsxs(v,{children:[e.jsxs(_,{className:"text-lg flex items-center gap-2",children:[e.jsx(je,{className:"h-5 w-5 text-primary"}),"Notifications"]}),e.jsx(C,{children:"Configure how and when you receive alerts"})]}),e.jsxs(k,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm",children:"Review Alerts"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Get notified when you receive new reviews"})]}),e.jsx(R,{checked:a.emailReviewAlerts,onCheckedChange:s=>M({...a,emailReviewAlerts:s})})]}),e.jsx(D,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm",children:"Appointment Notifications"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Get notified about new and updated appointments"})]}),e.jsx(R,{checked:a.emailAppointments,onCheckedChange:s=>M({...a,emailAppointments:s})})]}),e.jsx(D,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm",children:"SMS Reminders"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Receive SMS for urgent notifications"})]}),e.jsx(R,{checked:a.smsReminders,onCheckedChange:s=>M({...a,smsReminders:s})})]}),e.jsx(D,{}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm",children:"Weekly Digest"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Get a weekly summary of your practice performance"})]}),e.jsx(R,{checked:a.weeklyDigest,onCheckedChange:s=>M({...a,weeklyDigest:s})})]})]})]})]}),e.jsx(we,{open:r,onOpenChange:m,children:e.jsxs(ye,{children:[e.jsxs(Ne,{children:[e.jsx(be,{children:"Disconnect Google Business Profile?"}),e.jsx(ve,{children:"This will stop syncing reviews from Google and disable automated review collection features. You can reconnect your Google Business Profile at any time."})]}),e.jsxs(ke,{children:[e.jsx(_e,{children:"Cancel"}),e.jsx(Ce,{onClick:J,className:"bg-coral hover:bg-coral/90",children:"Disconnect"})]})]})})]})}export{ns as default};
