import{u as re,b as U,c as ie,j as e}from"./chunk-CPh6voF3.js";import{r as F}from"./chunk-CffrGP6S.js";import{f as he,aM as O,bj as pe,s as S,b as _,B as g,a9 as ge,bc as je,aa as fe,ab as be,ac as Ne,ad as ve,a as w,a2 as B,a3 as q,a5 as L,a6 as R,a7 as x,i as u,T as ye,C as Q,t as Y,U as we,w as Ce,Q as _e,D as Se,h as De,j as Ae,V as C,y as ke,bI as Z,o as Me,Z as Te}from"./index-DflORfjh.js";import{u as Ee}from"./chunk-Bt-k3HAA.js";import{C as d,d as o,a as I,b as z,c as X}from"./chunk-Dwq_v72W.js";import{T as Pe,a as Fe,b as V,c as j,d as Be,e as h}from"./chunk-NLs5Ye4A.js";import{T as qe,a as Le,b as G,c as J}from"./chunk-k8HiDHrE.js";import{P as W}from"./chunk-DSDQubI6.js";import{D as Re}from"./chunk-z-mlRDN4.js";import{P as ee}from"./chunk-HAC-i_a2.js";import{B as Ie}from"./chunk-HiDpIwK7.js";import{T as se}from"./chunk-DbdCK11k.js";import{C as ae}from"./chunk-wy0nNZZG.js";import{E as ze}from"./chunk-j3aWteJX.js";import{C as Ve}from"./chunk-CbEmr7WL.js";import{R as Ue}from"./chunk-BOvFDp2b.js";import{C as He}from"./chunk-j7XJPWWF.js";import{C as $e}from"./chunk-DI0yTdYZ.js";import"./chunk-B8auUmee.js";import"./chunk-DK8nT4cj.js";import"./chunk-Drd-rt-S.js";import"./chunk-BEQ5VEiB.js";import"./chunk-yff5u8mE.js";import"./chunk-xExVBHTi.js";import"./chunk-BSjc5zjM.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ke=he("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);function te(a,l){const r=O(a),i=O(l),p=le(r,i),N=Math.abs(pe(r,i));r.setDate(r.getDate()-p*N);const D=+(le(r,i)===-p),v=p*(N-D);return v===0?0:v}function le(a,l){const r=a.getFullYear()-l.getFullYear()||a.getMonth()-l.getMonth()||a.getDate()-l.getDate()||a.getHours()-l.getHours()||a.getMinutes()-l.getMinutes()||a.getSeconds()-l.getSeconds()||a.getMilliseconds()-l.getMilliseconds();return r<0?-1:r>0?1:r}function Oe(a){return re({queryKey:["admin-subscriptions",a],queryFn:async()=>{let l=S.from("clinic_subscriptions").select(`
          *,
          clinic:clinics(id, name),
          plan:subscription_plans(id, name, slug, price_monthly)
        `).order("created_at",{ascending:!1});const{data:r,error:i}=await l;if(i)throw i;return r||[]}})}function Qe(){const a=U();return ie({mutationFn:async l=>{const{data:r,error:i}=await S.from("clinic_subscriptions").insert({clinic_id:l.clinic_id,plan_id:l.plan_id,billing_cycle:l.billing_cycle||"monthly",status:"active",starts_at:new Date().toISOString()}).select().single();if(i)throw i;return r},onSuccess:()=>{a.invalidateQueries({queryKey:["admin-subscriptions"]}),_.success("Subscription created")},onError:l=>_.error("Failed: "+l.message)})}function Ye(){const a=U();return ie({mutationFn:async({id:l,updates:r})=>{const{error:i}=await S.from("clinic_subscriptions").update({...r,updated_at:new Date().toISOString()}).eq("id",l);if(i)throw i},onSuccess:()=>{a.invalidateQueries({queryKey:["admin-subscriptions"]}),_.success("Subscription updated")},onError:l=>_.error("Failed: "+l.message)})}const Ze=[{id:"basic",name:"Basic",slug:"basic",price_aed:99,billing_period:"year",description:"Essential features for getting started",color:"slate",expected_patients:2,features:{claim_profile:{enabled:!0,limit:null,name:"Claim & Customize Profile"},profile_listing:{enabled:!0,limit:1,name:"Profile Listing"},appointment_booking:{enabled:!0,limit:null,name:"Appointment Booking"},email_support:{enabled:!0,limit:null,name:"Email Support"}}},{id:"professional",name:"Professional",slug:"professional",price_aed:499,billing_period:"year",description:"Advanced tools for growing practices",color:"primary",popular:!0,expected_patients:6,features:{claim_profile:{enabled:!0,limit:null,name:"Claim & Customize Profile"},verification_badge:{enabled:!0,limit:null,name:"Verification Badge"},priority_listing:{enabled:!0,limit:null,name:"Priority Search Ranking"}}},{id:"enterprise",name:"Enterprise",slug:"enterprise",price_aed:999,billing_period:"year",description:"Full suite for multi-location practices",color:"gold",expected_patients:11,features:{claim_profile:{enabled:!0,limit:null,name:"Everything in Professional"},dedicated_manager:{enabled:!0,limit:null,name:"Dedicated Account Manager"},phone_support:{enabled:!0,limit:null,name:"24/7 Phone Support"}}}];function vs(){U();const{data:a,isLoading:l}=Oe(),{data:r}=Ee(),i=Ye(),p=Qe(),[N,D]=F.useState("overview"),[v,A]=F.useState(!1),[n,f]=F.useState({clinic_id:"",plan_name:"basic",price_aed:99,status:"active",months:12}),{data:ne}=re({queryKey:["pricing-plans-unified"],queryFn:async()=>{const{data:s,error:t}=await S.from("global_settings").select("value").eq("key","pricing_plans").maybeSingle();if(t)throw t;return s?.value&&Array.isArray(s.value)?s.value:null}}),k=ne||Ze,m=a?.filter(s=>s.status==="active").length||0,M=a?.filter(s=>s.status==="pending").length||0,ce=a?.filter(s=>s.status==="expired").length||0,H=a?.filter(s=>s.status==="cancelled").length||0,c=a?.length||0,de=()=>{if(!a)return{monthly:0,yearly:0};let s=0;return a.filter(t=>t.status==="active").forEach(t=>{const P=t.plan?.price_monthly||t.amount_paid||0;s+=P}),{monthly:s,yearly:s*12}},{monthly:oe,yearly:b}=de(),T=a?.filter(s=>{if(s.status!=="active"||!s.expires_at)return!1;const t=te(new Date(s.expires_at),new Date);return t>0&&t<=30})||[],$=k.map(s=>{const t=a?.filter(K=>K.plan_id===s.id||K.plan?.slug===s.slug).length||0,P=t*(s.price_aed||0);return{...s,count:t,revenue:P}}),me=async()=>{const s=k.find(t=>t.id===n.plan_name);await p.mutateAsync({clinic_id:n.clinic_id,plan_id:s?.id||n.plan_name,billing_cycle:"monthly"}),A(!1),f({clinic_id:"",plan_name:"basic",price_aed:99,status:"active",months:12}),Z({title:"Subscription created successfully"})},E=async(s,t)=>{await i.mutateAsync({id:s,updates:{status:t}}),Z({title:"Status updated"})},xe=s=>{switch(s){case"active":return e.jsx(u,{className:"bg-teal/20 text-teal border-0",children:"Active"});case"pending":return e.jsx(u,{className:"bg-gold/20 text-gold border-0",children:"Pending"});case"expired":return e.jsx(u,{variant:"secondary",children:"Expired"});case"cancelled":return e.jsx(u,{variant:"destructive",children:"Cancelled"});default:return e.jsx(u,{variant:"outline",children:s})}},y=s=>{switch(s){case"enterprise":return e.jsx($e,{className:"h-5 w-5 text-gold"});case"professional":return e.jsx(Te,{className:"h-5 w-5 text-primary"});default:return e.jsx(Me,{className:"h-5 w-5 text-muted-foreground"})}},ue=r||[];return l?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-display font-bold text-foreground",children:"Revenue & Subscriptions"}),e.jsx("p",{className:"text-muted-foreground mt-1",children:"Track revenue, manage subscriptions, and monitor growth"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(g,{variant:"outline",size:"sm",className:"gap-2",children:[e.jsx(Re,{className:"h-4 w-4"}),"Export"]}),e.jsxs(ge,{open:v,onOpenChange:A,children:[e.jsx(je,{asChild:!0,children:e.jsxs(g,{className:"gap-2",children:[e.jsx(ee,{className:"h-4 w-4"}),"Add Subscription"]})}),e.jsxs(fe,{className:"max-w-md",children:[e.jsxs(be,{children:[e.jsx(Ne,{children:"Create Subscription"}),e.jsx(ve,{children:"Assign a plan to a clinic"})]}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(w,{children:"Clinic"}),e.jsxs(B,{value:n.clinic_id,onValueChange:s=>f({...n,clinic_id:s}),children:[e.jsx(q,{children:e.jsx(L,{placeholder:"Select clinic"})}),e.jsx(R,{className:"max-h-60",children:ue.map(s=>e.jsx(x,{value:s.id,children:s.name},s.id))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(w,{children:"Plan"}),e.jsx("div",{className:"grid grid-cols-3 gap-2",children:k.map(s=>e.jsxs("button",{onClick:()=>f({...n,plan_name:s.id,price_aed:s.price_aed}),className:`p-3 rounded-xl border-2 text-center transition-all ${n.plan_name===s.id?"border-primary bg-primary/5":"border-border hover:border-primary/50"}`,children:[e.jsx("div",{className:"flex justify-center mb-1",children:y(s.id)}),e.jsx("p",{className:"text-sm font-medium",children:s.name}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[s.price_aed," AED/yr"]})]},s.id))})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(w,{children:"Duration"}),e.jsxs(B,{value:String(n.months),onValueChange:s=>f({...n,months:Number(s)}),children:[e.jsx(q,{children:e.jsx(L,{})}),e.jsxs(R,{children:[e.jsx(x,{value:"1",children:"1 Month"}),e.jsx(x,{value:"3",children:"3 Months"}),e.jsx(x,{value:"6",children:"6 Months"}),e.jsx(x,{value:"12",children:"12 Months"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(w,{children:"Status"}),e.jsxs(B,{value:n.status,onValueChange:s=>f({...n,status:s}),children:[e.jsx(q,{children:e.jsx(L,{})}),e.jsxs(R,{children:[e.jsx(x,{value:"active",children:"Active"}),e.jsx(x,{value:"pending",children:"Pending"})]})]})]})]}),e.jsx(g,{onClick:me,className:"w-full",disabled:!n.clinic_id||p.isPending,children:"Create Subscription"})]})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs(d,{className:"md:col-span-2 bg-gradient-to-br from-slate-900 to-slate-800 text-white border-0 overflow-hidden relative",children:[e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-primary/10 rounded-full blur-3xl -mr-32 -mt-32"}),e.jsxs(o,{className:"p-6 relative",children:[e.jsxs("div",{className:"flex items-start justify-between mb-6",children:[e.jsx("div",{className:"h-14 w-14 rounded-2xl bg-white/10 backdrop-blur flex items-center justify-center",children:e.jsx(Ie,{className:"h-7 w-7 text-teal"})}),e.jsxs(u,{className:"bg-teal/20 text-teal border-0 gap-1",children:[e.jsx(ye,{className:"h-3 w-3"}),"Annual"]})]}),e.jsx("p",{className:"text-slate-400 text-sm mb-1",children:"Annual Recurring Revenue"}),e.jsxs("p",{className:"text-4xl font-bold mb-4",children:[b.toLocaleString()," AED"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t border-white/10",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-slate-400 text-xs",children:"Monthly Avg"}),e.jsxs("p",{className:"text-lg font-semibold",children:[oe.toLocaleString()," AED"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-slate-400 text-xs",children:"Active Subscriptions"}),e.jsx("p",{className:"text-lg font-semibold",children:m})]})]})]})]}),e.jsx(d,{className:"bg-gradient-to-br from-teal/10 to-teal/5 border-teal/20",children:e.jsxs(o,{className:"p-5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"h-10 w-10 rounded-xl bg-teal/20 flex items-center justify-center",children:e.jsx(Q,{className:"h-5 w-5 text-teal"})}),e.jsxs("span",{className:"text-xs text-teal font-medium",children:[c>0?Math.round(m/c*100):0,"%"]})]}),e.jsx("p",{className:"text-2xl font-bold",children:m}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Active"})]})}),e.jsx(d,{className:"bg-gradient-to-br from-gold/10 to-gold/5 border-gold/20",children:e.jsxs(o,{className:"p-5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"h-10 w-10 rounded-xl bg-gold/20 flex items-center justify-center",children:e.jsx(Y,{className:"h-5 w-5 text-gold"})}),e.jsxs("span",{className:"text-xs text-gold font-medium",children:[c>0?Math.round(M/c*100):0,"%"]})]}),e.jsx("p",{className:"text-2xl font-bold",children:M}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Pending"})]})})]}),T.length>0&&e.jsx(d,{className:"border-gold/50 bg-gradient-to-r from-gold/10 to-transparent",children:e.jsxs(o,{className:"p-4 flex items-center gap-4",children:[e.jsx("div",{className:"h-12 w-12 rounded-xl bg-gold/20 flex items-center justify-center flex-shrink-0",children:e.jsx(se,{className:"h-6 w-6 text-gold"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("p",{className:"font-semibold text-gold",children:[T.length," subscription(s) expiring within 30 days"]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Consider reaching out for renewal to maintain revenue"})]}),e.jsx(g,{variant:"outline",size:"sm",className:"border-gold/50 text-gold hover:bg-gold/10",children:"View Details"})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:$.map(s=>e.jsx(d,{className:`overflow-hidden ${s.color==="gold"?"bg-gradient-to-br from-gold/10 to-gold/5 border-gold/30":s.color==="primary"?"bg-gradient-to-br from-primary/10 to-primary/5 border-primary/30":"bg-gradient-to-br from-slate-100 to-slate-50 dark:from-slate-800/50 dark:to-slate-900/50"}`,children:e.jsxs(o,{className:"p-5",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`h-10 w-10 rounded-xl flex items-center justify-center ${s.color==="gold"?"bg-gold/20":s.color==="primary"?"bg-primary/20":"bg-slate-200 dark:bg-slate-700"}`,children:y(s.id)}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:s.name}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[s.price_aed," AED/year"]})]})]}),s.popular&&e.jsx(u,{className:"bg-primary text-primary-foreground text-xs",children:"Popular"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold",children:s.count}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Subscribers"})]}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-2xl font-bold",children:[s.revenue.toLocaleString()," AED"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Revenue"})]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[e.jsx("span",{children:"Share of total"}),e.jsxs("span",{children:[c>0?Math.round(s.count/c*100):0,"%"]})]}),e.jsx(W,{value:c>0?s.count/c*100:0,className:"h-1.5"})]})]})},s.id))}),e.jsxs(qe,{value:N,onValueChange:D,children:[e.jsxs(Le,{className:"grid w-full grid-cols-2 rounded-xl",children:[e.jsxs(G,{value:"overview",className:"rounded-xl gap-2",children:[e.jsx(we,{className:"h-4 w-4"}),"All Subscriptions"]}),e.jsxs(G,{value:"analytics",className:"rounded-xl gap-2",children:[e.jsx(ae,{className:"h-4 w-4"}),"Analytics"]})]}),e.jsx(J,{value:"overview",className:"mt-4",children:e.jsx(d,{className:"rounded-2xl overflow-hidden",children:e.jsx(o,{className:"p-0",children:e.jsxs(Pe,{children:[e.jsx(Fe,{children:e.jsxs(V,{className:"bg-slate-50 dark:bg-slate-800/50",children:[e.jsx(j,{className:"font-semibold",children:"Clinic"}),e.jsx(j,{className:"font-semibold",children:"Plan"}),e.jsx(j,{className:"font-semibold",children:"Price"}),e.jsx(j,{className:"font-semibold",children:"Status"}),e.jsx(j,{className:"font-semibold",children:"Expires"}),e.jsx(j,{className:"text-right font-semibold",children:"Actions"})]})}),e.jsxs(Be,{children:[a?.map(s=>{const t=s.expires_at?te(new Date(s.expires_at),new Date):null;return e.jsxs(V,{className:"hover:bg-slate-50 dark:hover:bg-slate-800/30",children:[e.jsx(h,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-10 w-10 rounded-xl bg-primary/10 flex items-center justify-center",children:e.jsx(Ce,{className:"h-5 w-5 text-primary"})}),e.jsx("div",{children:e.jsx("p",{className:"font-medium",children:s.clinic?.name||"Unknown"})})]})}),e.jsx(h,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[y(s.plan?.slug||"basic"),e.jsx("span",{className:"capitalize font-medium",children:s.plan?.name||"Unknown"})]})}),e.jsx(h,{children:e.jsxs("span",{className:"font-semibold",children:[s.plan?.price_monthly||s.amount_paid||0," AED/mo"]})}),e.jsx(h,{children:xe(s.status||"pending")}),e.jsx(h,{children:s.expires_at?e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:_e(new Date(s.expires_at),"MMM d, yyyy")}),t!==null&&t>0&&t<=30&&e.jsxs("p",{className:"text-xs text-gold flex items-center gap-1",children:[e.jsx(se,{className:"h-3 w-3"}),t," days left"]})]}):"-"}),e.jsx(h,{className:"text-right",children:e.jsxs(Se,{children:[e.jsx(De,{asChild:!0,children:e.jsx(g,{variant:"ghost",size:"icon",className:"rounded-xl",children:e.jsx(ze,{className:"h-4 w-4"})})}),e.jsxs(Ae,{align:"end",children:[e.jsxs(C,{onClick:()=>E(s.id,"active"),children:[e.jsx(Q,{className:"h-4 w-4 mr-2 text-teal"})," Set Active"]}),e.jsxs(C,{onClick:()=>E(s.id,"expired"),children:[e.jsx(Y,{className:"h-4 w-4 mr-2 text-muted-foreground"})," Set Expired"]}),e.jsxs(C,{onClick:()=>E(s.id,"cancelled"),children:[e.jsx(Ve,{className:"h-4 w-4 mr-2 text-coral"})," Cancel"]}),e.jsxs(C,{children:[e.jsx(Ue,{className:"h-4 w-4 mr-2"})," Renew"]})]})]})})]},s.id)}),(!a||a.length===0)&&e.jsx(V,{children:e.jsx(h,{colSpan:6,className:"text-center py-16",children:e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx("div",{className:"h-16 w-16 rounded-2xl bg-slate-100 dark:bg-slate-800 flex items-center justify-center",children:e.jsx(He,{className:"h-8 w-8 text-muted-foreground"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"No subscriptions yet"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Create your first subscription to get started"})]}),e.jsxs(g,{onClick:()=>A(!0),className:"mt-2 gap-2",children:[e.jsx(ee,{className:"h-4 w-4"}),"Add Subscription"]})]})})})]})]})})})}),e.jsx(J,{value:"analytics",className:"mt-4",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(d,{className:"rounded-2xl",children:[e.jsxs(I,{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ke,{className:"h-5 w-5 text-primary"}),e.jsx(z,{className:"text-lg",children:"Subscription Status"})]}),e.jsx(X,{children:"Distribution of subscription statuses"})]}),e.jsx(o,{className:"space-y-4",children:[{label:"Active",count:m,color:"bg-teal",textColor:"text-teal"},{label:"Pending",count:M,color:"bg-gold",textColor:"text-gold"},{label:"Expired",count:ce,color:"bg-slate-400",textColor:"text-slate-400"},{label:"Cancelled",count:H,color:"bg-coral",textColor:"text-coral"}].map(s=>{const t=c>0?s.count/c*100:0;return e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("span",{className:"font-medium flex items-center gap-2",children:[e.jsx("span",{className:`w-3 h-3 rounded-full ${s.color}`}),s.label]}),e.jsxs("span",{className:s.textColor,children:[s.count," (",t.toFixed(0),"%)"]})]}),e.jsx("div",{className:"h-2 bg-slate-100 dark:bg-slate-800 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full ${s.color} rounded-full transition-all`,style:{width:`${t}%`}})})]},s.label)})})]}),e.jsxs(d,{className:"rounded-2xl",children:[e.jsxs(I,{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ae,{className:"h-5 w-5 text-primary"}),e.jsx(z,{className:"text-lg",children:"Revenue by Plan"})]}),e.jsx(X,{children:"Annual revenue contribution by plan type"})]}),e.jsxs(o,{className:"space-y-4",children:[$.map(s=>{const t=b>0?s.revenue/b*100:0;return e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("span",{className:"font-medium flex items-center gap-2",children:[y(s.id),s.name]}),e.jsxs("span",{className:"text-muted-foreground",children:[s.revenue.toLocaleString()," AED (",t.toFixed(0),"%)"]})]}),e.jsx(W,{value:t,className:"h-2"})]},s.id)}),e.jsx("div",{className:"pt-4 border-t mt-4",children:e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-semibold",children:"Total Annual Revenue"}),e.jsxs("span",{className:"font-bold text-lg",children:[b.toLocaleString()," AED"]})]})})]})]}),e.jsxs(d,{className:"rounded-2xl lg:col-span-2",children:[e.jsx(I,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ke,{className:"h-5 w-5 text-primary"}),e.jsx(z,{className:"text-lg",children:"Key Metrics"})]})}),e.jsx(o,{children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"p-4 rounded-xl bg-slate-50 dark:bg-slate-800/50 text-center",children:[e.jsx("p",{className:"text-3xl font-bold text-primary",children:m}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Active Subscribers"})]}),e.jsxs("div",{className:"p-4 rounded-xl bg-slate-50 dark:bg-slate-800/50 text-center",children:[e.jsxs("p",{className:"text-3xl font-bold text-teal",children:[m>0?Math.round(b/m):0," AED"]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Avg Revenue/Customer"})]}),e.jsxs("div",{className:"p-4 rounded-xl bg-slate-50 dark:bg-slate-800/50 text-center",children:[e.jsx("p",{className:"text-3xl font-bold text-gold",children:T.length}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Expiring Soon"})]}),e.jsxs("div",{className:"p-4 rounded-xl bg-slate-50 dark:bg-slate-800/50 text-center",children:[e.jsx("p",{className:"text-3xl font-bold text-coral",children:H}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Churned"})]})]})})]})]})})]})]})}export{vs as default};
