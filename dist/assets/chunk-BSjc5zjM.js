import{s as t}from"./index-DflORfjh.js";async function n({action:a,entityType:r,entityId:s,oldValues:i,newValues:o,metadata:u}){try{const{data:{user:e}}=await t.auth.getUser();await t.from("audit_logs").insert([{user_id:e?.id??null,user_email:e?.email??null,action:a,entity_type:r,entity_id:s??null,old_values:i,new_values:o,metadata:u,user_agent:navigator.userAgent}])}catch(e){console.error("Failed to create audit log:",e)}}export{n as c};
