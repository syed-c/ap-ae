import{b as Ae,u as D,c as me,j as e}from"./chunk-CPh6voF3.js";import{r as o}from"./chunk-CffrGP6S.js";import{a9 as ke,bc as Fe,B as u,o as xe,aa as Ee,ab as Le,ac as Ge,F as Ie,C as W,aK as O,L as q,p as Z,a4 as De,a2 as Y,a3 as J,a5 as X,a6 as ee,a7 as v,G as Oe,T as qe,Z as he,bA as Me,a as Be,al as He,S as Re,b7 as ue,i as g,E as Ke,b as T,s as b}from"./index-DflORfjh.js";import{C as l,d as n,a as p,b as f,c as w}from"./chunk-Dwq_v72W.js";import{T as Ue,a as $e,b as M,c as B}from"./chunk-k8HiDHrE.js";import{T as ze,a as Ve,b as ge,c as A,d as Qe,e as k}from"./chunk-NLs5Ye4A.js";import{P as je}from"./chunk-DSDQubI6.js";import{A as We,a as _,b as C,c as S}from"./chunk-BMzWzDrf.js";import{B as Ze}from"./chunk-Bl7VVhKV.js";import{T as Ye}from"./chunk-DbdCK11k.js";import{F as te}from"./chunk-BaL04tya.js";import{C as fe}from"./chunk-BFhD_ct7.js";import{C as Je}from"./chunk-wy0nNZZG.js";import{A as pe}from"./chunk-C2VW2Ml6.js";import{C as Xe}from"./chunk-GLPyMM0F.js";import{E as es}from"./chunk-CbETxTmt.js";import{B as ss}from"./chunk-B_ghW3Ra.js";import"./chunk-B8auUmee.js";import"./chunk-DK8nT4cj.js";import"./chunk-Drd-rt-S.js";import"./chunk-BEQ5VEiB.js";import"./chunk-yff5u8mE.js";import"./chunk-xExVBHTi.js";import"./chunk-CKWDY2Lf.js";const H={state:"State Pages",city:"City Pages",city_treatment:"Service + Location",treatment:"Service Pages",clinic:"Clinic Profiles",blog:"Blog Posts",static:"Static Pages",dentist:"Dentist Profiles"},se=[{id:"meta_title",label:"Meta Title Issues",icon:te,severity:"high",color:"text-coral"},{id:"meta_description",label:"Meta Description Issues",icon:te,severity:"high",color:"text-gold"},{id:"h1",label:"H1 Heading Issues",icon:Ke,severity:"medium",color:"text-primary"},{id:"content",label:"Thin Content",icon:ss,severity:"critical",color:"text-destructive"},{id:"duplicate",label:"Duplicate Content",icon:fe,severity:"critical",color:"text-coral"}];function Ts(){const F=Ae(),[Ne,ae]=o.useState("overview"),[c,R]=o.useState([]),[d,ie]=o.useState(""),[N,K]=o.useState(""),[r,le]=o.useState(""),[m,U]=o.useState([]),[$,ye]=o.useState(""),[E,L]=o.useState(!1),[re,G]=o.useState(0),[ne,ce]=o.useState(0),[y,z]=o.useState(!1),{data:V}=D({queryKey:["seo-command-filter-options"],queryFn:async()=>{const{data:s,error:t}=await b.functions.invoke("seo-expert",{body:{action:"get_filter_options"}});if(t)throw t;return{states:s.states,cities:s.cities}}}),{data:i,refetch:ts}=D({queryKey:["google-seo-policies"],queryFn:async()=>{const{data:s,error:t}=await b.functions.invoke("seo-expert",{body:{action:"get_policies"}});if(t)throw t;return s.policies},staleTime:1e3*60*60}),{data:a,isLoading:as,refetch:Q}=D({queryKey:["seo-command-stats",c,d,N],queryFn:async()=>{const{data:s,error:t}=await b.functions.invoke("seo-expert",{body:{action:"get_stats",page_types:c.length>0?c:void 0,state_filter:d||void 0,city_filter:N||void 0}});if(t)throw t;return{stats:s.stats,pageTypes:s.page_types,latestAudit:s.latest_audit}}}),{data:x,isLoading:ve,refetch:de}=D({queryKey:["seo-command-issues",r,c,d,N],queryFn:async()=>{const{data:s,error:t}=await b.functions.invoke("seo-expert",{body:{action:"get_issues",category:r,page_type:c[0],state_filter:d||void 0,city_filter:N||void 0,limit:5e4,offset:0}});if(t)throw t;return{issues:s.issues,totalCount:s.total_count,googlePolicy:s.google_policy}},enabled:!!r}),j=me({mutationFn:async()=>{z(!0),ce(0);const{data:s,error:t}=await b.functions.invoke("seo-expert",{body:{action:"full_audit",page_types:c.length>0?c:void 0,state_filter:d||void 0,city_filter:N||void 0,limit:1e5}});if(t)throw t;return ce(100),s},onSuccess:s=>{z(!1),F.invalidateQueries({queryKey:["seo-command-stats"]}),F.invalidateQueries({queryKey:["seo-command-issues"]}),T.success(`Audit complete! ${s.summary.pages_with_issues} pages need attention.`)},onError:s=>{z(!1),T.error(`Audit failed: ${s instanceof Error?s.message:"Unknown error"}`)}}),oe=me({mutationFn:async s=>{const{data:t,error:h}=await b.functions.invoke("seo-expert",{body:{action:"fix_issues",page_ids:s.pageIds,issue_category:s.issueCategory,page_type:s.pageType,custom_prompt:s.customPrompt,limit:s.limit||50}});if(h)throw h;return t},onSuccess:s=>{F.invalidateQueries({queryKey:["seo-command-stats"]}),F.invalidateQueries({queryKey:["seo-command-issues"]}),T.success(`Fixed ${s.fixed_count} pages. ${s.failed_count} failed.`)},onError:s=>{T.error(`Fix failed: ${s instanceof Error?s.message:"Unknown error"}`)}}),be=async()=>{if(m.length===0){T.error("Please select pages to fix");return}L(!0),G(0);const s=10,t=Math.ceil(m.length/s);let h=0,Pe=0;for(let P=0;P<t;P++){const Te=m.slice(P*s,(P+1)*s);try{const I=await oe.mutateAsync({pageIds:Te,issueCategory:r,customPrompt:$||void 0});h+=I.fixed_count,Pe+=I.failed_count}catch(I){console.error("Batch fix error:",I)}G((P+1)/t*100)}L(!1),U([]),de(),Q()},we=async(s,t=100)=>{L(!0),G(0);try{await oe.mutateAsync({issueCategory:s,pageType:c[0],customPrompt:$||void 0,limit:t}),G(100),de(),Q()}catch(h){console.error("Fix all error:",h)}L(!1)},_e=s=>{switch(s){case"critical":return e.jsx(g,{variant:"destructive",children:"Critical"});case"high":return e.jsx(g,{className:"bg-coral/20 text-coral border-coral/30",children:"High"});case"medium":return e.jsx(g,{className:"bg-gold/20 text-gold border-gold/30",children:"Medium"});default:return e.jsx(g,{variant:"outline",children:"Low"})}},Ce=s=>s>=80?e.jsx(g,{className:"bg-teal/20 text-teal border-teal/30",children:s}):s>=60?e.jsx(g,{className:"bg-gold/20 text-gold border-gold/30",children:s}):e.jsx(g,{className:"bg-coral/20 text-coral border-coral/30",children:s}),Se=a?.stats?a.stats.issues.no_meta_title+a.stats.issues.no_meta_description+a.stats.issues.no_h1+a.stats.issues.thin_content+a.stats.issues.duplicate_content:0;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"h-12 w-12 rounded-xl bg-gradient-to-br from-primary to-teal flex items-center justify-center shadow-lg",children:e.jsx(Ze,{className:"h-6 w-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-display font-bold text-foreground",children:"SEO Command Center"}),e.jsx("p",{className:"text-muted-foreground",children:"Professional SEO auditing & optimization following Google's latest guidelines"})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(ke,{children:[e.jsx(Fe,{asChild:!0,children:e.jsxs(u,{variant:"outline",children:[e.jsx(xe,{className:"h-4 w-4 mr-2"}),"Google Policies"]})}),e.jsxs(Ee,{className:"max-w-3xl max-h-[80vh] overflow-y-auto",children:[e.jsx(Le,{children:e.jsxs(Ge,{className:"flex items-center gap-2",children:[e.jsx(xe,{className:"h-5 w-5 text-primary"}),"Google SEO Policies & Guidelines"]})}),i&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-3 rounded-lg bg-primary/10 border border-primary/20",children:[e.jsxs("p",{className:"text-sm font-medium",children:["Last Updated: ",i.lastUpdated]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"All audits and fixes follow these Google-approved guidelines."})]}),e.jsxs(We,{type:"single",collapsible:!0,className:"w-full",children:[e.jsxs(_,{value:"updates",children:[e.jsx(C,{children:"Recent Core Updates"}),e.jsx(S,{children:e.jsx("ul",{className:"space-y-2",children:i.coreUpdates.map((s,t)=>e.jsxs("li",{className:"text-sm text-muted-foreground flex items-start gap-2",children:[e.jsx(Ie,{className:"h-4 w-4 mt-0.5 text-primary shrink-0"}),s]},t))})})]}),e.jsxs(_,{value:"eeat",children:[e.jsx(C,{children:"E-E-A-T Guidelines"}),e.jsx(S,{children:e.jsx("ul",{className:"space-y-2",children:i.contentGuidelines.eeat.map((s,t)=>e.jsxs("li",{className:"text-sm text-muted-foreground flex items-start gap-2",children:[e.jsx(W,{className:"h-4 w-4 mt-0.5 text-teal shrink-0"}),s]},t))})})]}),e.jsxs(_,{value:"meta-title",children:[e.jsx(C,{children:"Meta Title Rules"}),e.jsx(S,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{className:"text-sm",children:[e.jsx("strong",{children:"Length:"})," ",i.contentGuidelines.onPage.meta_title.minLength,"-",i.contentGuidelines.onPage.meta_title.maxLength," characters"]}),e.jsx("ul",{className:"space-y-1",children:i.contentGuidelines.onPage.meta_title.rules.map((s,t)=>e.jsxs("li",{className:"text-sm text-muted-foreground flex items-start gap-2",children:[e.jsx(O,{className:"h-4 w-4 mt-0.5 text-teal shrink-0"}),s]},t))})]})})]}),e.jsxs(_,{value:"meta-desc",children:[e.jsx(C,{children:"Meta Description Rules"}),e.jsx(S,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{className:"text-sm",children:[e.jsx("strong",{children:"Length:"})," ",i.contentGuidelines.onPage.meta_description.minLength,"-",i.contentGuidelines.onPage.meta_description.maxLength," characters"]}),e.jsx("ul",{className:"space-y-1",children:i.contentGuidelines.onPage.meta_description.rules.map((s,t)=>e.jsxs("li",{className:"text-sm text-muted-foreground flex items-start gap-2",children:[e.jsx(O,{className:"h-4 w-4 mt-0.5 text-teal shrink-0"}),s]},t))})]})})]}),e.jsxs(_,{value:"content",children:[e.jsx(C,{children:"Content Guidelines"}),e.jsx(S,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{className:"text-sm",children:[e.jsx("strong",{children:"Minimum:"})," ",i.contentGuidelines.onPage.content.minWords," words | ",e.jsx("strong",{children:"Ideal:"})," ",i.contentGuidelines.onPage.content.idealWords,"+ words"]}),e.jsx("ul",{className:"space-y-1",children:i.contentGuidelines.onPage.content.rules.map((s,t)=>e.jsxs("li",{className:"text-sm text-muted-foreground flex items-start gap-2",children:[e.jsx(O,{className:"h-4 w-4 mt-0.5 text-teal shrink-0"}),s]},t))})]})})]}),e.jsxs(_,{value:"technical",children:[e.jsx(C,{children:"Technical SEO"}),e.jsx(S,{children:e.jsx("ul",{className:"space-y-1",children:i.contentGuidelines.technical.rules.map((s,t)=>e.jsxs("li",{className:"text-sm text-muted-foreground flex items-start gap-2",children:[e.jsx(O,{className:"h-4 w-4 mt-0.5 text-teal shrink-0"}),s]},t))})})]})]})]})]})]}),e.jsxs(u,{onClick:()=>j.mutate(),disabled:j.isPending||y,className:"bg-gradient-to-r from-primary to-teal",children:[j.isPending||y?e.jsx(q,{className:"h-4 w-4 mr-2 animate-spin"}):e.jsx(Z,{className:"h-4 w-4 mr-2"}),j.isPending||y?"Auditing All Pages...":"Run Full Audit"]})]})]}),e.jsx(l,{className:"border-2 border-primary/20",children:e.jsx(n,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(De,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm font-medium",children:"Target Filters:"})]}),e.jsxs(Y,{value:c[0]||"all",onValueChange:s=>R(s==="all"?[]:[s]),children:[e.jsx(J,{className:"w-48",children:e.jsx(X,{placeholder:"All Page Types"})}),e.jsxs(ee,{children:[e.jsx(v,{value:"all",children:"All Page Types"}),Object.entries(H).map(([s,t])=>e.jsx(v,{value:s,children:t},s))]})]}),e.jsxs(Y,{value:d||"all",onValueChange:s=>{ie(s==="all"?"":s),K("")},children:[e.jsx(J,{className:"w-48",children:e.jsx(X,{placeholder:"All States"})}),e.jsxs(ee,{children:[e.jsx(v,{value:"all",children:"All Active States"}),V?.states?.map(s=>e.jsxs(v,{value:s.slug,children:[s.name," (",s.abbreviation,")"]},s.slug))]})]}),e.jsxs(Y,{value:N||"all",onValueChange:s=>K(s==="all"?"":s),disabled:!d,children:[e.jsx(J,{className:"w-48",children:e.jsx(X,{placeholder:d?"Select City":"Select State First"})}),e.jsxs(ee,{children:[e.jsx(v,{value:"all",children:"All Cities in State"}),V?.cities?.filter(s=>!d||s.state_abbr===V.states?.find(t=>t.slug===d)?.abbreviation).slice(0,200).map(s=>e.jsx(v,{value:s.slug,children:s.name},s.slug))]})]}),e.jsx(u,{variant:"outline",size:"sm",onClick:()=>{R([]),ie(""),K("")},children:"Clear Filters"})]})})}),a&&e.jsxs("div",{className:"grid grid-cols-6 gap-4",children:[e.jsx(l,{className:"bg-gradient-to-br from-primary/10 to-primary/5 border-primary/20",children:e.jsxs(n,{className:"p-4 flex items-center gap-4",children:[e.jsx("div",{className:"h-12 w-12 rounded-xl bg-primary/20 flex items-center justify-center",children:e.jsx(Oe,{className:"h-6 w-6 text-primary"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold",children:a.stats.total_pages.toLocaleString()}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Pages"})]})]})}),e.jsx(l,{className:"bg-gradient-to-br from-teal/10 to-teal/5 border-teal/20",children:e.jsxs(n,{className:"p-4 flex items-center gap-4",children:[e.jsx("div",{className:"h-12 w-12 rounded-xl bg-teal/20 flex items-center justify-center",children:e.jsx(qe,{className:"h-6 w-6 text-teal"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold",children:a.stats.avg_seo_score||0}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Avg SEO Score"})]})]})}),e.jsx(l,{className:"bg-gradient-to-br from-coral/10 to-coral/5 border-coral/20",children:e.jsxs(n,{className:"p-4 flex items-center gap-4",children:[e.jsx("div",{className:"h-12 w-12 rounded-xl bg-coral/20 flex items-center justify-center",children:e.jsx(Ye,{className:"h-6 w-6 text-coral"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold",children:Se.toLocaleString()}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Issues"})]})]})}),e.jsx(l,{children:e.jsxs(n,{className:"p-4 flex items-center gap-4",children:[e.jsx("div",{className:"h-12 w-12 rounded-xl bg-gold/20 flex items-center justify-center",children:e.jsx(te,{className:"h-6 w-6 text-gold"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold",children:a.stats.issues.thin_content}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Thin Content"})]})]})}),e.jsx(l,{children:e.jsxs(n,{className:"p-4 flex items-center gap-4",children:[e.jsx("div",{className:"h-12 w-12 rounded-xl bg-destructive/20 flex items-center justify-center",children:e.jsx(fe,{className:"h-6 w-6 text-destructive"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold",children:a.stats.issues.duplicate_content}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Duplicates"})]})]})}),e.jsx(l,{children:e.jsxs(n,{className:"p-4 flex items-center gap-4",children:[e.jsx("div",{className:"h-12 w-12 rounded-xl bg-blue-500/20 flex items-center justify-center",children:e.jsx(W,{className:"h-6 w-6 text-blue-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold",children:a.stats.optimized}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Optimized"})]})]})})]}),e.jsxs(Ue,{value:Ne,onValueChange:ae,children:[e.jsxs($e,{className:"grid w-full grid-cols-4",children:[e.jsxs(M,{value:"overview",children:[e.jsx(Je,{className:"h-4 w-4 mr-2"}),"Issue Overview"]}),e.jsxs(M,{value:"audit",children:[e.jsx(Z,{className:"h-4 w-4 mr-2"}),"Deep Audit"]}),e.jsxs(M,{value:"fix",children:[e.jsx(he,{className:"h-4 w-4 mr-2"}),"Fix Issues"]}),e.jsxs(M,{value:"health",children:[e.jsx(pe,{className:"h-4 w-4 mr-2"}),"Health Check"]})]}),e.jsx(B,{value:"overview",className:"mt-4 space-y-4",children:a&&e.jsxs(e.Fragment,{children:[e.jsxs(l,{children:[e.jsxs(p,{children:[e.jsx(f,{children:"Issues by Category"}),e.jsx(w,{children:"Click on any category to view and fix issues"})]}),e.jsx(n,{children:e.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-5 gap-4",children:se.map(s=>{let t=0;switch(s.id){case"meta_title":t=a.stats.issues.no_meta_title+a.stats.issues.meta_title_too_long+a.stats.issues.meta_title_too_short;break;case"meta_description":t=a.stats.issues.no_meta_description+a.stats.issues.meta_desc_too_long+a.stats.issues.meta_desc_too_short;break;case"h1":t=a.stats.issues.no_h1+a.stats.issues.h1_too_long;break;case"content":t=a.stats.issues.thin_content+a.stats.issues.no_content;break;case"duplicate":t=a.stats.issues.duplicate_content;break}return e.jsx(l,{className:`cursor-pointer transition-all hover:shadow-md ${r===s.id?"ring-2 ring-primary":""}`,onClick:()=>{le(s.id),ae("fix")},children:e.jsxs(n,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(s.icon,{className:`h-5 w-5 ${s.color}`}),_e(s.severity)]}),e.jsx("p",{className:"text-2xl font-bold",children:t.toLocaleString()}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.label})]})},s.id)})})})]}),e.jsxs(l,{children:[e.jsxs(p,{children:[e.jsx(f,{children:"Pages by Type"}),e.jsx(w,{children:"Distribution of SEO pages across content types"})]}),e.jsx(n,{children:e.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:Object.entries(a.stats.by_type||{}).map(([s,t])=>e.jsxs("div",{className:"p-4 rounded-lg border bg-card cursor-pointer hover:bg-muted/50 transition-colors",onClick:()=>{R([s]),Q()},children:[e.jsx("p",{className:"text-lg font-semibold",children:t.toLocaleString()}),e.jsx("p",{className:"text-sm text-muted-foreground",children:H[s]||s})]},s))})})]})]})}),e.jsx(B,{value:"audit",className:"mt-4 space-y-4",children:e.jsxs(l,{children:[e.jsxs(p,{children:[e.jsxs(f,{className:"flex items-center gap-2",children:[e.jsx(Z,{className:"h-5 w-5"}),"Deep SEO Audit"]}),e.jsx(w,{children:"Run a comprehensive audit of all pages following Google's E-E-A-T guidelines"})]}),e.jsxs(n,{className:"space-y-4",children:[y&&e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"Auditing pages..."}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[ne.toFixed(0),"%"]})]}),e.jsx(je,{value:ne})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs(l,{className:"p-4 bg-muted/50",children:[e.jsx("h4",{className:"font-medium mb-2",children:"What's Checked"}),e.jsxs("ul",{className:"text-sm space-y-1 text-muted-foreground",children:[e.jsx("li",{children:"• Meta titles (30-60 chars)"}),e.jsx("li",{children:"• Meta descriptions (70-155 chars)"}),e.jsx("li",{children:"• H1 headings (unique, descriptive)"}),e.jsx("li",{children:"• Content quality (300+ words)"}),e.jsx("li",{children:"• Duplicate detection"})]})]}),e.jsxs(l,{className:"p-4 bg-muted/50",children:[e.jsx("h4",{className:"font-medium mb-2",children:"Google Policies Applied"}),e.jsxs("ul",{className:"text-sm space-y-1 text-muted-foreground",children:[e.jsx("li",{children:"• E-E-A-T compliance"}),e.jsx("li",{children:"• Helpful content guidelines"}),e.jsx("li",{children:"• Core Web Vitals signals"}),e.jsx("li",{children:"• Mobile-first indexing"}),e.jsx("li",{children:"• Schema markup checks"})]})]}),e.jsxs(l,{className:"p-4 bg-muted/50",children:[e.jsx("h4",{className:"font-medium mb-2",children:"Audit Scope"}),e.jsxs("div",{className:"text-sm space-y-1 text-muted-foreground",children:[e.jsxs("p",{children:["Pages to audit: ",e.jsx("strong",{className:"text-foreground",children:a?.stats.total_pages.toLocaleString()||"All"})]}),e.jsxs("p",{children:["Filter: ",e.jsx("strong",{className:"text-foreground",children:d||"All States"})]}),e.jsxs("p",{children:["Type: ",e.jsx("strong",{className:"text-foreground",children:c[0]?H[c[0]]:"All Types"})]})]})]})]}),e.jsx(u,{onClick:()=>j.mutate(),disabled:j.isPending||y,size:"lg",className:"w-full",children:j.isPending||y?e.jsxs(e.Fragment,{children:[e.jsx(q,{className:"h-4 w-4 mr-2 animate-spin"}),"Auditing All Pages..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Me,{className:"h-4 w-4 mr-2"}),"Start Full Audit (No Limit)"]})})]})]})}),e.jsx(B,{value:"fix",className:"mt-4 space-y-4",children:e.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[e.jsxs(l,{className:"col-span-1",children:[e.jsx(p,{className:"pb-2",children:e.jsx(f,{className:"text-lg",children:"Issue Category"})}),e.jsx(n,{className:"p-0",children:e.jsx("div",{className:"space-y-1 p-2",children:se.map(s=>e.jsxs(u,{variant:r===s.id?"default":"ghost",className:"w-full justify-start",onClick:()=>le(s.id),children:[e.jsx(s.icon,{className:"h-4 w-4 mr-2"}),s.label]},s.id))})})]}),e.jsxs(l,{className:"col-span-3",children:[e.jsxs(p,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsxs("div",{children:[e.jsx(f,{className:"text-lg",children:r?se.find(s=>s.id===r)?.label:"Select a Category"}),e.jsx(w,{children:x?`${x.totalCount.toLocaleString()} pages with issues`:"Choose an issue category to view affected pages"})]}),r&&e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(u,{variant:"outline",size:"sm",onClick:be,disabled:m.length===0||E,children:["Fix Selected (",m.length,")"]}),e.jsxs(u,{size:"sm",onClick:()=>we(r,500),disabled:E,children:[E?e.jsx(q,{className:"h-4 w-4 mr-2 animate-spin"}):e.jsx(he,{className:"h-4 w-4 mr-2"}),"Fix All (",x?.totalCount?.toLocaleString()||0,")"]})]})]}),e.jsxs(n,{className:"p-0",children:[E&&e.jsxs("div",{className:"px-4 py-2 border-b",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"text-sm",children:"Fixing issues..."}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[re.toFixed(0),"%"]})]}),e.jsx(je,{value:re})]}),r&&e.jsxs("div",{className:"px-4 py-3 border-b bg-muted/30",children:[e.jsx(Be,{className:"text-sm",children:"Custom AI Instructions (Optional)"}),e.jsx(He,{placeholder:"Add specific instructions for how AI should fix these issues...",value:$,onChange:s=>ye(s.target.value),className:"mt-1 h-16"})]}),e.jsx(Re,{className:"h-[500px]",children:ve?e.jsx("div",{className:"flex items-center justify-center h-32",children:e.jsx(q,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):r?x?.issues?.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center h-32 text-muted-foreground",children:[e.jsx(W,{className:"h-8 w-8 mb-2 text-teal"}),e.jsx("p",{children:"No issues found in this category!"})]}):e.jsxs(ze,{children:[e.jsx(Ve,{children:e.jsxs(ge,{children:[e.jsx(A,{className:"w-10",children:e.jsx(ue,{checked:m.length===(x?.issues?.length||0)&&(x?.issues?.length||0)>0,onCheckedChange:s=>{U(s?x?.issues?.map(t=>t.id)||[]:[])}})}),e.jsx(A,{children:"Page"}),e.jsx(A,{children:"Type"}),e.jsx(A,{children:"Current Value"}),e.jsx(A,{children:"Score"})]})}),e.jsx(Qe,{children:x?.issues?.map(s=>e.jsxs(ge,{children:[e.jsx(k,{children:e.jsx(ue,{checked:m.includes(s.id),onCheckedChange:t=>{U(t?[...m,s.id]:m.filter(h=>h!==s.id))}})}),e.jsx(k,{children:e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm truncate max-w-xs",children:s.slug}),s.word_count!==null&&e.jsxs("p",{className:"text-xs text-muted-foreground",children:[s.word_count," words"]})]})}),e.jsx(k,{children:e.jsx(g,{variant:"outline",children:H[s.page_type]||s.page_type})}),e.jsx(k,{children:e.jsxs("p",{className:"text-sm truncate max-w-xs text-muted-foreground",children:[r==="meta_title"&&(s.current_title||"Missing"),r==="meta_description"&&(s.current_description?.slice(0,50)||"Missing"),r==="h1"&&(s.current_h1||"Missing"),r==="content"&&`${s.word_count||0} words`,r==="duplicate"&&"Duplicate detected"]})}),e.jsx(k,{children:Ce(s.seo_score)})]},s.id))})]}):e.jsxs("div",{className:"flex flex-col items-center justify-center h-32 text-muted-foreground",children:[e.jsx(Xe,{className:"h-8 w-8 mb-2"}),e.jsx("p",{children:"Select an issue category to view affected pages"})]})})]})]})]})}),e.jsxs(B,{value:"health",className:"mt-4 space-y-4",children:[e.jsxs(l,{children:[e.jsxs(p,{children:[e.jsxs(f,{className:"flex items-center gap-2",children:[e.jsx(pe,{className:"h-5 w-5"}),"Bot View Health Check"]}),e.jsx(w,{children:"Test how search engine bots see your pages"})]}),e.jsx(n,{children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx("p",{className:"text-muted-foreground mb-4",children:"For detailed bot view testing, use the dedicated SEO Health Check tab."}),e.jsxs(u,{variant:"outline",children:[e.jsx(es,{className:"h-4 w-4 mr-2"}),"Open SEO Health Check"]})]})})]}),i&&e.jsxs(l,{children:[e.jsxs(p,{children:[e.jsx(f,{children:"Current Google Policies"}),e.jsxs(w,{children:["Last updated: ",i.lastUpdated]})]}),e.jsx(n,{children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-medium",children:"Meta Title Requirements"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[i.contentGuidelines.onPage.meta_title.minLength,"-",i.contentGuidelines.onPage.meta_title.maxLength," characters"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-medium",children:"Meta Description Requirements"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[i.contentGuidelines.onPage.meta_description.minLength,"-",i.contentGuidelines.onPage.meta_description.maxLength," characters"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-medium",children:"Minimum Content"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[i.contentGuidelines.onPage.content.minWords,"+ words minimum, ",i.contentGuidelines.onPage.content.idealWords,"+ ideal"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-medium",children:"E-E-A-T Focus"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Experience, Expertise, Authoritativeness, Trustworthiness"})]})]})})]})]})]})]})}export{Ts as default};
